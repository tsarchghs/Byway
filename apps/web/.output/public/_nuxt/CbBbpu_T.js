import{u as Y}from"./DL41CzME.js";import{g as j,r as c,k as H,l as I,q as i,w as e,x as m,p as s,o as l,b as t,L as Q,a as _,d as p,B as S,b5 as X,c as v,K as y,t as k,I as U,J as D,m as N,_ as Z}from"./DQDUwbr-.js";import{t as q}from"./DFP984fK.js";const ee={class:"p-4"},te={key:0,class:"institution-banner"},ae=["src"],se={class:"banner-overlay"},oe={class:"inst-name"},ne={class:"inst-sub"},le=["src"],re={class:"card-bottom"},ue=j({__name:"index",setup(ce){const d=c(!1),w=c(!0),f=c(""),h=c(""),b=c([]),r=c(null);H(async()=>{try{const{call:n,endpoints:a}=Y(),g=await n(a.students,`
      query($studentId:String) {
        classroomsByStudent(studentId:$studentId) {
          id
          name
          course
          members
          thumbnail
          avatar
        }
        institutionMeta {
          name
          tagline
          bannerUrl
        }
      }
    `,{studentId:void 0});b.value=g?.classroomsByStudent??[],r.value=g?.institutionMeta??null}catch{r.value={name:"Byway Demo University",tagline:"Learning Without Limits",bannerUrl:"https://images.unsplash.com/photo-1520607162513-77705c0f0d4a"},b.value=[{id:"c101",name:"Cohort A",course:"JS Essentials",members:24,thumbnail:"https://images.unsplash.com/photo-1581276879432-15a43cae5c49"},{id:"c102",name:"Data 2025",course:"Python for Data",members:18,thumbnail:"https://images.unsplash.com/photo-1537432376769-00aabc873637"},{id:"c103",name:"Frontend Bootcamp",course:"Vue 4 Foundations",members:32,thumbnail:"https://images.unsplash.com/photo-1519389950473-47ba0277781c"}]}w.value=!1});const C=I(()=>{let n=b.value;if(f.value){const a=f.value.toLowerCase();n=n.filter(u=>u.name.toLowerCase().includes(a)||u.course.toLowerCase().includes(a))}return h.value&&(n=n.filter(a=>a.course===h.value)),n});function F(){d.value=!d.value,typeof document<"u"&&(d.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}const V=I(()=>[...new Set(b.value.map(n=>n.course))].sort());return(n,a)=>{const u=s("a-button"),g=s("a-tooltip"),x=s("a-space"),z=s("a-page-header"),B=s("a-breadcrumb-item"),E=s("a-breadcrumb"),M=s("a-input-search"),A=s("a-select-option"),O=s("a-select"),L=s("a-card"),$=s("a-avatar"),J=s("a-card-meta"),T=s("a-badge"),G=s("a-col"),K=s("a-row"),P=s("a-empty"),R=s("a-layout"),W=s("a-config-provider");return l(),i(W,{theme:{algorithm:d.value?m(q).darkAlgorithm:m(q).defaultAlgorithm}},{default:e(()=>[t(R,{class:Q(["classrooms-wrap",d.value?"is-dark":""]),"data-test-id":"classrooms-wrap"},{default:e(()=>[t(z,{class:"page-header",title:"Classrooms","sub-title":"Your cohorts & active groups"},{extra:e(()=>[t(x,null,{default:e(()=>[t(u,{href:"/students/courses",type:"default"},{icon:e(()=>[t(m(S))]),default:e(()=>[a[2]||(a[2]=p(" My Courses ",-1))]),_:1}),t(g,{title:"Toggle dark mode"},{default:e(()=>[t(u,{onClick:F,"data-test-id":"toggle-dark"},{default:e(()=>[t(m(X))]),_:1})]),_:1})]),_:1})]),_:1}),_("div",ee,[r.value?(l(),v("div",te,[r.value.bannerUrl?(l(),v("img",{key:0,src:r.value.bannerUrl,alt:"Institution Banner",class:"banner-img"},null,8,ae)):y("",!0),_("div",se,[_("h2",oe,k(r.value.name),1),_("p",ne,k(r.value.tagline),1)])])):y("",!0),t(E,{class:"mb-3 mt-3"},{default:e(()=>[t(B,{to:"/students"},{default:e(()=>[...a[3]||(a[3]=[p("Students",-1)])]),_:1}),t(B,null,{default:e(()=>[...a[4]||(a[4]=[p("Classrooms",-1)])]),_:1})]),_:1}),t(L,{bordered:!1,class:"mb-4"},{default:e(()=>[t(x,{wrap:""},{default:e(()=>[t(M,{value:f.value,"onUpdate:value":a[0]||(a[0]=o=>f.value=o),placeholder:"Search classrooms...",style:{width:"240px"},"data-test-id":"search"},null,8,["value"]),t(O,{value:h.value,"onUpdate:value":a[1]||(a[1]=o=>h.value=o),placeholder:"Filter by course","allow-clear":"",style:{width:"200px"}},{default:e(()=>[(l(!0),v(U,null,D(V.value,o=>(l(),i(A,{key:o,value:o},{default:e(()=>[p(k(o),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),t(K,{gutter:[16,16]},{default:e(()=>[(l(!0),v(U,null,D(C.value,o=>(l(),i(G,{key:o.id,xs:24,sm:12,md:8,lg:6},{default:e(()=>[t(L,{hoverable:"",class:"classroom-card",cover:o.thumbnail?N("img",{src:o.thumbnail,class:"thumb-img"}):N("div",{class:"thumb-placeholder"},"No Image")},{default:e(()=>[t(J,{title:o.name,description:o.course},{avatar:e(()=>[t($,{size:"large"},{default:e(()=>[o.avatar?(l(),v("img",{key:0,src:o.avatar},null,8,le)):(l(),i(m(S),{key:1}))]),_:2},1024)]),_:2},1032,["title","description"]),_("div",re,[t(T,{count:o.members,"show-zero":""},null,8,["count"]),t(u,{type:"primary",size:"small",class:"ml-2",href:`/students/classrooms/${o.id}`,"data-test-id":"open-classroom"},{default:e(()=>[...a[5]||(a[5]=[p(" Open ",-1)])]),_:1},8,["href"])])]),_:2},1032,["cover"])]),_:2},1024))),128))]),_:1}),!C.value.length&&!w.value?(l(),i(P,{key:1,description:"No classrooms found",class:"mt-4"})):y("",!0)])]),_:1},8,["class"])]),_:1},8,["theme"])}}}),_e=Z(ue,[["__scopeId","data-v-2634b604"]]);export{_e as default};
