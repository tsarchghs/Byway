import{d as ce}from"./BSyZAlzx.js";import{g as me,r as _,l as k,k as pe,q as c,w as t,x as G,p as l,o as n,b as e,L as _e,a as ve,b5 as fe,d as o,c as D,K as L,t as v,I as P,m as r,_ as ge}from"./DQDUwbr-.js";import{t as R}from"./DFP984fK.js";const ye={class:"p-4"},be={key:0},ke={key:1,class:"muted"},we={key:0},De=me({__name:"index",setup(Ce){const C=_(!1),x=_(!0),h=_(!1),i=_(null),S=_(""),A=_(""),w=_("dueDate"),m=_([]),W=[{title:"Title",key:"title",dataIndex:"title"},{title:"Course",key:"course",dataIndex:"course"},{title:"Status",key:"status"},{title:"Due",key:"due"},{title:"Grade",key:"grade"},{title:"Actions",key:"actions",fixed:"right"}],z=k(()=>{let s=m.value;if(S.value){const a=S.value.toLowerCase();s=s.filter(d=>d.title.toLowerCase().includes(a)||d.course.toLowerCase().includes(a))}return A.value&&(s=s.filter(a=>a.status===A.value)),w.value==="dueDate"&&s.sort((a,d)=>+new Date(a.dueDate)-+new Date(d.dueDate)),w.value==="course"&&s.sort((a,d)=>a.course.localeCompare(d.course)),w.value==="status"&&s.sort((a,d)=>a.status.localeCompare(d.status)),s}),N=k(()=>z.value.filter(s=>s.status==="assigned"||s.status==="due")),B=k(()=>z.value.filter(s=>s.status==="graded")),j=k(()=>N.value.length),O=k(()=>B.value.length),K=k(()=>m.value.length?Math.round(O.value/m.value.length*100):0),$=s=>({assigned:"blue",due:"gold",graded:"green"})[s]||"default",T=s=>ce(s).format("MMM DD, YYYY"),Q=s=>{i.value=s,h.value=!0};function H(s){return r("a-list-item",{},[r("div",{class:"assign-preview"},[r("div",[r("b",s.title),r("div",{class:"muted"},s.course)]),r(l("a-tag"),{color:$(s.status)},{default:()=>s.status})])])}function X(s){return r("a-list-item",{},[r("div",{class:"assign-preview"},[r("div",[r("b",s.title),r("div",{class:"muted"},s.course)]),r(l("a-tag"),{color:"green"},{default:()=>`${s.grade}%`})])])}function Z(){const s=typeof window<"u"&&localStorage.getItem("student-assignments");s&&(m.value=JSON.parse(s))}function ee(){typeof window<"u"&&localStorage.setItem("student-assignments",JSON.stringify(m.value))}return pe(()=>{Z(),m.value.length===0&&(m.value=[{id:"a1",title:"Essay Draft",course:"Writing 101",status:"due",dueDate:new Date(Date.now()+864e5),description:"Write an essay about your topic.",moduleId:"m1"},{id:"a2",title:"JS Lab 2",course:"JavaScript Essentials",status:"assigned",dueDate:new Date(Date.now()+3*864e5),description:"Complete array exercises.",moduleId:"m2"},{id:"g1",title:"Quiz 1",course:"Python Basics",status:"graded",dueDate:new Date(Date.now()-5*864e5),grade:88,graded:!0,description:"Python quiz",moduleId:"m3"}],ee()),setTimeout(()=>x.value=!1,300)}),(s,a)=>{const d=l("a-button"),te=l("a-tooltip"),U=l("a-space"),ae=l("a-page-header"),M=l("a-breadcrumb-item"),se=l("a-breadcrumb"),I=l("a-statistic"),p=l("a-card"),g=l("a-col"),Y=l("a-row"),le=l("a-input-search"),f=l("a-select-option"),J=l("a-select"),V=l("a-skeleton"),q=l("a-empty"),E=l("a-list"),F=l("a-tag"),oe=l("a-table"),y=l("a-descriptions-item"),ne=l("a-progress"),ue=l("a-descriptions"),de=l("a-modal"),re=l("a-layout"),ie=l("a-config-provider");return n(),c(ie,{theme:{algorithm:C.value?G(R).darkAlgorithm:G(R).defaultAlgorithm}},{default:t(()=>[e(re,{class:_e(["student-assignments-wrap",C.value?"is-dark":""]),"data-test-id":"assignments-wrap"},{default:t(()=>[e(ae,{class:"page-header",title:"Assignments","sub-title":"Your coursework & deadlines","data-test-id":"assignments-header"},{extra:t(()=>[e(U,{wrap:""},{default:t(()=>[e(te,{title:"Toggle dark mode"},{default:t(()=>[e(d,{onClick:a[0]||(a[0]=u=>C.value=!C.value),"data-test-id":"toggle-dark"},{default:t(()=>[e(G(fe))]),_:1})]),_:1})]),_:1})]),_:1}),ve("div",ye,[e(se,{class:"mb-3"},{default:t(()=>[e(M,{to:"/students"},{default:t(()=>[...a[6]||(a[6]=[o("Students",-1)])]),_:1}),e(M,null,{default:t(()=>[...a[7]||(a[7]=[o("Assignments",-1)])]),_:1})]),_:1}),e(Y,{gutter:[12,12],class:"mb-3"},{default:t(()=>[e(g,{xs:12,md:6},{default:t(()=>[e(p,{size:"small",bordered:!1},{default:t(()=>[e(I,{title:"Total",value:m.value.length},null,8,["value"])]),_:1})]),_:1}),e(g,{xs:12,md:6},{default:t(()=>[e(p,{size:"small",bordered:!1},{default:t(()=>[e(I,{title:"Due Soon",value:j.value,"value-style":{color:"#faad14"}},null,8,["value"])]),_:1})]),_:1}),e(g,{xs:12,md:6},{default:t(()=>[e(p,{size:"small",bordered:!1},{default:t(()=>[e(I,{title:"Graded",value:O.value,"value-style":{color:"#52c41a"}},null,8,["value"])]),_:1})]),_:1}),e(g,{xs:12,md:6},{default:t(()=>[e(p,{size:"small",bordered:!1},{default:t(()=>[e(I,{title:"Completion Rate",value:`${K.value}%`},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(p,{bordered:!1,class:"mb-4"},{default:t(()=>[e(U,{wrap:""},{default:t(()=>[e(le,{value:S.value,"onUpdate:value":a[1]||(a[1]=u=>S.value=u),style:{width:"240px"},placeholder:"Search assignments","data-test-id":"search"},null,8,["value"]),e(J,{value:A.value,"onUpdate:value":a[2]||(a[2]=u=>A.value=u),placeholder:"Status",style:{width:"160px"}},{default:t(()=>[e(f,{value:""},{default:t(()=>[...a[8]||(a[8]=[o("All",-1)])]),_:1}),e(f,{value:"assigned"},{default:t(()=>[...a[9]||(a[9]=[o("Assigned",-1)])]),_:1}),e(f,{value:"due"},{default:t(()=>[...a[10]||(a[10]=[o("Due",-1)])]),_:1}),e(f,{value:"graded"},{default:t(()=>[...a[11]||(a[11]=[o("Graded",-1)])]),_:1})]),_:1},8,["value"]),e(J,{value:w.value,"onUpdate:value":a[3]||(a[3]=u=>w.value=u),style:{width:"160px"}},{default:t(()=>[e(f,{value:"dueDate"},{default:t(()=>[...a[12]||(a[12]=[o("Due Date",-1)])]),_:1}),e(f,{value:"course"},{default:t(()=>[...a[13]||(a[13]=[o("Course",-1)])]),_:1}),e(f,{value:"status"},{default:t(()=>[...a[14]||(a[14]=[o("Status",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(Y,{gutter:[12,12]},{default:t(()=>[e(g,{xs:24,md:12},{default:t(()=>[e(p,{title:"ðŸ“… Upcoming",bordered:!1},{default:t(()=>[x.value?(n(),c(V,{key:0,active:""})):N.value.length===0?(n(),c(q,{key:1,description:"No upcoming assignments"})):(n(),c(E,{key:2,"data-source":N.value,"render-item":H},null,8,["data-source"]))]),_:1})]),_:1}),e(g,{xs:24,md:12},{default:t(()=>[e(p,{title:"âœ… Graded",bordered:!1},{default:t(()=>[x.value?(n(),c(V,{key:0,active:""})):B.value.length===0?(n(),c(q,{key:1,description:"Nothing graded yet"})):(n(),c(E,{key:2,"data-source":B.value,"render-item":X},null,8,["data-source"]))]),_:1})]),_:1})]),_:1}),e(p,{title:"ðŸ“Š All Assignments",bordered:!1,class:"mt-4"},{default:t(()=>[e(oe,{columns:W,"data-source":z.value,loading:x.value,scroll:{x:600},"row-key":"id","data-test-id":"assignments-table"},{bodyCell:t(({column:u,record:b})=>[u.key==="status"?(n(),c(F,{key:0,color:$(b.status)},{default:t(()=>[o(v(b.status),1)]),_:2},1032,["color"])):u.key==="due"?(n(),D(P,{key:1},[o(v(T(b.dueDate)),1)],64)):u.key==="grade"?(n(),D(P,{key:2},[b.grade!==void 0?(n(),D("span",be,v(b.grade)+"%",1)):(n(),D("span",ke,"â€”"))],64)):u.key==="actions"?(n(),c(d,{key:3,type:"link",onClick:xe=>Q(b)},{default:t(()=>[...a[15]||(a[15]=[o("Open",-1)])]),_:1},8,["onClick"])):L("",!0)]),_:1},8,["data-source","loading"])]),_:1}),e(de,{open:h.value,"onUpdate:open":a[5]||(a[5]=u=>h.value=u),width:"600",footer:null,title:"Assignment"},{default:t(()=>[i.value?(n(),D("div",we,[e(ue,{column:1,bordered:"",size:"small"},{default:t(()=>[e(y,{label:"Title"},{default:t(()=>[o(v(i.value.title),1)]),_:1}),e(y,{label:"Course"},{default:t(()=>[o(v(i.value.course),1)]),_:1}),e(y,{label:"Status"},{default:t(()=>[e(F,{color:$(i.value.status)},{default:t(()=>[o(v(i.value.status),1)]),_:1},8,["color"])]),_:1}),e(y,{label:"Due"},{default:t(()=>[o(v(T(i.value.dueDate)),1)]),_:1}),i.value.grade!==void 0?(n(),c(y,{key:0,label:"Grade"},{default:t(()=>[e(ne,{percent:i.value.grade},null,8,["percent"])]),_:1})):L("",!0),e(y,{label:"Description"},{default:t(()=>[o(v(i.value.description||"â€”"),1)]),_:1})]),_:1}),e(d,{type:"primary",block:"",class:"mt-3",onClick:a[4]||(a[4]=u=>s.$router.push(`/modules/${i.value.moduleId}/view`))},{default:t(()=>[...a[16]||(a[16]=[o(" Open Lesson ",-1)])]),_:1})])):L("",!0)]),_:1},8,["open"])])]),_:1},8,["class"])]),_:1},8,["theme"])}}}),he=ge(De,[["__scopeId","data-v-18cbcd38"]]);export{he as default};
