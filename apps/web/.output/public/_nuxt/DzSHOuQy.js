import{g as W,p as s,c as G,o as k,b as e,a as f,a9 as T,w as n,d as r,t as C,r as m,l as X,I as J,ak as dt,m as u,x as A,ao as gt,ap as pt,aq as ct,q as z,J as vt,ag as mt,n as B,al as ft,_ as ht}from"./DQDUwbr-.js";import{H as _t}from"./CN_SqyUH.js";import{u as Rt}from"./CLh6bXrM.js";import"./Cv_gb3jg.js";import"./CI-SnmTa.js";const yt={style:{"margin-bottom":"12px",display:"flex",gap:"8px"}},Q=W({__name:"FiltersPanel",props:{minRating:{},durationRange:{},levels:{},languages:{}},emits:["update:minRating","update:durationRange","update:levels","update:languages","reset"],setup(b,{emit:S}){const v=S;return(x,l)=>{const R=s("a-typography-title"),g=s("a-radio"),p=s("a-rate"),h=s("a-radio-group"),_=s("a-slider"),I=s("a-tag"),L=s("a-checkbox-group"),w=s("a-button"),U=s("a-space");return k(),G("div",null,[e(R,{level:5},{default:n(()=>[...l[5]||(l[5]=[r("Ratings",-1)])]),_:1}),e(h,{value:b.minRating,onChange:l[0]||(l[0]=c=>v("update:minRating",c.target.value)),style:{display:"flex",gap:"8px","flex-direction":"column","margin-bottom":"12px"}},{default:n(()=>[e(g,{value:0},{default:n(()=>[...l[6]||(l[6]=[r("Any",-1)])]),_:1}),e(g,{value:4},{default:n(()=>[e(p,{disabled:"","allow-half":"",value:4,style:{"font-size":"14px"}}),l[7]||(l[7]=r(" 4.0+ ",-1))]),_:1}),e(g,{value:3},{default:n(()=>[e(p,{disabled:"","allow-half":"",value:3,style:{"font-size":"14px"}}),l[8]||(l[8]=r(" 3.0+ ",-1))]),_:1}),e(g,{value:2},{default:n(()=>[e(p,{disabled:"","allow-half":"",value:2,style:{"font-size":"14px"}}),l[9]||(l[9]=r(" 2.0+ ",-1))]),_:1})]),_:1},8,["value"]),e(R,{level:5},{default:n(()=>[...l[10]||(l[10]=[r("Duration (hours)",-1)])]),_:1}),e(_,{range:"",min:0,max:30,step:1,value:b.durationRange,onChange:l[1]||(l[1]=c=>v("update:durationRange",c))},null,8,["value"]),f("div",yt,[e(I,null,{default:n(()=>[r(C(b.durationRange[0])+"h",1)]),_:1}),e(I,null,{default:n(()=>[r(C(b.durationRange[1])+"h",1)]),_:1})]),e(R,{level:5},{default:n(()=>[...l[11]||(l[11]=[r("Level",-1)])]),_:1}),e(L,{value:b.levels,options:["Beginner","Intermediate","Advanced"],onChange:l[2]||(l[2]=c=>v("update:levels",c)),style:{display:"flex","flex-direction":"column",gap:"6px","margin-bottom":"12px"}},null,8,["value"]),e(R,{level:5},{default:n(()=>[...l[12]||(l[12]=[r("Language",-1)])]),_:1}),e(L,{value:b.languages,options:["English","Spanish","Italian","German"],onChange:l[3]||(l[3]=c=>v("update:languages",c)),style:{display:"flex","flex-direction":"column",gap:"6px","margin-bottom":"12px"}},null,8,["value"]),e(U,null,{default:n(()=>[e(w,{onClick:l[4]||(l[4]=c=>v("reset"))},{default:n(()=>[...l[13]||(l[13]=[r("Reset",-1)])]),_:1})]),_:1}),T(x.$slots,"filters-extra")])}}}),Ct={class:"catalogue"},bt={class:"catalogue-header"},wt={class:"catalogue-body"},xt={class:"product-content"},kt={class:"rating"},It={class:"rating-count"},Lt={class:"product-meta"},$t={class:"card-footer"},Ut={class:"pagination"},E=12,At=W({__name:"courses-listing",setup(b){const S=m([{id:"1",title:"Beginner’s Guide to Design",author:"Ronald Richards",rating:4.7,ratingsCount:1200,hours:22,lectures:155,level:"Beginner",price:149.9,image:"https://images.unsplash.com/photo-1553877522-43269d4ea984?q=80&w=800&auto=format&fit=crop",language:"English"},{id:"2",title:"Advanced Interaction Patterns",author:"Ronald Richards",rating:4.8,ratingsCount:980,hours:18,lectures:120,level:"Intermediate",price:179,image:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=800&auto=format&fit=crop",language:"German"},{id:"3",title:"Design Systems in Practice",author:"Ronald Richards",rating:4.6,ratingsCount:1400,hours:30,lectures:180,level:"Advanced",price:199,image:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=800&auto=format&fit=crop",language:"Italian"},{id:"4",title:"Practical Usability Testing",author:"Ronald Richards",rating:4.5,ratingsCount:700,hours:14,lectures:88,level:"Intermediate",price:139,image:"https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?q=80&w=800&auto=format&fit=crop",language:"Spanish"},{id:"5",title:"Wireframing to Prototyping",author:"Ronald Richards",rating:4.4,ratingsCount:560,hours:10,lectures:75,level:"Beginner",price:119,image:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?q=80&w=800&auto=format&fit=crop",language:"English"},{id:"6",title:"Information Architecture Basics",author:"Ronald Richards",rating:4.2,ratingsCount:350,hours:12,lectures:80,level:"Beginner",price:109,image:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?q=80&w=800&auto=format&fit=crop",language:"German"},{id:"7",title:"Interaction Design Fundamentals",author:"Ronald Richards",rating:4.9,ratingsCount:2200,hours:26,lectures:160,level:"Intermediate",price:189,image:"https://images.unsplash.com/photo-1531482615713-2afd69097998?q=80&w=800&auto=format&fit=crop",language:"English"},{id:"8",title:"UX Research Field Guide",author:"Ronald Richards",rating:4.1,ratingsCount:260,hours:8,lectures:60,level:"Beginner",price:89,image:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?q=80&w=800&auto=format&fit=crop",language:"Italian"},{id:"9",title:"Mobile UX Patterns",author:"Ronald Richards",rating:4.3,ratingsCount:410,hours:16,lectures:90,level:"Intermediate",price:149,image:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=800&auto=format&fit=crop",language:"Spanish"},{id:"10",title:"Accessibility for Designers",author:"Ronald Richards",rating:4.6,ratingsCount:860,hours:12,lectures:70,level:"Beginner",price:129,image:"https://images.unsplash.com/photo-1522075469751-3a6694fb2f61?q=80&w=800&auto=format&fit=crop",language:"English"}]),v=m(""),x=m("popular"),l=m("grid"),R=m(!1),g=m(0),p=m([0,30]),h=m([]),_=m([]);function I(){g.value=0,p.value=[0,30],h.value=[],_.value=[]}const L=X(()=>{const o=v.value.trim().toLowerCase();let t=S.value.filter(i=>{const d=!o||i.title.toLowerCase().includes(o)||i.author.toLowerCase().includes(o),q=i.rating>=(g.value||0),y=i.hours>=p.value[0]&&i.hours<=p.value[1],D=!h.value.length||h.value.includes(i.level),F=!_.value.length||_.value.includes(i.language);return d&&q&&y&&D&&F});switch(x.value){case"rating":t.sort((i,d)=>d.rating-i.rating||d.ratingsCount-i.ratingsCount);break;case"priceAsc":t.sort((i,d)=>i.price-d.price);break;case"priceDesc":t.sort((i,d)=>d.price-i.price);break;case"hoursAsc":t.sort((i,d)=>i.hours-d.hours);break;case"hoursDesc":t.sort((i,d)=>d.hours-i.hours);break;default:t.sort((i,d)=>d.ratingsCount-i.ratingsCount||d.rating-i.rating)}return t}),w=m(1),U=X(()=>L.value.slice((w.value-1)*E,w.value*E)),c=dt(),{addToCart:Y,isInCart:j,loading:H}=Rt();function M(o){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(o)}async function N(o){try{await Y(o.id,1),B.success(`Added "${o.title}" to cart`)}catch(t){t?.message?.includes("authenticated")?(B.warning("Please log in to add courses to your cart"),c.push("/login")):t?.message?.includes("Already enrolled")?B.info(`You're already enrolled in "${o.title}"`):B.error(t?.message||"Failed to add course to cart")}}function $(o){return j(o)}function O(o){c.push(`/courses/${o}`)}function K(o){return u("div",{class:"list-item"},[u("div",{class:"list-thumb-wrap",onClick:()=>O(o.id)},[u("img",{class:"list-thumb",src:o.image,alt:o.title})]),u("div",{class:"list-main"},[u("div",{class:"list-title"},o.title),u("div",{class:"list-author"},`By ${o.author}`),u("div",{class:"list-row"},[u("span",{class:"list-rating"},[u("span",{class:"rating-number"},o.rating.toFixed(1)),u("span",{class:"rating-stars"},[u("span",null," ")])]),u("span",null,`• ${o.ratingsCount.toLocaleString()} ratings`),u("span",null,`• ${o.hours}h • ${o.lectures} lectures • ${o.level}`)]),u("div",{class:"list-price"},M(o.price)),u("div",{class:"list-actions"},[u("button",{class:["add-link",$(o.id)&&"in-cart"],onClick:()=>N(o),disabled:H.value||$(o.id)},[u(ft)," ",$(o.id)?"In Cart":"Add to cart"])])])])}return(o,t)=>{const i=s("a-typography-title"),d=s("a-button"),q=s("a-input-search"),y=s("a-select-option"),D=s("a-select"),F=s("a-segmented"),Z=s("a-space"),V=s("a-card"),tt=s("a-affix"),P=s("a-col"),et=s("a-image"),at=s("a-card-meta"),nt=s("a-rate"),lt=s("a-typography-text"),ot=s("a-row"),st=s("a-list"),it=s("a-pagination"),rt=s("a-drawer");return k(),G(J,null,[e(_t),f("div",Ct,[f("div",bt,[e(i,{level:2,class:"catalogue-title"},{default:n(()=>[...t[15]||(t[15]=[r("All Courses",-1)])]),_:1}),e(Z,{size:[12,8],wrap:"",class:"catalogue-controls"},{default:n(()=>[e(d,{icon:u(A(gt)),onClick:t[0]||(t[0]=a=>R.value=!0)},{default:n(()=>[...t[16]||(t[16]=[r("Filter",-1)])]),_:1},8,["icon"]),e(q,{value:v.value,"onUpdate:value":t[1]||(t[1]=a=>v.value=a),placeholder:"Search courses…","allow-clear":"",style:{width:"260px"},onSearch:t[2]||(t[2]=a=>w.value=1)},null,8,["value"]),e(D,{value:x.value,"onUpdate:value":t[3]||(t[3]=a=>x.value=a),style:{width:"180px"}},{default:n(()=>[e(y,{value:"popular"},{default:n(()=>[...t[17]||(t[17]=[r("Popularity",-1)])]),_:1}),e(y,{value:"rating"},{default:n(()=>[...t[18]||(t[18]=[r("Rating",-1)])]),_:1}),e(y,{value:"priceAsc"},{default:n(()=>[...t[19]||(t[19]=[r("Price: Low → High",-1)])]),_:1}),e(y,{value:"priceDesc"},{default:n(()=>[...t[20]||(t[20]=[r("Price: High → Low",-1)])]),_:1}),e(y,{value:"hoursAsc"},{default:n(()=>[...t[21]||(t[21]=[r("Duration: Short → Long",-1)])]),_:1}),e(y,{value:"hoursDesc"},{default:n(()=>[...t[22]||(t[22]=[r("Duration: Long → Short",-1)])]),_:1})]),_:1},8,["value"]),e(F,{value:l.value,"onUpdate:value":t[4]||(t[4]=a=>l.value=a),options:[{label:"Grid",value:"grid",icon:u(A(pt))},{label:"List",value:"list",icon:u(A(ct))}]},null,8,["value","options"]),T(o.$slots,"toolbar-right",{filters:{q:v.value,sortBy:x.value,viewMode:l.value}},void 0,!0)]),_:3})]),f("div",wt,[e(P,{xs:0,lg:6},{default:n(()=>[e(tt,{"offset-top":80},{default:n(()=>[e(V,{title:"Filters",class:"filters"},{default:n(()=>[e(Q,{minRating:g.value,"onUpdate:minRating":t[5]||(t[5]=a=>g.value=a),durationRange:p.value,"onUpdate:durationRange":t[6]||(t[6]=a=>p.value=a),levels:h.value,"onUpdate:levels":t[7]||(t[7]=a=>h.value=a),languages:_.value,"onUpdate:languages":t[8]||(t[8]=a=>_.value=a),onReset:I},null,8,["minRating","durationRange","levels","languages"])]),_:1})]),_:1})]),_:1}),e(P,{xs:24,lg:18},{default:n(()=>[l.value==="grid"?(k(),z(ot,{key:0,gutter:[16,16],class:"product-grid"},{default:n(()=>[(k(!0),G(J,null,vt(U.value,a=>(k(),z(P,{key:a.id,xs:24,sm:12,md:8,lg:8,xl:6},{default:n(()=>[e(V,{hoverable:"",class:"product-card",onClick:ut=>O(a.id)},{cover:n(()=>[e(et,{src:a.image,alt:a.title,class:"product-image",preview:!1},null,8,["src","alt"])]),default:n(()=>[e(at,{title:a.title,description:`By ${a.author}`},null,8,["title","description"]),f("div",xt,[f("div",kt,[e(nt,{value:a.rating,"allow-half":"",disabled:"",style:{"font-size":"14px"}},null,8,["value"]),f("span",It,"("+C(a.ratingsCount.toLocaleString())+")",1)]),f("div",Lt,C(a.hours)+"h · "+C(a.lectures)+" lectures · "+C(a.level),1),f("div",$t,[e(lt,{strong:"",class:"product-price"},{default:n(()=>[r(C(M(a.price)),1)]),_:2},1024),e(d,{type:"link",size:"small",onClick:mt(ut=>N(a),["stop"]),loading:A(H),disabled:$(a.id)},{default:n(()=>[r(C($(a.id)?"In Cart":"Add to cart"),1)]),_:2},1032,["onClick","loading","disabled"])])]),T(o.$slots,"card-extra",{course:a},void 0,!0)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:3})):(k(),z(st,{key:1,"item-layout":"vertical","data-source":U.value,renderItem:K,split:!0},null,8,["data-source"])),f("div",Ut,[e(it,{current:w.value,"onUpdate:current":t[9]||(t[9]=a=>w.value=a),pageSize:E,total:L.value.length,"show-less-items":""},null,8,["current","total"])])]),_:3})]),e(rt,{open:R.value,"onUpdate:open":t[14]||(t[14]=a=>R.value=a),title:"Filter Courses",placement:"left",width:320},{default:n(()=>[e(Q,{minRating:g.value,"onUpdate:minRating":t[10]||(t[10]=a=>g.value=a),durationRange:p.value,"onUpdate:durationRange":t[11]||(t[11]=a=>p.value=a),levels:h.value,"onUpdate:levels":t[12]||(t[12]=a=>h.value=a),languages:_.value,"onUpdate:languages":t[13]||(t[13]=a=>_.value=a),onReset:I},null,8,["minRating","durationRange","levels","languages"])]),_:1},8,["open"])])],64)}}}),Pt=ht(At,[["__scopeId","data-v-fb5d7a59"]]);export{Pt as default};
