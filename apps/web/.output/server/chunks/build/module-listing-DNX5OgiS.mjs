import { defineComponent, ref, computed, reactive, resolveComponent, mergeProps, unref, withCtx, createVNode, createTextVNode, toDisplayString, createBlock, openBlock, Fragment, renderList, createCommentVNode, createSlots, withModifiers, h, nextTick, useSSRContext } from 'vue';
import { ssrRenderComponent, ssrRenderList, ssrInterpolate, ssrRenderStyle, ssrRenderAttr } from 'vue/server-renderer';
import gql from 'graphql-tag';
import { useRoute, useRouter } from 'vue-router';
import { theme, message } from 'ant-design-vue';
import { SettingOutlined, BulbOutlined, FontSizeOutlined, BugOutlined, CloudSyncOutlined, PlayCircleOutlined, FieldTimeOutlined, SortAscendingOutlined, ClockCircleOutlined, CodeOutlined, ReloadOutlined, CheckOutlined, ArrowRightOutlined, BookOutlined, PrinterOutlined, UploadOutlined } from '@ant-design/icons-vue';
import { _ as _export_sfc } from './server.mjs';
import '../_/nitro.mjs';
import 'node:http';
import 'node:https';
import 'node:events';
import 'node:buffer';
import 'node:fs';
import 'node:path';
import 'node:crypto';
import 'node:url';
import '../routes/renderer.mjs';
import 'vue-bundle-renderer/runtime';
import 'unhead/server';
import 'devalue';
import 'unhead/utils';
import '@apollo/client/core/index.js';
import '@apollo/client/link/context/index.js';
import '@vue/apollo-composable';

const LAB_API = "http://localhost:4000/api/teacher-course-lab";
const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "module-listing",
  __ssrInlineRender: true,
  setup(__props) {
    gql`query Me { me { id email displayName roles } }`;
    ref(false);
    const dict = {
      en: {
        "Course": "Course",
        "Choose a module": "Choose a module",
        "Overview": "Overview",
        "min": "min",
        "Online": "Online",
        "Offline": "Offline",
        "Mock": "Mock",
        "Live": "Live",
        "View": "View",
        "Toggle dark": "Toggle dark",
        "Increase font size": "Increase font size",
        "Decrease font size": "Decrease font size",
        "Keyboard shortcuts": "Keyboard shortcuts",
        "Debug & mocks": "Debug & mocks",
        "Import / Export": "Import / Export",
        "Reload": "Reload",
        "Resume": "Resume",
        "Restart lab": "Restart lab",
        "Update container with saved code": "Update container with saved code",
        "Updating container with your saved code...": "Updating container with your saved code...",
        "Container refreshed with your latest workspace": "Container refreshed with your latest workspace",
        "Failed to update container": "Failed to update container",
        "Lab session restarted": "Lab session restarted",
        "Failed to restart lab session": "Failed to restart lab session",
        "lessons": "lessons",
        "Search lessons": "Search lessons",
        "All": "All",
        "Video": "Video",
        "Reading": "Reading",
        "Quiz": "Quiz",
        "Assign.": "Assign.",
        "Lab": "Lab",
        "Hide completed": "Hide completed",
        "Sort": "Sort",
        "Pick a module to see its lessons": "Pick a module to see its lessons",
        "Untitled lesson": "Untitled lesson",
        "Done": "Done",
        "Locked": "Locked",
        "Preview": "Preview",
        "Course overview": "Course overview",
        "Browse modules and jump in — everything runs in this page.": "Browse modules and jump in — everything runs in this page.",
        "No modules yet": "No modules yet",
        "Enroll to unlock full access": "Enroll to unlock full access",
        "You can still watch previews and read public materials.": "You can still watch previews and read public materials.",
        "Enroll now": "Enroll now",
        "See pricing": "See pricing",
        "Lesson": "Lesson",
        "Course progress": "Course progress",
        "Bookmark current lesson": "Bookmark current lesson",
        "Print lesson": "Print lesson",
        "This lesson is locked": "This lesson is locked",
        "Complete prerequisite lesson(s):": "Complete prerequisite lesson(s):",
        "Unlocks at:": "Unlocks at:",
        "Enroll": "Enroll",
        "Go to next available": "Go to next available",
        "Bookmark timestamp": "Bookmark timestamp",
        "Video URL:": "Video URL:",
        "Notes": "Notes",
        "Lesson content": "Lesson content",
        "No content": "No content",
        "Highlights": "Highlights",
        "No highlights": "No highlights",
        "(empty)": "(empty)",
        "Option": "Option",
        "Your answer": "Your answer",
        "True": "True",
        "False": "False",
        "Submit quiz": "Submit quiz",
        "Mark complete": "Mark complete",
        "Unsupported lesson type.": "Unsupported lesson type.",
        "Your notes for this lesson": "Your notes for this lesson",
        "Mark as incomplete": "Mark as incomplete",
        "Previous": "Previous",
        "Next": "Next",
        "Auto-next on complete": "Auto-next on complete",
        "Progress": "Progress",
        "Resources": "Resources",
        "Attachments": "Attachments",
        "No resources": "No resources",
        "Attachment": "Attachment",
        "Your notes": "Your notes",
        "Lesson notes": "Lesson notes",
        "Type highlight and press +": "Type highlight and press +",
        "Remove": "Remove",
        "Q&A": "Q&A",
        "Questions & Answers": "Questions & Answers",
        "Ask a question": "Ask a question",
        "Post": "Post",
        "Clear": "Clear",
        "Bookmarks": "Bookmarks",
        "Go": "Go",
        "Import / Export progress": "Import / Export progress",
        "Export": "Export",
        "Download your progress as JSON.": "Download your progress as JSON.",
        "Export JSON": "Export JSON",
        "Import": "Import",
        "Paste JSON below and import.": "Paste JSON below and import.",
        "Pricing": "Pricing",
        "Enroll now (mock)": "Enroll now (mock)",
        "Basic · Free preview": "Basic · Free preview",
        "Pro · Full course + certificate": "Pro · Full course + certificate",
        "Team · Up to 10 seats": "Team · Up to 10 seats",
        "Submit assignment": "Submit assignment",
        "Assignment brief": "Assignment brief",
        "Rubric": "Rubric",
        "Link to work (URL)": "Link to work (URL)",
        "Attach files (mock)": "Attach files (mock)",
        "Click to attach": "Click to attach",
        "Cancel": "Cancel",
        "Submit": "Submit",
        "No lessons found": "No lessons found",
        "Open lab": "Open lab",
        "Start lab session": "Start lab session",
        "Open VS Code": "Open VS Code",
        "Open in new tab": "Open in new tab",
        "Submit lab": "Submit lab",
        "Restart lab": "Restart lab",
        "Challenge": "Challenge",
        "Difficulty": "Difficulty",
        "Description": "Description",
        "Session status": "Session status",
        "VS Code URL": "VS Code URL",
        "Latest submission": "Latest submission",
        "Grade": "Grade",
        "Feedback": "Feedback",
        "Please log in to start a lab session": "Please log in to start a lab session",
        "Lab challenge not found for this lesson. Please contact your teacher.": "Lab challenge not found for this lesson. Please contact your teacher.",
        "Lab session started": "Lab session started",
        "Session started. Code server will be available shortly.": "Session started. Code server will be available shortly.",
        "Failed to start lab session": "Failed to start lab session",
        "No active lab session": "No active lab session",
        "Please start a lab session first": "Please start a lab session first",
        "Please log in to submit lab work": "Please log in to submit lab work",
        "Lab work submitted. Grading in progress...": "Lab work submitted. Grading in progress...",
        "Failed to submit lab work": "Failed to submit lab work",
        "Lab session restarted": "Lab session restarted",
        "Failed to restart lab session": "Failed to restart lab session",
        "Grading complete": "Grading complete",
        "Failed to submit": "Failed to submit",
        "Starting lab session...": "Starting lab session...",
        "Opening VS Code in new tab...": "Opening VS Code in new tab...",
        "Session started. Code server will be available shortly. Please refresh in a moment.": "Session started. Code server will be available shortly. Please refresh in a moment.",
        "Code server is ready!": "Code server is ready!",
        "Session encountered an error. Please try again.": "Session encountered an error. Please try again.",
        "Submitting lab work...": "Submitting lab work...",
        "Lab session must be running to submit. Please start a session first.": "Lab session must be running to submit. Please start a session first.",
        "Grading complete! Your lab passed.": "Grading complete! Your lab passed.",
        "Grading complete. Some tests failed.": "Grading complete. Some tests failed.",
        "Grading is taking longer than expected. Please check back later.": "Grading is taking longer than expected. Please check back later.",
        "Please log in to view submission status": "Please log in to view submission status",
        "Session created but no session data returned": "Session created but no session data returned",
        "No submission data returned": "No submission data returned",
        "Lab challenge not found for this lesson. Please contact your teacher to set up this lab.": "Lab challenge not found for this lesson. Please contact your teacher to set up this lab."
      }
    };
    function t(k) {
      return dict.en[k] || k;
    }
    const isDark = ref(false);
    const siderCollapsed = ref(false);
    const rightCollapsed = ref(false);
    const rightTab = ref("progress");
    const filter = ref("");
    const filterType = ref("all");
    const hideCompleted = ref(false);
    const sortKeyArr = ref(["title"]);
    const sortKey = computed(() => sortKeyArr.value[0] || "title");
    const fontScale = ref(15);
    const autoNext = ref(true);
    const route = useRoute();
    const router = useRouter();
    const loadingCourse = ref(false);
    const loadingModule = ref(false);
    const course = reactive({ id: "", title: "", category: "", difficulty: "Beginner", coverUrl: "" });
    const modules = ref([]);
    const lessons = ref([]);
    const moduleT = ref(null);
    const currentIndex = ref(0);
    const progress = reactive({
      completedLessonIds: [],
      lastLessonId: void 0
    });
    const isEnrolledCourse = ref(true);
    const html5Video = ref(null);
    const videoSpeed = ref(1);
    const notes = reactive({ global: { text: "", highlights: [] } });
    const newHighlight = ref("");
    reactive([]);
    const qaDraft = ref("");
    const bookmarks = reactive([]);
    const ratings = reactive({});
    const telemetry = reactive([]);
    const isOnline = ref(true);
    const usingMocks = ref(false);
    const mockReason = ref("");
    const forceMock = ref(false);
    const openImportExport = ref(false);
    const importJson = ref("");
    const openShortcuts = ref(false);
    const openPricing = ref(false);
    const pricingTier = ref("pro");
    const openDebug = ref(false);
    const submitOpen = ref(false);
    const submitting = ref(false);
    const submitForm = reactive({ notes: "", url: "" });
    const labChallenges = reactive({});
    const labSessions = reactive({});
    const labSubmissions = reactive({});
    const labSessionStarting = reactive({});
    const labSubmitting = reactive({});
    const labRestarting = reactive({});
    const labRefreshing = reactive({});
    const lessonShares = reactive({});
    const shareUploading = reactive({
      resource: false,
      attachment: false
    });
    const selectedModuleId = computed(() => String(route?.params?.module_id || ""));
    const selectedCourseId = computed(() => String(route?.params?.course_id || route?.params?.courseId || ""));
    const selectedStudentId = computed(() => String(route?.params?.student_id || route?.params?.studentId || ""));
    const hasModules = computed(() => modules.value.length > 0);
    const currentModuleReady = computed(() => !!moduleT.value && lessons.value.length > 0);
    const ytEmbed = (url) => {
      if (!url) return "";
      if (/youtube\.com|youtu\.be/.test(url)) {
        const id = url.match(/(?:v=|be\/)([A-Za-z0-9_-]{6,})/)?.[1];
        return id ? `https://www.youtube.com/embed/${id}?rel=0` : "";
      }
      return "";
    };
    const unlockAtDate = (l) => l.unlockAt ? new Date(l.unlockAt).toLocaleString() : "";
    const currentLesson = computed(() => lessons.value[currentIndex.value]);
    const totalMinutes = computed(() => lessons.value.reduce((s, l) => s + (l.duration || 0), 0));
    const progressPercent = computed(
      () => lessons.value.length ? Math.round(progress.completedLessonIds.length / lessons.value.length * 100) : 0
    );
    const coverStyle = computed(() => ({
      backgroundImage: course.coverUrl ? `url('${course.coverUrl}')` : "linear-gradient(135deg,#111,#334155)"
    }));
    const combinedResources = computed(() => {
      const lesson = currentLesson.value;
      if (!lesson) return [];
      const fromMetadata = lesson.resources || [];
      const extras = (lessonShares[lesson.id] || []).filter((item) => item.kind === "resource");
      return [
        ...fromMetadata,
        ...extras.map((r) => ({ title: r.title, url: r.url, name: r.title }))
      ];
    });
    const combinedAttachments = computed(() => {
      const lesson = currentLesson.value;
      if (!lesson) return [];
      const fromMetadata = lesson.attachments || [];
      const extras = (lessonShares[lesson.id] || []).filter((item) => item.kind === "attachment");
      return [
        ...fromMetadata,
        ...extras.map((r) => ({ name: r.title, url: r.url }))
      ];
    });
    const filteredLessons = computed(() => {
      let arr = lessons.value.slice();
      const q = filter.value.trim().toLowerCase();
      if (q) {
        arr = arr.filter(
          (l) => (l.title || "").toLowerCase().includes(q) || (l.type || "").toLowerCase().includes(q)
        );
      }
      if (filterType.value !== "all") {
        arr = arr.filter((l) => l.type === filterType.value);
      }
      if (hideCompleted.value) {
        arr = arr.filter((l) => !isCompleted(l.id));
      }
      if (sortKey.value === "title") {
        arr.sort((a, b) => (a.title || "").localeCompare(b.title || ""));
      } else if (sortKey.value === "duration") {
        arr.sort((a, b) => (a.duration || 0) - (b.duration || 0));
      } else if (sortKey.value === "type") {
        arr.sort((a, b) => (a.type || "").localeCompare(b.type || ""));
      }
      return arr;
    });
    function onSortChange({ key }) {
      sortKeyArr.value = [key];
    }
    const isCompleted = (lessonId) => progress.completedLessonIds.includes(lessonId);
    const labelForLesson = (id) => lessons.value.find((l) => l.id === id)?.title || "";
    function isLocked(l) {
      return false;
    }
    async function pickAndUpload(kind) {
      return null;
    }
    reactive({
      course: false,
      modules: false,
      progress: false
    });
    function select(i) {
      const lesson = lessons.value[i];
      if (!lesson) return;
      currentIndex.value = i;
      nextTick(() => {
        const el = (void 0).querySelector(`[data-test-id="lesson-row-${i}"]`);
        el?.scrollIntoView({ block: "center", behavior: "smooth" });
      });
    }
    function ensureNoteForLesson(id) {
      if (!notes[id]) {
        notes[id] = { text: "", highlights: [] };
      }
      return notes[id];
    }
    function switchModule(newModuleId) {
      if (!newModuleId) return;
      router.replace({
        name: route.name,
        // keep same page
        params: {
          ...route.params,
          module_id: newModuleId
          // update only this part
        }
      });
    }
    function getAuthHeaders() {
      return { "Content-Type": "application/json" };
    }
    async function fetchLabChallenge(lessonId) {
      if (!lessonId || !selectedCourseId.value) return null;
      try {
        if (labChallenges[lessonId]) {
          return labChallenges[lessonId];
        }
        const lessonResp = await fetch(`${LAB_API}/challenges/by-lesson/${lessonId}`, {
          method: "GET",
          headers: getAuthHeaders(),
          credentials: "include"
        }).catch(() => null);
        if (lessonResp?.ok) {
          const lessonData = await lessonResp.json();
          if (lessonData.challenge) {
            labChallenges[lessonId] = lessonData.challenge;
            return lessonData.challenge;
          }
        } else if (lessonResp && lessonResp.status === 401) {
          console.warn("[Lab] Not authenticated to fetch lesson challenge");
        }
        const resp = await fetch(`${LAB_API}/challenges`, {
          method: "GET",
          headers: getAuthHeaders(),
          credentials: "include"
        });
        if (resp.ok) {
          const data = await resp.json();
          const challenge = data.items?.find(
            (c) => c.lessonId === lessonId && (c.courseId === selectedCourseId.value || !c.courseId)
          );
          if (challenge) {
            labChallenges[lessonId] = challenge;
            return challenge;
          }
        } else if (resp.status === 401) {
          console.warn("[Lab] Not authenticated to fetch challenges");
        }
      } catch (err) {
        console.warn("[Lab] Failed to fetch challenge:", err);
      }
      return null;
    }
    async function fetchLabSession(challengeId, lessonId) {
      if (!challengeId || !selectedStudentId.value) return;
      try {
        const resp = await fetch(`${LAB_API}/sessions/me`, {
          method: "GET",
          headers: getAuthHeaders(),
          credentials: "include"
        });
        if (resp.ok) {
          const data = await resp.json();
          const session = data.sessions?.find(
            (s) => s.challengeId === challengeId && s.userId === selectedStudentId.value
          );
          if (session) {
            labSessions[lessonId] = session;
            if (session.submissions && session.submissions.length > 0) {
              const latest = session.submissions[0];
              labSubmissions[lessonId] = latest;
            }
            return session;
          }
        }
      } catch (err) {
        console.warn("[Lab] Failed to fetch session:", err);
      }
      return null;
    }
    async function openLab(lesson) {
      if (!lesson?.id) return;
      if (!selectedStudentId.value) {
        return message.warning(t("Please log in to start a lab session"));
      }
      labSessionStarting[lesson.id] = true;
      try {
        let challenge = labChallenges[lesson.id];
        if (!challenge) {
          challenge = await fetchLabChallenge(lesson.id);
        }
        if (!challenge) {
          try {
            const metaResp = await fetch(`${LAB_API}/challenges/by-lesson/${lesson.id}`, {
              method: "GET",
              headers: getAuthHeaders(),
              credentials: "include"
            }).catch(() => null);
            if (metaResp?.ok) {
              const metaData = await metaResp.json();
              if (metaData.challenge) {
                challenge = metaData.challenge;
                labChallenges[lesson.id] = challenge;
              }
            }
          } catch (e) {
            console.warn("[Lab] Failed to fetch challenge metadata:", e);
          }
          if (!challenge) {
            return message.error(t("Lab challenge not found for this lesson. Please contact your teacher to set up this lab."));
          }
        }
        let session = await fetchLabSession(challenge.id, lesson.id);
        if (!session || session.status === "stopped" || session.status === "error") {
          message.loading(t("Starting lab session..."), 0);
          const resp = await fetch(`${LAB_API}/session/start`, {
            method: "POST",
            headers: getAuthHeaders(),
            credentials: "include",
            body: JSON.stringify({
              challengeId: challenge.id
            })
          });
          message.destroy();
          if (!resp.ok) {
            const err = await resp.json().catch(() => ({ error: t("Failed to start session") }));
            throw new Error(err.error || `HTTP ${resp.status}`);
          }
          const data = await resp.json();
          session = data.session;
          if (!session) {
            throw new Error(t("Session created but no session data returned"));
          }
          labSessions[lesson.id] = session;
          message.success(t("Lab session started"));
          if (!session.codeServerUrl && (session.status === "starting" || session.status === "running")) {
            pollForCodeServerUrl(session.id, challenge.id, lesson.id).catch(() => {
            });
          } else {
            await fetchLabSession(challenge.id, lesson.id);
          }
        } else {
          await fetchLabSession(challenge.id, lesson.id);
        }
        if (session?.codeServerUrl) {
          (void 0).open(session.codeServerUrl, "_blank");
          message.success(t("Opening VS Code in new tab..."));
        } else {
          message.info(t("Session started. Code server will be available shortly. Please refresh in a moment."));
        }
      } catch (err) {
        console.error("[Lab] Failed to start session:", err);
        message.error(err?.message || t("Failed to start lab session"));
      } finally {
        labSessionStarting[lesson.id] = false;
      }
    }
    async function pollForCodeServerUrl(sessionId, challengeId, lessonId, maxAttempts = 10) {
      let attempts = 0;
      const poll = async () => {
        attempts++;
        try {
          const session = await fetchLabSession(challengeId, lessonId);
          if (session?.codeServerUrl) {
            labSessions[lessonId] = session;
            message.success(t("Code server is ready!"));
            return true;
          }
          if (attempts < maxAttempts && (session?.status === "starting" || session?.status === "running")) {
            setTimeout(poll, 2e3);
          } else if (session?.status === "error") {
            message.error(t("Session encountered an error. Please try again."));
            return false;
          }
        } catch (err) {
          console.warn("[Lab] Poll error:", err);
          if (attempts < maxAttempts) {
            setTimeout(poll, 2e3);
          }
        }
        return false;
      };
      await poll();
    }
    function openLabUrl(lesson) {
      if (!lesson?.id) return;
      const session = labSessions[lesson.id];
      if (session?.codeServerUrl) {
        (void 0).open(session.codeServerUrl, "_blank");
      } else {
        message.warning(t("No active lab session"));
      }
    }
    async function restartLab(lesson) {
      if (!lesson?.id) return;
      const session = labSessions[lesson.id];
      if (!session?.id) {
        return openLab(lesson);
      }
      labRestarting[lesson.id] = true;
      try {
        await fetch(`${LAB_API}/session/stop`, {
          method: "POST",
          headers: getAuthHeaders(),
          credentials: "include",
          body: JSON.stringify({ id: session.id })
        }).catch(() => null);
        await openLab(lesson);
        message.success(t("Lab session restarted"));
      } catch (err) {
        console.error("[Lab] Failed to restart session:", err);
        message.error(t("Failed to restart lab session"));
      } finally {
        labRestarting[lesson.id] = false;
      }
    }
    async function refreshLabContainer(lesson) {
      if (!lesson?.id) return;
      const session = labSessions[lesson.id];
      if (!session?.id) {
        return message.warning(t("Please start a lab session first"));
      }
      labRefreshing[lesson.id] = true;
      try {
        message.loading(t("Updating container with your saved code..."), 0);
        const resp = await fetch(`${LAB_API}/session/refresh`, {
          method: "POST",
          headers: getAuthHeaders(),
          credentials: "include",
          body: JSON.stringify({
            id: session.id,
            challengeId: session.challengeId
          })
        });
        message.destroy();
        const data = await resp.json().catch(() => ({}));
        if (!resp.ok) {
          throw new Error(data?.error || t("Failed to update container"));
        }
        if (data.session) {
          labSessions[lesson.id] = data.session;
          message.success(t("Container refreshed with your latest workspace"));
        }
      } catch (err) {
        console.error("[Lab] Failed to refresh container:", err);
        message.error(err?.message || t("Failed to update container"));
      } finally {
        labRefreshing[lesson.id] = false;
      }
    }
    async function submitLab(lesson) {
      if (!lesson?.id) return;
      if (!selectedStudentId.value) {
        return message.warning(t("Please log in to submit lab work"));
      }
      let session = labSessions[lesson.id];
      if (!session || !session.id) {
        const challenge = await fetchLabChallenge(lesson.id);
        if (challenge) {
          session = await fetchLabSession(challenge.id, lesson.id);
        }
      }
      if (!session || !session.id) {
        return message.warning(t("Please start a lab session first"));
      }
      if (session.status !== "running" && session.status !== "starting") {
        return message.warning(t("Lab session must be running to submit. Please start a session first."));
      }
      labSubmitting[lesson.id] = true;
      try {
        message.loading(t("Submitting lab work..."), 0);
        const resp = await fetch(`${LAB_API}/submit`, {
          method: "POST",
          headers: getAuthHeaders(),
          credentials: "include",
          body: JSON.stringify({
            sessionId: session.id
          })
        });
        message.destroy();
        if (!resp.ok) {
          const err = await resp.json().catch(() => ({ error: t("Failed to submit") }));
          throw new Error(err.error || `HTTP ${resp.status}`);
        }
        const data = await resp.json();
        const submission = data.submission;
        if (!submission) {
          throw new Error(t("No submission data returned"));
        }
        labSubmissions[lesson.id] = submission;
        message.success(t("Lab work submitted. Grading in progress..."));
        await pollForSubmissionResults(session.id, lesson.id);
      } catch (err) {
        console.error("[Lab] Failed to submit:", err);
        message.error(err?.message || t("Failed to submit lab work"));
      } finally {
        labSubmitting[lesson.id] = false;
      }
    }
    async function pollForSubmissionResults(sessionId, lessonId, maxAttempts = 30) {
      let attempts = 0;
      const poll = async () => {
        attempts++;
        try {
          const updated = await refreshLabSubmission(sessionId, lessonId);
          if (!updated) {
            if (attempts < maxAttempts) {
              setTimeout(poll, 2e3);
            } else {
              message.warning(t("Grading is taking longer than expected. Please check back later."));
            }
            return;
          }
          const submission = labSubmissions[lessonId];
          if (submission?.status === "pending" || submission?.status === "running") {
            if (attempts < maxAttempts) {
              setTimeout(poll, 2e3);
            } else {
              message.warning(t("Grading is taking longer than expected. Please check back later."));
            }
          } else if (submission?.status === "passed" || submission?.status === "failed") {
            const resultMessage = submission.passed ? t("Grading complete! Your lab passed.") : t("Grading complete. Some tests failed.");
            if (submission.passed) {
              message.success(resultMessage);
            } else {
              message.warning(resultMessage);
            }
          }
        } catch (err) {
          console.warn("[Lab] Poll error:", err);
          if (attempts < maxAttempts) {
            setTimeout(poll, 2e3);
          }
        }
      };
      setTimeout(poll, 2e3);
    }
    async function refreshLabSubmission(sessionId, lessonId) {
      try {
        const resp = await fetch(`${LAB_API}/sessions/me`, {
          method: "GET",
          headers: getAuthHeaders(),
          credentials: "include"
        });
        if (resp.ok) {
          const data = await resp.json();
          const session = data.sessions?.find((s) => s.id === sessionId);
          if (session) {
            labSessions[lessonId] = session;
            if (session.submissions && session.submissions.length > 0) {
              const latest = session.submissions[0];
              const prevStatus = labSubmissions[lessonId]?.status;
              labSubmissions[lessonId] = latest;
              return latest.status !== prevStatus || latest.status === "passed" || latest.status === "failed" || latest.status === "error";
            }
          }
        } else if (resp.status === 401) {
          console.warn("[Lab] Not authenticated to refresh submission");
          message.warning(t("Please log in to view submission status"));
        }
      } catch (err) {
        console.warn("[Lab] Failed to refresh submission:", err);
      }
      return false;
    }
    function getSessionStatusColor(status) {
      switch (status) {
        case "running":
          return "green";
        case "starting":
          return "blue";
        case "stopped":
          return "default";
        case "error":
          return "red";
        default:
          return "default";
      }
    }
    async function addLessonShare(kind) {
      if (!currentLesson.value) return;
      if (!selectedCourseId.value) return;
      try {
        shareUploading[kind] = true;
        const uploaded = await pickAndUpload(kind);
        if (!uploaded) return;
        const lessonId = currentLesson.value.id;
        lessonShares[lessonId] = [
          {
            id: uploaded.shareId || uploaded.filename || `local-${Date.now()}`,
            kind,
            title: uploaded.name || currentLesson.value.title,
            url: uploaded.url,
            size: uploaded.size,
            mimeType: uploaded.mimeType
          },
          ...lessonShares[lessonId] || []
        ];
        message.success(t(kind === "resource" ? "Resource added" : "Attachment added"));
      } catch (err) {
        console.error("[LessonShare] add failed", err);
        message.error(err?.message || "Upload failed");
      } finally {
        shareUploading[kind] = false;
      }
    }
    return (_ctx, _push, _parent, _attrs) => {
      const _component_a_config_provider = resolveComponent("a-config-provider");
      const _component_a_layout = resolveComponent("a-layout");
      const _component_a_alert = resolveComponent("a-alert");
      const _component_a_page_header = resolveComponent("a-page-header");
      const _component_a_tag = resolveComponent("a-tag");
      const _component_a_badge = resolveComponent("a-badge");
      const _component_a_space = resolveComponent("a-space");
      const _component_a_tooltip = resolveComponent("a-tooltip");
      const _component_a_progress = resolveComponent("a-progress");
      const _component_a_select = resolveComponent("a-select");
      const _component_a_select_option = resolveComponent("a-select-option");
      const _component_a_dropdown = resolveComponent("a-dropdown");
      const _component_a_button = resolveComponent("a-button");
      const _component_a_menu = resolveComponent("a-menu");
      const _component_a_menu_item = resolveComponent("a-menu-item");
      const _component_a_menu_divider = resolveComponent("a-menu-divider");
      const _component_KeyboardOutlined = resolveComponent("KeyboardOutlined");
      const _component_a_layout_sider = resolveComponent("a-layout-sider");
      const _component_a_input_search = resolveComponent("a-input-search");
      const _component_a_segmented = resolveComponent("a-segmented");
      const _component_a_checkbox = resolveComponent("a-checkbox");
      const _component_a_empty = resolveComponent("a-empty");
      const _component_a_list = resolveComponent("a-list");
      const _component_a_list_item = resolveComponent("a-list-item");
      const _component_a_list_item_meta = resolveComponent("a-list-item-meta");
      const _component_a_layout_content = resolveComponent("a-layout-content");
      const _component_a_breadcrumb = resolveComponent("a-breadcrumb");
      const _component_a_breadcrumb_item = resolveComponent("a-breadcrumb-item");
      const _component_a_card = resolveComponent("a-card");
      const _component_a_row = resolveComponent("a-row");
      const _component_a_col = resolveComponent("a-col");
      const _component_a_divider = resolveComponent("a-divider");
      const _component_a_result = resolveComponent("a-result");
      const _component_a_spin = resolveComponent("a-spin");
      const _component_a_typography_paragraph = resolveComponent("a-typography-paragraph");
      const _component_a_collapse = resolveComponent("a-collapse");
      const _component_a_collapse_panel = resolveComponent("a-collapse-panel");
      const _component_a_checkbox_group = resolveComponent("a-checkbox-group");
      const _component_a_radio_group = resolveComponent("a-radio-group");
      const _component_a_radio = resolveComponent("a-radio");
      const _component_a_input = resolveComponent("a-input");
      const _component_a_descriptions = resolveComponent("a-descriptions");
      const _component_a_descriptions_item = resolveComponent("a-descriptions-item");
      const _component_a_typography_text = resolveComponent("a-typography-text");
      const _component_a_form = resolveComponent("a-form");
      const _component_a_form_item = resolveComponent("a-form-item");
      const _component_a_textarea = resolveComponent("a-textarea");
      const _component_a_rate = resolveComponent("a-rate");
      const _component_a_tabs = resolveComponent("a-tabs");
      const _component_a_tab_pane = resolveComponent("a-tab-pane");
      const _component_a_steps = resolveComponent("a-steps");
      const _component_a_step = resolveComponent("a-step");
      const _component_a_comment = resolveComponent("a-comment");
      const _component_a_avatar = resolveComponent("a-avatar");
      const _component_a_input_textarea = resolveComponent("a-input-textarea");
      const _component_a_drawer = resolveComponent("a-drawer");
      const _component_a_upload = resolveComponent("a-upload");
      const _component_a_modal = resolveComponent("a-modal");
      const _component_a_switch = resolveComponent("a-switch");
      _push(ssrRenderComponent(_component_a_config_provider, mergeProps({
        theme: { algorithm: isDark.value ? unref(theme).darkAlgorithm : unref(theme).defaultAlgorithm }
      }, _attrs), {
        default: withCtx((_, _push2, _parent2, _scopeId) => {
          if (_push2) {
            _push2(ssrRenderComponent(_component_a_layout, {
              class: ["student-wrap", isDark.value ? "is-dark" : ""],
              "data-test-id": "student-wrap"
            }, {
              default: withCtx((_2, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(`<div class="global-banners" data-v-6d06c401${_scopeId2}>`);
                  if (!isOnline.value) {
                    _push3(ssrRenderComponent(_component_a_alert, {
                      type: "warning",
                      banner: "",
                      "show-icon": "",
                      message: "You're offline. Working in mock/local mode; changes will sync when you reconnect.",
                      "data-test-id": "offline-banner"
                    }, null, _parent3, _scopeId2));
                  } else {
                    _push3(`<!---->`);
                  }
                  if (usingMocks.value) {
                    _push3(ssrRenderComponent(_component_a_alert, {
                      type: "info",
                      banner: "",
                      "show-icon": "",
                      message: `Mock data active${mockReason.value ? ` · ${mockReason.value}` : ""}`,
                      "data-test-id": "mock-banner"
                    }, null, _parent3, _scopeId2));
                  } else {
                    _push3(`<!---->`);
                  }
                  _push3(`</div>`);
                  _push3(ssrRenderComponent(_component_a_page_header, {
                    class: "page-header",
                    title: course.title || t("Course"),
                    "sub-title": moduleT.value?.title || (hasModules.value ? t("Choose a module") : t("Overview")),
                    "data-test-id": "page-header"
                  }, {
                    tags: withCtx((_3, _push4, _parent4, _scopeId3) => {
                      if (_push4) {
                        _push4(ssrRenderComponent(_component_a_tag, { color: "blue" }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(`${ssrInterpolate(course.category || "—")}`);
                            } else {
                              return [
                                createTextVNode(toDisplayString(course.category || "—"), 1)
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                        _push4(ssrRenderComponent(_component_a_tag, { color: "gold" }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(`${ssrInterpolate(course.difficulty || "—")}`);
                            } else {
                              return [
                                createTextVNode(toDisplayString(course.difficulty || "—"), 1)
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                        if (totalMinutes.value) {
                          _push4(ssrRenderComponent(_component_a_tag, { color: "blue" }, {
                            default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                              if (_push5) {
                                _push5(ssrRenderComponent(unref(FieldTimeOutlined), null, null, _parent5, _scopeId4));
                                _push5(` ${ssrInterpolate(totalMinutes.value)} ${ssrInterpolate(t("min"))}`);
                              } else {
                                return [
                                  createVNode(unref(FieldTimeOutlined)),
                                  createTextVNode(" " + toDisplayString(totalMinutes.value) + " " + toDisplayString(t("min")), 1)
                                ];
                              }
                            }),
                            _: 1
                          }, _parent4, _scopeId3));
                        } else {
                          _push4(`<!---->`);
                        }
                        _push4(ssrRenderComponent(_component_a_badge, {
                          status: isOnline.value ? "processing" : "default",
                          text: isOnline.value ? t("Online") : t("Offline")
                        }, null, _parent4, _scopeId3));
                        _push4(ssrRenderComponent(_component_a_badge, {
                          status: usingMocks.value ? "warning" : "success",
                          text: usingMocks.value ? t("Mock") : t("Live"),
                          class: "ml-1"
                        }, null, _parent4, _scopeId3));
                      } else {
                        return [
                          createVNode(_component_a_tag, { color: "blue" }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(course.category || "—"), 1)
                            ]),
                            _: 1
                          }),
                          createVNode(_component_a_tag, { color: "gold" }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(course.difficulty || "—"), 1)
                            ]),
                            _: 1
                          }),
                          totalMinutes.value ? (openBlock(), createBlock(_component_a_tag, {
                            key: 0,
                            color: "blue"
                          }, {
                            default: withCtx(() => [
                              createVNode(unref(FieldTimeOutlined)),
                              createTextVNode(" " + toDisplayString(totalMinutes.value) + " " + toDisplayString(t("min")), 1)
                            ]),
                            _: 1
                          })) : createCommentVNode("", true),
                          createVNode(_component_a_badge, {
                            status: isOnline.value ? "processing" : "default",
                            text: isOnline.value ? t("Online") : t("Offline")
                          }, null, 8, ["status", "text"]),
                          createVNode(_component_a_badge, {
                            status: usingMocks.value ? "warning" : "success",
                            text: usingMocks.value ? t("Mock") : t("Live"),
                            class: "ml-1"
                          }, null, 8, ["status", "text"])
                        ];
                      }
                    }),
                    extra: withCtx((_3, _push4, _parent4, _scopeId3) => {
                      if (_push4) {
                        _push4(ssrRenderComponent(_component_a_space, { wrap: "" }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(ssrRenderComponent(_component_a_tooltip, {
                                title: t("Course progress")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_progress, {
                                      type: "circle",
                                      percent: progressPercent.value,
                                      size: 32
                                    }, null, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_progress, {
                                        type: "circle",
                                        percent: progressPercent.value,
                                        size: 32
                                      }, null, 8, ["percent"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              if (hasModules.value) {
                                _push5(ssrRenderComponent(_component_a_select, {
                                  value: selectedModuleId.value,
                                  style: { "min-width": "220px" },
                                  placeholder: "Select module",
                                  disabled: loadingModule.value,
                                  onChange: switchModule,
                                  "data-test-id": "module-switcher"
                                }, {
                                  default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                    if (_push6) {
                                      _push6(`<!--[-->`);
                                      ssrRenderList(modules.value, (m) => {
                                        _push6(ssrRenderComponent(_component_a_select_option, {
                                          key: m.id,
                                          value: m.id
                                        }, {
                                          default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                            if (_push7) {
                                              _push7(`${ssrInterpolate(m.title)} <span class="muted" data-v-6d06c401${_scopeId6}>· ${ssrInterpolate(m.lessonCount ?? "—")} ${ssrInterpolate(t("lessons"))}</span>`);
                                            } else {
                                              return [
                                                createTextVNode(toDisplayString(m.title) + " ", 1),
                                                createVNode("span", { class: "muted" }, "· " + toDisplayString(m.lessonCount ?? "—") + " " + toDisplayString(t("lessons")), 1)
                                              ];
                                            }
                                          }),
                                          _: 2
                                        }, _parent6, _scopeId5));
                                      });
                                      _push6(`<!--]-->`);
                                    } else {
                                      return [
                                        (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                          return openBlock(), createBlock(_component_a_select_option, {
                                            key: m.id,
                                            value: m.id
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(m.title) + " ", 1),
                                              createVNode("span", { class: "muted" }, "· " + toDisplayString(m.lessonCount ?? "—") + " " + toDisplayString(t("lessons")), 1)
                                            ]),
                                            _: 2
                                          }, 1032, ["value"]);
                                        }), 128))
                                      ];
                                    }
                                  }),
                                  _: 1
                                }, _parent5, _scopeId4));
                              } else {
                                _push5(`<!---->`);
                              }
                              _push5(ssrRenderComponent(_component_a_dropdown, { trigger: "click" }, {
                                overlay: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_menu, null, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_menu_item, {
                                            onClick: ($event) => isDark.value = !isDark.value
                                          }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(unref(BulbOutlined), null, null, _parent8, _scopeId7));
                                                _push8(`<span class="ml-1" data-v-6d06c401${_scopeId7}>${ssrInterpolate(t("Toggle dark"))}</span>`);
                                              } else {
                                                return [
                                                  createVNode(unref(BulbOutlined)),
                                                  createVNode("span", { class: "ml-1" }, toDisplayString(t("Toggle dark")), 1)
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_menu_item, { onClick: _ctx.increaseFont }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(unref(FontSizeOutlined), null, null, _parent8, _scopeId7));
                                                _push8(`<span class="ml-1" data-v-6d06c401${_scopeId7}>${ssrInterpolate(t("Increase font size"))}</span>`);
                                              } else {
                                                return [
                                                  createVNode(unref(FontSizeOutlined)),
                                                  createVNode("span", { class: "ml-1" }, toDisplayString(t("Increase font size")), 1)
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_menu_item, { onClick: _ctx.decreaseFont }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(unref(FontSizeOutlined), null, null, _parent8, _scopeId7));
                                                _push8(`<span class="ml-1" data-v-6d06c401${_scopeId7}>${ssrInterpolate(t("Decrease font size"))}</span>`);
                                              } else {
                                                return [
                                                  createVNode(unref(FontSizeOutlined)),
                                                  createVNode("span", { class: "ml-1" }, toDisplayString(t("Decrease font size")), 1)
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_menu_divider, null, null, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_menu_item, {
                                            onClick: ($event) => openShortcuts.value = true
                                          }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_KeyboardOutlined, null, null, _parent8, _scopeId7));
                                                _push8(`<span class="ml-1" data-v-6d06c401${_scopeId7}>${ssrInterpolate(t("Keyboard shortcuts"))}</span>`);
                                              } else {
                                                return [
                                                  createVNode(_component_KeyboardOutlined),
                                                  createVNode("span", { class: "ml-1" }, toDisplayString(t("Keyboard shortcuts")), 1)
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_menu_item, {
                                            onClick: ($event) => openDebug.value = true
                                          }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(unref(BugOutlined), null, null, _parent8, _scopeId7));
                                                _push8(`<span class="ml-1" data-v-6d06c401${_scopeId7}>${ssrInterpolate(t("Debug & mocks"))}</span>`);
                                              } else {
                                                return [
                                                  createVNode(unref(BugOutlined)),
                                                  createVNode("span", { class: "ml-1" }, toDisplayString(t("Debug & mocks")), 1)
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_menu_item, {
                                              onClick: ($event) => isDark.value = !isDark.value
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(unref(BulbOutlined)),
                                                createVNode("span", { class: "ml-1" }, toDisplayString(t("Toggle dark")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"]),
                                            createVNode(_component_a_menu_item, { onClick: _ctx.increaseFont }, {
                                              default: withCtx(() => [
                                                createVNode(unref(FontSizeOutlined)),
                                                createVNode("span", { class: "ml-1" }, toDisplayString(t("Increase font size")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"]),
                                            createVNode(_component_a_menu_item, { onClick: _ctx.decreaseFont }, {
                                              default: withCtx(() => [
                                                createVNode(unref(FontSizeOutlined)),
                                                createVNode("span", { class: "ml-1" }, toDisplayString(t("Decrease font size")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"]),
                                            createVNode(_component_a_menu_divider),
                                            createVNode(_component_a_menu_item, {
                                              onClick: ($event) => openShortcuts.value = true
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_KeyboardOutlined),
                                                createVNode("span", { class: "ml-1" }, toDisplayString(t("Keyboard shortcuts")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"]),
                                            createVNode(_component_a_menu_item, {
                                              onClick: ($event) => openDebug.value = true
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(unref(BugOutlined)),
                                                createVNode("span", { class: "ml-1" }, toDisplayString(t("Debug & mocks")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"])
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_menu, null, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_menu_item, {
                                            onClick: ($event) => isDark.value = !isDark.value
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(unref(BulbOutlined)),
                                              createVNode("span", { class: "ml-1" }, toDisplayString(t("Toggle dark")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"]),
                                          createVNode(_component_a_menu_item, { onClick: _ctx.increaseFont }, {
                                            default: withCtx(() => [
                                              createVNode(unref(FontSizeOutlined)),
                                              createVNode("span", { class: "ml-1" }, toDisplayString(t("Increase font size")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"]),
                                          createVNode(_component_a_menu_item, { onClick: _ctx.decreaseFont }, {
                                            default: withCtx(() => [
                                              createVNode(unref(FontSizeOutlined)),
                                              createVNode("span", { class: "ml-1" }, toDisplayString(t("Decrease font size")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"]),
                                          createVNode(_component_a_menu_divider),
                                          createVNode(_component_a_menu_item, {
                                            onClick: ($event) => openShortcuts.value = true
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_KeyboardOutlined),
                                              createVNode("span", { class: "ml-1" }, toDisplayString(t("Keyboard shortcuts")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"]),
                                          createVNode(_component_a_menu_item, {
                                            onClick: ($event) => openDebug.value = true
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(unref(BugOutlined)),
                                              createVNode("span", { class: "ml-1" }, toDisplayString(t("Debug & mocks")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"])
                                        ]),
                                        _: 1
                                      })
                                    ];
                                  }
                                }),
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_button, null, {
                                      icon: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(unref(SettingOutlined), null, null, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(unref(SettingOutlined))
                                          ];
                                        }
                                      }),
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(` ${ssrInterpolate(t("View"))}`);
                                        } else {
                                          return [
                                            createTextVNode(" " + toDisplayString(t("View")), 1)
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_button, null, {
                                        icon: withCtx(() => [
                                          createVNode(unref(SettingOutlined))
                                        ]),
                                        default: withCtx(() => [
                                          createTextVNode(" " + toDisplayString(t("View")), 1)
                                        ]),
                                        _: 1
                                      })
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_button, {
                                type: "default",
                                onClick: ($event) => openImportExport.value = true
                              }, {
                                icon: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(unref(CloudSyncOutlined), null, null, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(unref(CloudSyncOutlined))
                                    ];
                                  }
                                }),
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(` ${ssrInterpolate(t("Import / Export"))}`);
                                  } else {
                                    return [
                                      createTextVNode(" " + toDisplayString(t("Import / Export")), 1)
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_tooltip, {
                                title: t("Resume last lesson")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_button, {
                                      type: "primary",
                                      onClick: _ctx.resumeLast,
                                      disabled: !lessons.value.length,
                                      "data-test-id": "resume-button"
                                    }, {
                                      icon: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(unref(PlayCircleOutlined), null, null, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(unref(PlayCircleOutlined))
                                          ];
                                        }
                                      }),
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(` ${ssrInterpolate(t("Resume"))}`);
                                        } else {
                                          return [
                                            createTextVNode(" " + toDisplayString(t("Resume")), 1)
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_button, {
                                        type: "primary",
                                        onClick: _ctx.resumeLast,
                                        disabled: !lessons.value.length,
                                        "data-test-id": "resume-button"
                                      }, {
                                        icon: withCtx(() => [
                                          createVNode(unref(PlayCircleOutlined))
                                        ]),
                                        default: withCtx(() => [
                                          createTextVNode(" " + toDisplayString(t("Resume")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick", "disabled"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                            } else {
                              return [
                                createVNode(_component_a_tooltip, {
                                  title: t("Course progress")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_progress, {
                                      type: "circle",
                                      percent: progressPercent.value,
                                      size: 32
                                    }, null, 8, ["percent"])
                                  ]),
                                  _: 1
                                }, 8, ["title"]),
                                hasModules.value ? (openBlock(), createBlock(_component_a_select, {
                                  key: 0,
                                  value: selectedModuleId.value,
                                  style: { "min-width": "220px" },
                                  placeholder: "Select module",
                                  disabled: loadingModule.value,
                                  onChange: switchModule,
                                  "data-test-id": "module-switcher"
                                }, {
                                  default: withCtx(() => [
                                    (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                      return openBlock(), createBlock(_component_a_select_option, {
                                        key: m.id,
                                        value: m.id
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(m.title) + " ", 1),
                                          createVNode("span", { class: "muted" }, "· " + toDisplayString(m.lessonCount ?? "—") + " " + toDisplayString(t("lessons")), 1)
                                        ]),
                                        _: 2
                                      }, 1032, ["value"]);
                                    }), 128))
                                  ]),
                                  _: 1
                                }, 8, ["value", "disabled"])) : createCommentVNode("", true),
                                createVNode(_component_a_dropdown, { trigger: "click" }, {
                                  overlay: withCtx(() => [
                                    createVNode(_component_a_menu, null, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_menu_item, {
                                          onClick: ($event) => isDark.value = !isDark.value
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(unref(BulbOutlined)),
                                            createVNode("span", { class: "ml-1" }, toDisplayString(t("Toggle dark")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["onClick"]),
                                        createVNode(_component_a_menu_item, { onClick: _ctx.increaseFont }, {
                                          default: withCtx(() => [
                                            createVNode(unref(FontSizeOutlined)),
                                            createVNode("span", { class: "ml-1" }, toDisplayString(t("Increase font size")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["onClick"]),
                                        createVNode(_component_a_menu_item, { onClick: _ctx.decreaseFont }, {
                                          default: withCtx(() => [
                                            createVNode(unref(FontSizeOutlined)),
                                            createVNode("span", { class: "ml-1" }, toDisplayString(t("Decrease font size")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["onClick"]),
                                        createVNode(_component_a_menu_divider),
                                        createVNode(_component_a_menu_item, {
                                          onClick: ($event) => openShortcuts.value = true
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_KeyboardOutlined),
                                            createVNode("span", { class: "ml-1" }, toDisplayString(t("Keyboard shortcuts")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["onClick"]),
                                        createVNode(_component_a_menu_item, {
                                          onClick: ($event) => openDebug.value = true
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(unref(BugOutlined)),
                                            createVNode("span", { class: "ml-1" }, toDisplayString(t("Debug & mocks")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["onClick"])
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  default: withCtx(() => [
                                    createVNode(_component_a_button, null, {
                                      icon: withCtx(() => [
                                        createVNode(unref(SettingOutlined))
                                      ]),
                                      default: withCtx(() => [
                                        createTextVNode(" " + toDisplayString(t("View")), 1)
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_button, {
                                  type: "default",
                                  onClick: ($event) => openImportExport.value = true
                                }, {
                                  icon: withCtx(() => [
                                    createVNode(unref(CloudSyncOutlined))
                                  ]),
                                  default: withCtx(() => [
                                    createTextVNode(" " + toDisplayString(t("Import / Export")), 1)
                                  ]),
                                  _: 1
                                }, 8, ["onClick"]),
                                createVNode(_component_a_tooltip, {
                                  title: t("Resume last lesson")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_button, {
                                      type: "primary",
                                      onClick: _ctx.resumeLast,
                                      disabled: !lessons.value.length,
                                      "data-test-id": "resume-button"
                                    }, {
                                      icon: withCtx(() => [
                                        createVNode(unref(PlayCircleOutlined))
                                      ]),
                                      default: withCtx(() => [
                                        createTextVNode(" " + toDisplayString(t("Resume")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["onClick", "disabled"])
                                  ]),
                                  _: 1
                                }, 8, ["title"])
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                      } else {
                        return [
                          createVNode(_component_a_space, { wrap: "" }, {
                            default: withCtx(() => [
                              createVNode(_component_a_tooltip, {
                                title: t("Course progress")
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_progress, {
                                    type: "circle",
                                    percent: progressPercent.value,
                                    size: 32
                                  }, null, 8, ["percent"])
                                ]),
                                _: 1
                              }, 8, ["title"]),
                              hasModules.value ? (openBlock(), createBlock(_component_a_select, {
                                key: 0,
                                value: selectedModuleId.value,
                                style: { "min-width": "220px" },
                                placeholder: "Select module",
                                disabled: loadingModule.value,
                                onChange: switchModule,
                                "data-test-id": "module-switcher"
                              }, {
                                default: withCtx(() => [
                                  (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                    return openBlock(), createBlock(_component_a_select_option, {
                                      key: m.id,
                                      value: m.id
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(m.title) + " ", 1),
                                        createVNode("span", { class: "muted" }, "· " + toDisplayString(m.lessonCount ?? "—") + " " + toDisplayString(t("lessons")), 1)
                                      ]),
                                      _: 2
                                    }, 1032, ["value"]);
                                  }), 128))
                                ]),
                                _: 1
                              }, 8, ["value", "disabled"])) : createCommentVNode("", true),
                              createVNode(_component_a_dropdown, { trigger: "click" }, {
                                overlay: withCtx(() => [
                                  createVNode(_component_a_menu, null, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_menu_item, {
                                        onClick: ($event) => isDark.value = !isDark.value
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(unref(BulbOutlined)),
                                          createVNode("span", { class: "ml-1" }, toDisplayString(t("Toggle dark")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"]),
                                      createVNode(_component_a_menu_item, { onClick: _ctx.increaseFont }, {
                                        default: withCtx(() => [
                                          createVNode(unref(FontSizeOutlined)),
                                          createVNode("span", { class: "ml-1" }, toDisplayString(t("Increase font size")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"]),
                                      createVNode(_component_a_menu_item, { onClick: _ctx.decreaseFont }, {
                                        default: withCtx(() => [
                                          createVNode(unref(FontSizeOutlined)),
                                          createVNode("span", { class: "ml-1" }, toDisplayString(t("Decrease font size")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"]),
                                      createVNode(_component_a_menu_divider),
                                      createVNode(_component_a_menu_item, {
                                        onClick: ($event) => openShortcuts.value = true
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_KeyboardOutlined),
                                          createVNode("span", { class: "ml-1" }, toDisplayString(t("Keyboard shortcuts")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"]),
                                      createVNode(_component_a_menu_item, {
                                        onClick: ($event) => openDebug.value = true
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(unref(BugOutlined)),
                                          createVNode("span", { class: "ml-1" }, toDisplayString(t("Debug & mocks")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"])
                                    ]),
                                    _: 1
                                  })
                                ]),
                                default: withCtx(() => [
                                  createVNode(_component_a_button, null, {
                                    icon: withCtx(() => [
                                      createVNode(unref(SettingOutlined))
                                    ]),
                                    default: withCtx(() => [
                                      createTextVNode(" " + toDisplayString(t("View")), 1)
                                    ]),
                                    _: 1
                                  })
                                ]),
                                _: 1
                              }),
                              createVNode(_component_a_button, {
                                type: "default",
                                onClick: ($event) => openImportExport.value = true
                              }, {
                                icon: withCtx(() => [
                                  createVNode(unref(CloudSyncOutlined))
                                ]),
                                default: withCtx(() => [
                                  createTextVNode(" " + toDisplayString(t("Import / Export")), 1)
                                ]),
                                _: 1
                              }, 8, ["onClick"]),
                              createVNode(_component_a_tooltip, {
                                title: t("Resume last lesson")
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_button, {
                                    type: "primary",
                                    onClick: _ctx.resumeLast,
                                    disabled: !lessons.value.length,
                                    "data-test-id": "resume-button"
                                  }, {
                                    icon: withCtx(() => [
                                      createVNode(unref(PlayCircleOutlined))
                                    ]),
                                    default: withCtx(() => [
                                      createTextVNode(" " + toDisplayString(t("Resume")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["onClick", "disabled"])
                                ]),
                                _: 1
                              }, 8, ["title"])
                            ]),
                            _: 1
                          })
                        ];
                      }
                    }),
                    _: 1
                  }, _parent3, _scopeId2));
                  _push3(ssrRenderComponent(_component_a_layout, null, {
                    default: withCtx((_3, _push4, _parent4, _scopeId3) => {
                      if (_push4) {
                        _push4(ssrRenderComponent(_component_a_layout_sider, {
                          width: "320",
                          class: "left-sider",
                          collapsible: "",
                          collapsed: siderCollapsed.value,
                          "onUpdate:collapsed": ($event) => siderCollapsed.value = $event,
                          "collapsed-width": 60,
                          "data-test-id": "left-sider"
                        }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(`<div class="sider-inner" data-v-6d06c401${_scopeId4}><div class="cover" style="${ssrRenderStyle(coverStyle.value)}" data-test-id="cover" data-v-6d06c401${_scopeId4}><div class="cover-gradient" data-v-6d06c401${_scopeId4}></div>`);
                              if (!siderCollapsed.value) {
                                _push5(`<div class="cover-meta" data-v-6d06c401${_scopeId4}><div class="cover-title" data-v-6d06c401${_scopeId4}>${ssrInterpolate(course.title || t("Course"))}</div><div class="cover-tags" data-v-6d06c401${_scopeId4}>`);
                                if (course.category) {
                                  _push5(ssrRenderComponent(_component_a_tag, { color: "blue" }, {
                                    default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                      if (_push6) {
                                        _push6(`${ssrInterpolate(course.category)}`);
                                      } else {
                                        return [
                                          createTextVNode(toDisplayString(course.category), 1)
                                        ];
                                      }
                                    }),
                                    _: 1
                                  }, _parent5, _scopeId4));
                                } else {
                                  _push5(`<!---->`);
                                }
                                if (course.difficulty) {
                                  _push5(ssrRenderComponent(_component_a_tag, { color: "gold" }, {
                                    default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                      if (_push6) {
                                        _push6(`${ssrInterpolate(course.difficulty)}`);
                                      } else {
                                        return [
                                          createTextVNode(toDisplayString(course.difficulty), 1)
                                        ];
                                      }
                                    }),
                                    _: 1
                                  }, _parent5, _scopeId4));
                                } else {
                                  _push5(`<!---->`);
                                }
                                _push5(`</div></div>`);
                              } else {
                                _push5(`<!---->`);
                              }
                              _push5(`</div>`);
                              if (hasModules.value) {
                                _push5(ssrRenderComponent(_component_a_select, {
                                  class: "mt-2",
                                  size: "small",
                                  value: selectedModuleId.value,
                                  disabled: loadingModule.value,
                                  style: { "width": "100%" },
                                  onChange: switchModule,
                                  "data-test-id": "module-switcher-mini"
                                }, {
                                  default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                    if (_push6) {
                                      _push6(`<!--[-->`);
                                      ssrRenderList(modules.value, (m) => {
                                        _push6(ssrRenderComponent(_component_a_select_option, {
                                          key: m.id,
                                          value: m.id
                                        }, {
                                          default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                            if (_push7) {
                                              _push7(`${ssrInterpolate(m.title)}`);
                                            } else {
                                              return [
                                                createTextVNode(toDisplayString(m.title), 1)
                                              ];
                                            }
                                          }),
                                          _: 2
                                        }, _parent6, _scopeId5));
                                      });
                                      _push6(`<!--]-->`);
                                    } else {
                                      return [
                                        (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                          return openBlock(), createBlock(_component_a_select_option, {
                                            key: m.id,
                                            value: m.id
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(m.title), 1)
                                            ]),
                                            _: 2
                                          }, 1032, ["value"]);
                                        }), 128))
                                      ];
                                    }
                                  }),
                                  _: 1
                                }, _parent5, _scopeId4));
                              } else {
                                _push5(`<!---->`);
                              }
                              _push5(ssrRenderComponent(_component_a_input_search, {
                                value: filter.value,
                                "onUpdate:value": ($event) => filter.value = $event,
                                placeholder: t("Search lessons"),
                                "allow-clear": "",
                                class: "mt-2",
                                "data-test-id": "lesson-search"
                              }, null, _parent5, _scopeId4));
                              if (!siderCollapsed.value) {
                                _push5(`<div class="mt-2" data-v-6d06c401${_scopeId4}>`);
                                _push5(ssrRenderComponent(_component_a_space, { wrap: "" }, {
                                  default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                    if (_push6) {
                                      _push6(ssrRenderComponent(_component_a_segmented, {
                                        value: filterType.value,
                                        "onUpdate:value": ($event) => filterType.value = $event,
                                        options: [
                                          { label: t("All"), value: "all" },
                                          { label: t("Video"), value: "video" },
                                          { label: t("Reading"), value: "reading" },
                                          { label: t("Quiz"), value: "quiz" },
                                          { label: t("Assign."), value: "assignment" },
                                          { label: t("Lab"), value: "lab" }
                                        ],
                                        "data-test-id": "type-filter"
                                      }, null, _parent6, _scopeId5));
                                      _push6(ssrRenderComponent(_component_a_checkbox, {
                                        checked: hideCompleted.value,
                                        "onUpdate:checked": ($event) => hideCompleted.value = $event,
                                        "data-test-id": "hide-completed"
                                      }, {
                                        default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                          if (_push7) {
                                            _push7(`${ssrInterpolate(t("Hide completed"))}`);
                                          } else {
                                            return [
                                              createTextVNode(toDisplayString(t("Hide completed")), 1)
                                            ];
                                          }
                                        }),
                                        _: 1
                                      }, _parent6, _scopeId5));
                                      _push6(ssrRenderComponent(_component_a_dropdown, { trigger: "click" }, {
                                        overlay: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                          if (_push7) {
                                            _push7(ssrRenderComponent(_component_a_menu, {
                                              selectedKeys: sortKeyArr.value,
                                              "onUpdate:selectedKeys": ($event) => sortKeyArr.value = $event,
                                              onClick: onSortChange
                                            }, {
                                              default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                if (_push8) {
                                                  _push8(ssrRenderComponent(_component_a_menu_item, { key: "title" }, {
                                                    default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                      if (_push9) {
                                                        _push9(`${ssrInterpolate(t("Title"))}`);
                                                      } else {
                                                        return [
                                                          createTextVNode(toDisplayString(t("Title")), 1)
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent8, _scopeId7));
                                                  _push8(ssrRenderComponent(_component_a_menu_item, { key: "duration" }, {
                                                    default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                      if (_push9) {
                                                        _push9(`${ssrInterpolate(t("Duration"))}`);
                                                      } else {
                                                        return [
                                                          createTextVNode(toDisplayString(t("Duration")), 1)
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent8, _scopeId7));
                                                  _push8(ssrRenderComponent(_component_a_menu_item, { key: "type" }, {
                                                    default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                      if (_push9) {
                                                        _push9(`${ssrInterpolate(t("Type"))}`);
                                                      } else {
                                                        return [
                                                          createTextVNode(toDisplayString(t("Type")), 1)
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent8, _scopeId7));
                                                } else {
                                                  return [
                                                    createVNode(_component_a_menu_item, { key: "title" }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Title")), 1)
                                                      ]),
                                                      _: 1
                                                    }),
                                                    createVNode(_component_a_menu_item, { key: "duration" }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Duration")), 1)
                                                      ]),
                                                      _: 1
                                                    }),
                                                    createVNode(_component_a_menu_item, { key: "type" }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Type")), 1)
                                                      ]),
                                                      _: 1
                                                    })
                                                  ];
                                                }
                                              }),
                                              _: 1
                                            }, _parent7, _scopeId6));
                                          } else {
                                            return [
                                              createVNode(_component_a_menu, {
                                                selectedKeys: sortKeyArr.value,
                                                "onUpdate:selectedKeys": ($event) => sortKeyArr.value = $event,
                                                onClick: onSortChange
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_menu_item, { key: "title" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Title")), 1)
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_menu_item, { key: "duration" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Duration")), 1)
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_menu_item, { key: "type" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Type")), 1)
                                                    ]),
                                                    _: 1
                                                  })
                                                ]),
                                                _: 1
                                              }, 8, ["selectedKeys", "onUpdate:selectedKeys"])
                                            ];
                                          }
                                        }),
                                        default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                          if (_push7) {
                                            _push7(ssrRenderComponent(_component_a_button, { size: "small" }, {
                                              default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                if (_push8) {
                                                  _push8(ssrRenderComponent(unref(SortAscendingOutlined), null, null, _parent8, _scopeId7));
                                                  _push8(`<span class="ml-1" data-v-6d06c401${_scopeId7}>${ssrInterpolate(t("Sort"))}</span>`);
                                                } else {
                                                  return [
                                                    createVNode(unref(SortAscendingOutlined)),
                                                    createVNode("span", { class: "ml-1" }, toDisplayString(t("Sort")), 1)
                                                  ];
                                                }
                                              }),
                                              _: 1
                                            }, _parent7, _scopeId6));
                                          } else {
                                            return [
                                              createVNode(_component_a_button, { size: "small" }, {
                                                default: withCtx(() => [
                                                  createVNode(unref(SortAscendingOutlined)),
                                                  createVNode("span", { class: "ml-1" }, toDisplayString(t("Sort")), 1)
                                                ]),
                                                _: 1
                                              })
                                            ];
                                          }
                                        }),
                                        _: 1
                                      }, _parent6, _scopeId5));
                                    } else {
                                      return [
                                        createVNode(_component_a_segmented, {
                                          value: filterType.value,
                                          "onUpdate:value": ($event) => filterType.value = $event,
                                          options: [
                                            { label: t("All"), value: "all" },
                                            { label: t("Video"), value: "video" },
                                            { label: t("Reading"), value: "reading" },
                                            { label: t("Quiz"), value: "quiz" },
                                            { label: t("Assign."), value: "assignment" },
                                            { label: t("Lab"), value: "lab" }
                                          ],
                                          "data-test-id": "type-filter"
                                        }, null, 8, ["value", "onUpdate:value", "options"]),
                                        createVNode(_component_a_checkbox, {
                                          checked: hideCompleted.value,
                                          "onUpdate:checked": ($event) => hideCompleted.value = $event,
                                          "data-test-id": "hide-completed"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Hide completed")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["checked", "onUpdate:checked"]),
                                        createVNode(_component_a_dropdown, { trigger: "click" }, {
                                          overlay: withCtx(() => [
                                            createVNode(_component_a_menu, {
                                              selectedKeys: sortKeyArr.value,
                                              "onUpdate:selectedKeys": ($event) => sortKeyArr.value = $event,
                                              onClick: onSortChange
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_menu_item, { key: "title" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Title")), 1)
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_menu_item, { key: "duration" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Duration")), 1)
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_menu_item, { key: "type" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Type")), 1)
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }, 8, ["selectedKeys", "onUpdate:selectedKeys"])
                                          ]),
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, { size: "small" }, {
                                              default: withCtx(() => [
                                                createVNode(unref(SortAscendingOutlined)),
                                                createVNode("span", { class: "ml-1" }, toDisplayString(t("Sort")), 1)
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        })
                                      ];
                                    }
                                  }),
                                  _: 1
                                }, _parent5, _scopeId4));
                                _push5(`</div>`);
                              } else {
                                _push5(`<!---->`);
                              }
                              if (!currentModuleReady.value) {
                                _push5(ssrRenderComponent(_component_a_empty, {
                                  description: t("Pick a module to see its lessons"),
                                  class: "mt-2"
                                }, null, _parent5, _scopeId4));
                              } else {
                                _push5(ssrRenderComponent(_component_a_list, {
                                  class: "mt-2",
                                  size: "small",
                                  "data-source": filteredLessons.value,
                                  "row-key": (l) => l.id,
                                  "data-test-id": "lesson-list"
                                }, {
                                  renderItem: withCtx(({ item: l, index: i }, _push6, _parent6, _scopeId5) => {
                                    if (_push6) {
                                      _push6(ssrRenderComponent(_component_a_list_item, {
                                        class: ["lesson-row", currentIndex.value === i && "active"],
                                        onClick: ($event) => select(i),
                                        "data-test-id": `lesson-row-${i}`
                                      }, {
                                        actions: withCtx((_5, _push7, _parent7, _scopeId6) => {
                                          if (_push7) {
                                            if (isCompleted(l.id)) {
                                              _push7(ssrRenderComponent(_component_a_tag, { color: "green" }, {
                                                default: withCtx((_6, _push8, _parent8, _scopeId7) => {
                                                  if (_push8) {
                                                    _push8(`${ssrInterpolate(t("Done"))}`);
                                                  } else {
                                                    return [
                                                      createTextVNode(toDisplayString(t("Done")), 1)
                                                    ];
                                                  }
                                                }),
                                                _: 2
                                              }, _parent7, _scopeId6));
                                            } else if (l.preview) {
                                              _push7(ssrRenderComponent(_component_a_tag, { color: "cyan" }, {
                                                default: withCtx((_6, _push8, _parent8, _scopeId7) => {
                                                  if (_push8) {
                                                    _push8(`${ssrInterpolate(t("Preview"))}`);
                                                  } else {
                                                    return [
                                                      createTextVNode(toDisplayString(t("Preview")), 1)
                                                    ];
                                                  }
                                                }),
                                                _: 2
                                              }, _parent7, _scopeId6));
                                            } else {
                                              _push7(`<!---->`);
                                            }
                                          } else {
                                            return [
                                              isCompleted(l.id) ? (openBlock(), createBlock(_component_a_tag, {
                                                key: 0,
                                                color: "green"
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Done")), 1)
                                                ]),
                                                _: 1
                                              })) : l.preview ? (openBlock(), createBlock(_component_a_tag, {
                                                key: 2,
                                                color: "cyan"
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Preview")), 1)
                                                ]),
                                                _: 1
                                              })) : createCommentVNode("", true)
                                            ];
                                          }
                                        }),
                                        default: withCtx((_5, _push7, _parent7, _scopeId6) => {
                                          if (_push7) {
                                            _push7(ssrRenderComponent(_component_a_list_item_meta, {
                                              title: l.title || t("Untitled lesson"),
                                              description: (l.type || "—") + (l.duration ? ` · ${l.duration} ${t("min")}` : "")
                                            }, null, _parent7, _scopeId6));
                                          } else {
                                            return [
                                              createVNode(_component_a_list_item_meta, {
                                                title: l.title || t("Untitled lesson"),
                                                description: (l.type || "—") + (l.duration ? ` · ${l.duration} ${t("min")}` : "")
                                              }, null, 8, ["title", "description"])
                                            ];
                                          }
                                        }),
                                        _: 2
                                      }, _parent6, _scopeId5));
                                    } else {
                                      return [
                                        createVNode(_component_a_list_item, {
                                          class: ["lesson-row", currentIndex.value === i && "active"],
                                          onClick: ($event) => select(i),
                                          "data-test-id": `lesson-row-${i}`
                                        }, {
                                          actions: withCtx(() => [
                                            isCompleted(l.id) ? (openBlock(), createBlock(_component_a_tag, {
                                              key: 0,
                                              color: "green"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Done")), 1)
                                              ]),
                                              _: 1
                                            })) : l.preview ? (openBlock(), createBlock(_component_a_tag, {
                                              key: 2,
                                              color: "cyan"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Preview")), 1)
                                              ]),
                                              _: 1
                                            })) : createCommentVNode("", true)
                                          ]),
                                          default: withCtx(() => [
                                            createVNode(_component_a_list_item_meta, {
                                              title: l.title || t("Untitled lesson"),
                                              description: (l.type || "—") + (l.duration ? ` · ${l.duration} ${t("min")}` : "")
                                            }, null, 8, ["title", "description"])
                                          ]),
                                          _: 2
                                        }, 1032, ["class", "onClick", "data-test-id"])
                                      ];
                                    }
                                  }),
                                  _: 1
                                }, _parent5, _scopeId4));
                              }
                              _push5(`</div>`);
                            } else {
                              return [
                                createVNode("div", { class: "sider-inner" }, [
                                  createVNode("div", {
                                    class: "cover",
                                    style: coverStyle.value,
                                    "data-test-id": "cover"
                                  }, [
                                    createVNode("div", { class: "cover-gradient" }),
                                    !siderCollapsed.value ? (openBlock(), createBlock("div", {
                                      key: 0,
                                      class: "cover-meta"
                                    }, [
                                      createVNode("div", { class: "cover-title" }, toDisplayString(course.title || t("Course")), 1),
                                      createVNode("div", { class: "cover-tags" }, [
                                        course.category ? (openBlock(), createBlock(_component_a_tag, {
                                          key: 0,
                                          color: "blue"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(course.category), 1)
                                          ]),
                                          _: 1
                                        })) : createCommentVNode("", true),
                                        course.difficulty ? (openBlock(), createBlock(_component_a_tag, {
                                          key: 1,
                                          color: "gold"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(course.difficulty), 1)
                                          ]),
                                          _: 1
                                        })) : createCommentVNode("", true)
                                      ])
                                    ])) : createCommentVNode("", true)
                                  ], 4),
                                  hasModules.value ? (openBlock(), createBlock(_component_a_select, {
                                    key: 0,
                                    class: "mt-2",
                                    size: "small",
                                    value: selectedModuleId.value,
                                    disabled: loadingModule.value,
                                    style: { "width": "100%" },
                                    onChange: switchModule,
                                    "data-test-id": "module-switcher-mini"
                                  }, {
                                    default: withCtx(() => [
                                      (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                        return openBlock(), createBlock(_component_a_select_option, {
                                          key: m.id,
                                          value: m.id
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(m.title), 1)
                                          ]),
                                          _: 2
                                        }, 1032, ["value"]);
                                      }), 128))
                                    ]),
                                    _: 1
                                  }, 8, ["value", "disabled"])) : createCommentVNode("", true),
                                  createVNode(_component_a_input_search, {
                                    value: filter.value,
                                    "onUpdate:value": ($event) => filter.value = $event,
                                    placeholder: t("Search lessons"),
                                    "allow-clear": "",
                                    class: "mt-2",
                                    "data-test-id": "lesson-search"
                                  }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                                  !siderCollapsed.value ? (openBlock(), createBlock("div", {
                                    key: 1,
                                    class: "mt-2"
                                  }, [
                                    createVNode(_component_a_space, { wrap: "" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_segmented, {
                                          value: filterType.value,
                                          "onUpdate:value": ($event) => filterType.value = $event,
                                          options: [
                                            { label: t("All"), value: "all" },
                                            { label: t("Video"), value: "video" },
                                            { label: t("Reading"), value: "reading" },
                                            { label: t("Quiz"), value: "quiz" },
                                            { label: t("Assign."), value: "assignment" },
                                            { label: t("Lab"), value: "lab" }
                                          ],
                                          "data-test-id": "type-filter"
                                        }, null, 8, ["value", "onUpdate:value", "options"]),
                                        createVNode(_component_a_checkbox, {
                                          checked: hideCompleted.value,
                                          "onUpdate:checked": ($event) => hideCompleted.value = $event,
                                          "data-test-id": "hide-completed"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Hide completed")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["checked", "onUpdate:checked"]),
                                        createVNode(_component_a_dropdown, { trigger: "click" }, {
                                          overlay: withCtx(() => [
                                            createVNode(_component_a_menu, {
                                              selectedKeys: sortKeyArr.value,
                                              "onUpdate:selectedKeys": ($event) => sortKeyArr.value = $event,
                                              onClick: onSortChange
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_menu_item, { key: "title" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Title")), 1)
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_menu_item, { key: "duration" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Duration")), 1)
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_menu_item, { key: "type" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Type")), 1)
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }, 8, ["selectedKeys", "onUpdate:selectedKeys"])
                                          ]),
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, { size: "small" }, {
                                              default: withCtx(() => [
                                                createVNode(unref(SortAscendingOutlined)),
                                                createVNode("span", { class: "ml-1" }, toDisplayString(t("Sort")), 1)
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    })
                                  ])) : createCommentVNode("", true),
                                  !currentModuleReady.value ? (openBlock(), createBlock(_component_a_empty, {
                                    key: 2,
                                    description: t("Pick a module to see its lessons"),
                                    class: "mt-2"
                                  }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                    key: 3,
                                    class: "mt-2",
                                    size: "small",
                                    "data-source": filteredLessons.value,
                                    "row-key": (l) => l.id,
                                    "data-test-id": "lesson-list"
                                  }, {
                                    renderItem: withCtx(({ item: l, index: i }) => [
                                      createVNode(_component_a_list_item, {
                                        class: ["lesson-row", currentIndex.value === i && "active"],
                                        onClick: ($event) => select(i),
                                        "data-test-id": `lesson-row-${i}`
                                      }, {
                                        actions: withCtx(() => [
                                          isCompleted(l.id) ? (openBlock(), createBlock(_component_a_tag, {
                                            key: 0,
                                            color: "green"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Done")), 1)
                                            ]),
                                            _: 1
                                          })) : l.preview ? (openBlock(), createBlock(_component_a_tag, {
                                            key: 2,
                                            color: "cyan"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Preview")), 1)
                                            ]),
                                            _: 1
                                          })) : createCommentVNode("", true)
                                        ]),
                                        default: withCtx(() => [
                                          createVNode(_component_a_list_item_meta, {
                                            title: l.title || t("Untitled lesson"),
                                            description: (l.type || "—") + (l.duration ? ` · ${l.duration} ${t("min")}` : "")
                                          }, null, 8, ["title", "description"])
                                        ]),
                                        _: 2
                                      }, 1032, ["class", "onClick", "data-test-id"])
                                    ]),
                                    _: 1
                                  }, 8, ["data-source", "row-key"]))
                                ])
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                        _push4(ssrRenderComponent(_component_a_layout_content, {
                          class: "content",
                          style: { fontSize: `${fontScale.value}px` },
                          "data-test-id": "content"
                        }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              if (!currentModuleReady.value) {
                                _push5(`<!--[-->`);
                                _push5(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                  default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                    if (_push6) {
                                      _push6(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                        default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                          if (_push7) {
                                            _push7(`Students`);
                                          } else {
                                            return [
                                              createTextVNode("Students")
                                            ];
                                          }
                                        }),
                                        _: 1
                                      }, _parent6, _scopeId5));
                                      _push6(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                        default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                          if (_push7) {
                                            _push7(`Modules`);
                                          } else {
                                            return [
                                              createTextVNode("Modules")
                                            ];
                                          }
                                        }),
                                        _: 1
                                      }, _parent6, _scopeId5));
                                    } else {
                                      return [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ];
                                    }
                                  }),
                                  _: 1
                                }, _parent5, _scopeId4));
                                _push5(ssrRenderComponent(_component_a_card, {
                                  loading: loadingCourse.value,
                                  title: t("Course overview"),
                                  "data-test-id": "overview-card"
                                }, {
                                  default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                    if (_push6) {
                                      _push6(`<p class="muted" data-v-6d06c401${_scopeId5}>${ssrInterpolate(t("Browse modules and jump in — everything runs in this page."))}</p>`);
                                      if (!hasModules.value && !loadingCourse.value) {
                                        _push6(ssrRenderComponent(_component_a_empty, {
                                          description: t("No modules yet")
                                        }, null, _parent6, _scopeId5));
                                      } else {
                                        _push6(ssrRenderComponent(_component_a_row, { gutter: 16 }, {
                                          default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                            if (_push7) {
                                              _push7(`<!--[-->`);
                                              ssrRenderList(modules.value, (m) => {
                                                _push7(ssrRenderComponent(_component_a_col, {
                                                  key: m.id,
                                                  xs: 24,
                                                  sm: 12,
                                                  md: 8
                                                }, {
                                                  default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                    if (_push8) {
                                                      _push8(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                                        default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                          if (_push9) {
                                                            _push9(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                                              default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                if (_push10) {
                                                                  _push10(`Students`);
                                                                } else {
                                                                  return [
                                                                    createTextVNode("Students")
                                                                  ];
                                                                }
                                                              }),
                                                              _: 2
                                                            }, _parent9, _scopeId8));
                                                            _push9(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                                              default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                if (_push10) {
                                                                  _push10(`Modules`);
                                                                } else {
                                                                  return [
                                                                    createTextVNode("Modules")
                                                                  ];
                                                                }
                                                              }),
                                                              _: 2
                                                            }, _parent9, _scopeId8));
                                                          } else {
                                                            return [
                                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                                default: withCtx(() => [
                                                                  createTextVNode("Students")
                                                                ]),
                                                                _: 1
                                                              }),
                                                              createVNode(_component_a_breadcrumb_item, null, {
                                                                default: withCtx(() => [
                                                                  createTextVNode("Modules")
                                                                ]),
                                                                _: 1
                                                              })
                                                            ];
                                                          }
                                                        }),
                                                        _: 2
                                                      }, _parent8, _scopeId7));
                                                      _push8(ssrRenderComponent(_component_a_card, {
                                                        hoverable: "",
                                                        class: "mt-2",
                                                        onClick: ($event) => switchModule(m.id),
                                                        "data-test-id": "module-card"
                                                      }, {
                                                        default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                          if (_push9) {
                                                            _push9(`<b data-v-6d06c401${_scopeId8}>${ssrInterpolate(m.title)}</b><div class="muted" data-v-6d06c401${_scopeId8}>${ssrInterpolate(m.lessonCount ?? 0)} ${ssrInterpolate(t("lessons"))} `);
                                                            if (m.minutes) {
                                                              _push9(`<!--[--> · ~${ssrInterpolate(m.minutes)} ${ssrInterpolate(t("min"))}<!--]-->`);
                                                            } else {
                                                              _push9(`<!---->`);
                                                            }
                                                            _push9(`</div>`);
                                                          } else {
                                                            return [
                                                              createVNode("b", null, toDisplayString(m.title), 1),
                                                              createVNode("div", { class: "muted" }, [
                                                                createTextVNode(toDisplayString(m.lessonCount ?? 0) + " " + toDisplayString(t("lessons")) + " ", 1),
                                                                m.minutes ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                                  createTextVNode(" · ~" + toDisplayString(m.minutes) + " " + toDisplayString(t("min")), 1)
                                                                ], 64)) : createCommentVNode("", true)
                                                              ])
                                                            ];
                                                          }
                                                        }),
                                                        _: 2
                                                      }, _parent8, _scopeId7));
                                                    } else {
                                                      return [
                                                        createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                              default: withCtx(() => [
                                                                createTextVNode("Students")
                                                              ]),
                                                              _: 1
                                                            }),
                                                            createVNode(_component_a_breadcrumb_item, null, {
                                                              default: withCtx(() => [
                                                                createTextVNode("Modules")
                                                              ]),
                                                              _: 1
                                                            })
                                                          ]),
                                                          _: 1
                                                        }),
                                                        createVNode(_component_a_card, {
                                                          hoverable: "",
                                                          class: "mt-2",
                                                          onClick: ($event) => switchModule(m.id),
                                                          "data-test-id": "module-card"
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode("b", null, toDisplayString(m.title), 1),
                                                            createVNode("div", { class: "muted" }, [
                                                              createTextVNode(toDisplayString(m.lessonCount ?? 0) + " " + toDisplayString(t("lessons")) + " ", 1),
                                                              m.minutes ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                                createTextVNode(" · ~" + toDisplayString(m.minutes) + " " + toDisplayString(t("min")), 1)
                                                              ], 64)) : createCommentVNode("", true)
                                                            ])
                                                          ]),
                                                          _: 2
                                                        }, 1032, ["onClick"])
                                                      ];
                                                    }
                                                  }),
                                                  _: 2
                                                }, _parent7, _scopeId6));
                                              });
                                              _push7(`<!--]-->`);
                                            } else {
                                              return [
                                                (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                                  return openBlock(), createBlock(_component_a_col, {
                                                    key: m.id,
                                                    xs: 24,
                                                    sm: 12,
                                                    md: 8
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                            default: withCtx(() => [
                                                              createTextVNode("Students")
                                                            ]),
                                                            _: 1
                                                          }),
                                                          createVNode(_component_a_breadcrumb_item, null, {
                                                            default: withCtx(() => [
                                                              createTextVNode("Modules")
                                                            ]),
                                                            _: 1
                                                          })
                                                        ]),
                                                        _: 1
                                                      }),
                                                      createVNode(_component_a_card, {
                                                        hoverable: "",
                                                        class: "mt-2",
                                                        onClick: ($event) => switchModule(m.id),
                                                        "data-test-id": "module-card"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createVNode("b", null, toDisplayString(m.title), 1),
                                                          createVNode("div", { class: "muted" }, [
                                                            createTextVNode(toDisplayString(m.lessonCount ?? 0) + " " + toDisplayString(t("lessons")) + " ", 1),
                                                            m.minutes ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                              createTextVNode(" · ~" + toDisplayString(m.minutes) + " " + toDisplayString(t("min")), 1)
                                                            ], 64)) : createCommentVNode("", true)
                                                          ])
                                                        ]),
                                                        _: 2
                                                      }, 1032, ["onClick"])
                                                    ]),
                                                    _: 2
                                                  }, 1024);
                                                }), 128))
                                              ];
                                            }
                                          }),
                                          _: 1
                                        }, _parent6, _scopeId5));
                                      }
                                      _push6(ssrRenderComponent(_component_a_divider, null, null, _parent6, _scopeId5));
                                      if (!isEnrolledCourse.value) {
                                        _push6(`<div class="enroll-cta" data-v-6d06c401${_scopeId5}>`);
                                        _push6(ssrRenderComponent(_component_a_result, {
                                          status: "info",
                                          title: t("Enroll to unlock full access"),
                                          "sub-title": t("You can still watch previews and read public materials.")
                                        }, {
                                          extra: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                            if (_push7) {
                                              _push7(ssrRenderComponent(_component_a_space, null, {
                                                default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                  if (_push8) {
                                                    _push8(ssrRenderComponent(_component_a_button, {
                                                      type: "primary",
                                                      onClick: _ctx.mockEnroll
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(`${ssrInterpolate(t("Enroll now"))}`);
                                                        } else {
                                                          return [
                                                            createTextVNode(toDisplayString(t("Enroll now")), 1)
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                    _push8(ssrRenderComponent(_component_a_button, {
                                                      onClick: ($event) => openPricing.value = true
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(`${ssrInterpolate(t("See pricing"))}`);
                                                        } else {
                                                          return [
                                                            createTextVNode(toDisplayString(t("See pricing")), 1)
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                  } else {
                                                    return [
                                                      createVNode(_component_a_button, {
                                                        type: "primary",
                                                        onClick: _ctx.mockEnroll
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Enroll now")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick"]),
                                                      createVNode(_component_a_button, {
                                                        onClick: ($event) => openPricing.value = true
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("See pricing")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick"])
                                                    ];
                                                  }
                                                }),
                                                _: 1
                                              }, _parent7, _scopeId6));
                                            } else {
                                              return [
                                                createVNode(_component_a_space, null, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_button, {
                                                      type: "primary",
                                                      onClick: _ctx.mockEnroll
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Enroll now")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick"]),
                                                    createVNode(_component_a_button, {
                                                      onClick: ($event) => openPricing.value = true
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("See pricing")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick"])
                                                  ]),
                                                  _: 1
                                                })
                                              ];
                                            }
                                          }),
                                          _: 1
                                        }, _parent6, _scopeId5));
                                        _push6(`</div>`);
                                      } else {
                                        _push6(`<!---->`);
                                      }
                                    } else {
                                      return [
                                        createVNode("p", { class: "muted" }, toDisplayString(t("Browse modules and jump in — everything runs in this page.")), 1),
                                        !hasModules.value && !loadingCourse.value ? (openBlock(), createBlock(_component_a_empty, {
                                          key: 0,
                                          description: t("No modules yet")
                                        }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_row, {
                                          key: 1,
                                          gutter: 16
                                        }, {
                                          default: withCtx(() => [
                                            (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                              return openBlock(), createBlock(_component_a_col, {
                                                key: m.id,
                                                xs: 24,
                                                sm: 12,
                                                md: 8
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                        default: withCtx(() => [
                                                          createTextVNode("Students")
                                                        ]),
                                                        _: 1
                                                      }),
                                                      createVNode(_component_a_breadcrumb_item, null, {
                                                        default: withCtx(() => [
                                                          createTextVNode("Modules")
                                                        ]),
                                                        _: 1
                                                      })
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_card, {
                                                    hoverable: "",
                                                    class: "mt-2",
                                                    onClick: ($event) => switchModule(m.id),
                                                    "data-test-id": "module-card"
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode("b", null, toDisplayString(m.title), 1),
                                                      createVNode("div", { class: "muted" }, [
                                                        createTextVNode(toDisplayString(m.lessonCount ?? 0) + " " + toDisplayString(t("lessons")) + " ", 1),
                                                        m.minutes ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                          createTextVNode(" · ~" + toDisplayString(m.minutes) + " " + toDisplayString(t("min")), 1)
                                                        ], 64)) : createCommentVNode("", true)
                                                      ])
                                                    ]),
                                                    _: 2
                                                  }, 1032, ["onClick"])
                                                ]),
                                                _: 2
                                              }, 1024);
                                            }), 128))
                                          ]),
                                          _: 1
                                        })),
                                        createVNode(_component_a_divider),
                                        !isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                          key: 2,
                                          class: "enroll-cta"
                                        }, [
                                          createVNode(_component_a_result, {
                                            status: "info",
                                            title: t("Enroll to unlock full access"),
                                            "sub-title": t("You can still watch previews and read public materials.")
                                          }, {
                                            extra: withCtx(() => [
                                              createVNode(_component_a_space, null, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_button, {
                                                    type: "primary",
                                                    onClick: _ctx.mockEnroll
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Enroll now")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick"]),
                                                  createVNode(_component_a_button, {
                                                    onClick: ($event) => openPricing.value = true
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("See pricing")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick"])
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }, 8, ["title", "sub-title"])
                                        ])) : createCommentVNode("", true)
                                      ];
                                    }
                                  }),
                                  _: 1
                                }, _parent5, _scopeId4));
                                _push5(`<!--]-->`);
                              } else {
                                _push5(ssrRenderComponent(_component_a_spin, { spinning: loadingModule.value }, {
                                  default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                    if (_push6) {
                                      _push6(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                        default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                          if (_push7) {
                                            _push7(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                if (_push8) {
                                                  _push8(`Students`);
                                                } else {
                                                  return [
                                                    createTextVNode("Students")
                                                  ];
                                                }
                                              }),
                                              _: 1
                                            }, _parent7, _scopeId6));
                                            _push7(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                              default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                if (_push8) {
                                                  _push8(`Modules`);
                                                } else {
                                                  return [
                                                    createTextVNode("Modules")
                                                  ];
                                                }
                                              }),
                                              _: 1
                                            }, _parent7, _scopeId6));
                                          } else {
                                            return [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ];
                                          }
                                        }),
                                        _: 1
                                      }, _parent6, _scopeId5));
                                      if (currentLesson.value) {
                                        _push6(ssrRenderComponent(_component_a_card, {
                                          title: currentLesson.value.title || t("Lesson"),
                                          "data-test-id": "lesson-card"
                                        }, {
                                          extra: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                            if (_push7) {
                                              _push7(ssrRenderComponent(_component_a_space, null, {
                                                default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                  if (_push8) {
                                                    _push8(ssrRenderComponent(_component_a_tag, null, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(`${ssrInterpolate((currentLesson.value.type || "").toUpperCase())}`);
                                                        } else {
                                                          return [
                                                            createTextVNode(toDisplayString((currentLesson.value.type || "").toUpperCase()), 1)
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                    if (currentLesson.value.preview) {
                                                      _push8(ssrRenderComponent(_component_a_tag, { color: "cyan" }, {
                                                        default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                          if (_push9) {
                                                            _push9(`${ssrInterpolate(t("Preview"))}`);
                                                          } else {
                                                            return [
                                                              createTextVNode(toDisplayString(t("Preview")), 1)
                                                            ];
                                                          }
                                                        }),
                                                        _: 1
                                                      }, _parent8, _scopeId7));
                                                    } else {
                                                      _push8(`<!---->`);
                                                    }
                                                    _push8(`<span class="muted" data-v-6d06c401${_scopeId7}>`);
                                                    _push8(ssrRenderComponent(unref(FieldTimeOutlined), null, null, _parent8, _scopeId7));
                                                    _push8(` ${ssrInterpolate(currentLesson.value.duration || 0)} ${ssrInterpolate(t("min"))}</span>`);
                                                    _push8(ssrRenderComponent(_component_a_tooltip, {
                                                      title: t("Bookmark current lesson")
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(ssrRenderComponent(_component_a_button, {
                                                            size: "small",
                                                            onClick: _ctx.bookmarkCurrent,
                                                            "data-test-id": "bookmark-btn"
                                                          }, {
                                                            icon: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                              if (_push10) {
                                                                _push10(ssrRenderComponent(unref(BookOutlined), null, null, _parent10, _scopeId9));
                                                              } else {
                                                                return [
                                                                  createVNode(unref(BookOutlined))
                                                                ];
                                                              }
                                                            }),
                                                            _: 1
                                                          }, _parent9, _scopeId8));
                                                        } else {
                                                          return [
                                                            createVNode(_component_a_button, {
                                                              size: "small",
                                                              onClick: _ctx.bookmarkCurrent,
                                                              "data-test-id": "bookmark-btn"
                                                            }, {
                                                              icon: withCtx(() => [
                                                                createVNode(unref(BookOutlined))
                                                              ]),
                                                              _: 1
                                                            }, 8, ["onClick"])
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                    _push8(ssrRenderComponent(_component_a_tooltip, {
                                                      title: t("Print lesson")
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(ssrRenderComponent(_component_a_button, {
                                                            size: "small",
                                                            onClick: _ctx.printLesson
                                                          }, {
                                                            icon: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                              if (_push10) {
                                                                _push10(ssrRenderComponent(unref(PrinterOutlined), null, null, _parent10, _scopeId9));
                                                              } else {
                                                                return [
                                                                  createVNode(unref(PrinterOutlined))
                                                                ];
                                                              }
                                                            }),
                                                            _: 1
                                                          }, _parent9, _scopeId8));
                                                        } else {
                                                          return [
                                                            createVNode(_component_a_button, {
                                                              size: "small",
                                                              onClick: _ctx.printLesson
                                                            }, {
                                                              icon: withCtx(() => [
                                                                createVNode(unref(PrinterOutlined))
                                                              ]),
                                                              _: 1
                                                            }, 8, ["onClick"])
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                  } else {
                                                    return [
                                                      createVNode(_component_a_tag, null, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString((currentLesson.value.type || "").toUpperCase()), 1)
                                                        ]),
                                                        _: 1
                                                      }),
                                                      currentLesson.value.preview ? (openBlock(), createBlock(_component_a_tag, {
                                                        key: 0,
                                                        color: "cyan"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Preview")), 1)
                                                        ]),
                                                        _: 1
                                                      })) : createCommentVNode("", true),
                                                      createVNode("span", { class: "muted" }, [
                                                        createVNode(unref(FieldTimeOutlined)),
                                                        createTextVNode(" " + toDisplayString(currentLesson.value.duration || 0) + " " + toDisplayString(t("min")), 1)
                                                      ]),
                                                      createVNode(_component_a_tooltip, {
                                                        title: t("Bookmark current lesson")
                                                      }, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_button, {
                                                            size: "small",
                                                            onClick: _ctx.bookmarkCurrent,
                                                            "data-test-id": "bookmark-btn"
                                                          }, {
                                                            icon: withCtx(() => [
                                                              createVNode(unref(BookOutlined))
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick"])
                                                        ]),
                                                        _: 1
                                                      }, 8, ["title"]),
                                                      createVNode(_component_a_tooltip, {
                                                        title: t("Print lesson")
                                                      }, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_button, {
                                                            size: "small",
                                                            onClick: _ctx.printLesson
                                                          }, {
                                                            icon: withCtx(() => [
                                                              createVNode(unref(PrinterOutlined))
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick"])
                                                        ]),
                                                        _: 1
                                                      }, 8, ["title"])
                                                    ];
                                                  }
                                                }),
                                                _: 1
                                              }, _parent7, _scopeId6));
                                            } else {
                                              return [
                                                createVNode(_component_a_space, null, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_tag, null, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString((currentLesson.value.type || "").toUpperCase()), 1)
                                                      ]),
                                                      _: 1
                                                    }),
                                                    currentLesson.value.preview ? (openBlock(), createBlock(_component_a_tag, {
                                                      key: 0,
                                                      color: "cyan"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Preview")), 1)
                                                      ]),
                                                      _: 1
                                                    })) : createCommentVNode("", true),
                                                    createVNode("span", { class: "muted" }, [
                                                      createVNode(unref(FieldTimeOutlined)),
                                                      createTextVNode(" " + toDisplayString(currentLesson.value.duration || 0) + " " + toDisplayString(t("min")), 1)
                                                    ]),
                                                    createVNode(_component_a_tooltip, {
                                                      title: t("Bookmark current lesson")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_button, {
                                                          size: "small",
                                                          onClick: _ctx.bookmarkCurrent,
                                                          "data-test-id": "bookmark-btn"
                                                        }, {
                                                          icon: withCtx(() => [
                                                            createVNode(unref(BookOutlined))
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick"])
                                                      ]),
                                                      _: 1
                                                    }, 8, ["title"]),
                                                    createVNode(_component_a_tooltip, {
                                                      title: t("Print lesson")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_button, {
                                                          size: "small",
                                                          onClick: _ctx.printLesson
                                                        }, {
                                                          icon: withCtx(() => [
                                                            createVNode(unref(PrinterOutlined))
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick"])
                                                      ]),
                                                      _: 1
                                                    }, 8, ["title"])
                                                  ]),
                                                  _: 1
                                                })
                                              ];
                                            }
                                          }),
                                          default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                            if (_push7) {
                                              if (isLocked(currentLesson.value)) ; else {
                                                _push7(`<!--[-->`);
                                                if (currentLesson.value.type === "video") {
                                                  _push7(`<div data-v-6d06c401${_scopeId6}><div class="video-controls" data-v-6d06c401${_scopeId6}>`);
                                                  _push7(ssrRenderComponent(_component_a_space, null, {
                                                    default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                      if (_push8) {
                                                        _push8(ssrRenderComponent(_component_a_segmented, {
                                                          value: videoSpeed.value,
                                                          "onUpdate:value": ($event) => videoSpeed.value = $event,
                                                          options: [0.75, 1, 1.25, 1.5, 1.75, 2].map((v) => ({ label: `${v}x`, value: v })),
                                                          "data-test-id": "video-speed"
                                                        }, null, _parent8, _scopeId7));
                                                        _push8(ssrRenderComponent(_component_a_button, {
                                                          size: "small",
                                                          onClick: _ctx.bookmarkTimestamp,
                                                          "data-test-id": "bookmark-ts"
                                                        }, {
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              _push9(ssrRenderComponent(unref(ClockCircleOutlined), null, null, _parent9, _scopeId8));
                                                              _push9(` ${ssrInterpolate(t("Bookmark timestamp"))}`);
                                                            } else {
                                                              return [
                                                                createVNode(unref(ClockCircleOutlined)),
                                                                createTextVNode(" " + toDisplayString(t("Bookmark timestamp")), 1)
                                                              ];
                                                            }
                                                          }),
                                                          _: 1
                                                        }, _parent8, _scopeId7));
                                                      } else {
                                                        return [
                                                          createVNode(_component_a_segmented, {
                                                            value: videoSpeed.value,
                                                            "onUpdate:value": ($event) => videoSpeed.value = $event,
                                                            options: [0.75, 1, 1.25, 1.5, 1.75, 2].map((v) => ({ label: `${v}x`, value: v })),
                                                            "data-test-id": "video-speed"
                                                          }, null, 8, ["value", "onUpdate:value", "options"]),
                                                          createVNode(_component_a_button, {
                                                            size: "small",
                                                            onClick: _ctx.bookmarkTimestamp,
                                                            "data-test-id": "bookmark-ts"
                                                          }, {
                                                            default: withCtx(() => [
                                                              createVNode(unref(ClockCircleOutlined)),
                                                              createTextVNode(" " + toDisplayString(t("Bookmark timestamp")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick"])
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent7, _scopeId6));
                                                  _push7(`</div>`);
                                                  if (ytEmbed(currentLesson.value.videoUrl)) {
                                                    _push7(`<div class="video-wrap" data-v-6d06c401${_scopeId6}><iframe${ssrRenderAttr("src", ytEmbed(currentLesson.value.videoUrl))} frameborder="0" allowfullscreen data-test-id="yt-iframe" data-v-6d06c401${_scopeId6}></iframe></div>`);
                                                  } else {
                                                    _push7(`<div class="video-fallback" data-v-6d06c401${_scopeId6}>`);
                                                    _push7(ssrRenderComponent(_component_a_typography_paragraph, null, {
                                                      default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                        if (_push8) {
                                                          _push8(`${ssrInterpolate(t("Video URL:"))} <a${ssrRenderAttr("href", currentLesson.value.videoUrl)} target="_blank" data-v-6d06c401${_scopeId7}>${ssrInterpolate(currentLesson.value.videoUrl || "—")}</a>`);
                                                        } else {
                                                          return [
                                                            createTextVNode(toDisplayString(t("Video URL:")) + " ", 1),
                                                            createVNode("a", {
                                                              href: currentLesson.value.videoUrl,
                                                              target: "_blank"
                                                            }, toDisplayString(currentLesson.value.videoUrl || "—"), 9, ["href"])
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent7, _scopeId6));
                                                    if (currentLesson.value.videoUrl) {
                                                      _push7(`<video controls${ssrRenderAttr("playbackRate", videoSpeed.value)} style="${ssrRenderStyle({ "width": "100%", "border-radius": "10px" })}" data-test-id="html5-video" data-v-6d06c401${_scopeId6}><source${ssrRenderAttr("src", currentLesson.value.videoUrl)} type="video/mp4" data-v-6d06c401${_scopeId6}></video>`);
                                                    } else {
                                                      _push7(`<!---->`);
                                                    }
                                                    _push7(`</div>`);
                                                  }
                                                  _push7(ssrRenderComponent(_component_a_divider, null, {
                                                    default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                      if (_push8) {
                                                        _push8(`${ssrInterpolate(t("Notes"))}`);
                                                      } else {
                                                        return [
                                                          createTextVNode(toDisplayString(t("Notes")), 1)
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent7, _scopeId6));
                                                  _push7(ssrRenderComponent(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                    default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                      if (_push8) {
                                                        _push8(`${ssrInterpolate(currentLesson.value.content)}`);
                                                      } else {
                                                        return [
                                                          createTextVNode(toDisplayString(currentLesson.value.content), 1)
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent7, _scopeId6));
                                                  _push7(`</div>`);
                                                } else if (currentLesson.value.type === "reading") {
                                                  _push7(`<div data-v-6d06c401${_scopeId6}>`);
                                                  _push7(ssrRenderComponent(_component_a_collapse, {
                                                    bordered: false,
                                                    class: "reading-collapse"
                                                  }, {
                                                    default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                      if (_push8) {
                                                        _push8(ssrRenderComponent(_component_a_collapse_panel, {
                                                          key: "content",
                                                          header: t("Lesson content")
                                                        }, {
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              _push9(ssrRenderComponent(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                                default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                  if (_push10) {
                                                                    _push10(`${ssrInterpolate(currentLesson.value.content || t("No content"))}`);
                                                                  } else {
                                                                    return [
                                                                      createTextVNode(toDisplayString(currentLesson.value.content || t("No content")), 1)
                                                                    ];
                                                                  }
                                                                }),
                                                                _: 1
                                                              }, _parent9, _scopeId8));
                                                            } else {
                                                              return [
                                                                createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(currentLesson.value.content || t("No content")), 1)
                                                                  ]),
                                                                  _: 1
                                                                })
                                                              ];
                                                            }
                                                          }),
                                                          _: 1
                                                        }, _parent8, _scopeId7));
                                                        _push8(ssrRenderComponent(_component_a_collapse_panel, {
                                                          key: "highlights",
                                                          header: t("Highlights")
                                                        }, {
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              if (!notes[currentLesson.value.id]?.highlights?.length) {
                                                                _push9(ssrRenderComponent(_component_a_empty, {
                                                                  description: t("No highlights")
                                                                }, null, _parent9, _scopeId8));
                                                              } else {
                                                                _push9(ssrRenderComponent(_component_a_list, {
                                                                  "data-source": notes[currentLesson.value.id].highlights,
                                                                  size: "small"
                                                                }, {
                                                                  renderItem: withCtx(({ item }, _push10, _parent10, _scopeId9) => {
                                                                    if (_push10) {
                                                                      _push10(ssrRenderComponent(_component_a_list_item, null, {
                                                                        default: withCtx((_9, _push11, _parent11, _scopeId10) => {
                                                                          if (_push11) {
                                                                            _push11(`${ssrInterpolate(item)}`);
                                                                          } else {
                                                                            return [
                                                                              createTextVNode(toDisplayString(item), 1)
                                                                            ];
                                                                          }
                                                                        }),
                                                                        _: 2
                                                                      }, _parent10, _scopeId9));
                                                                    } else {
                                                                      return [
                                                                        createVNode(_component_a_list_item, null, {
                                                                          default: withCtx(() => [
                                                                            createTextVNode(toDisplayString(item), 1)
                                                                          ]),
                                                                          _: 2
                                                                        }, 1024)
                                                                      ];
                                                                    }
                                                                  }),
                                                                  _: 1
                                                                }, _parent9, _scopeId8));
                                                              }
                                                            } else {
                                                              return [
                                                                !notes[currentLesson.value.id]?.highlights?.length ? (openBlock(), createBlock(_component_a_empty, {
                                                                  key: 0,
                                                                  description: t("No highlights")
                                                                }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                                  key: 1,
                                                                  "data-source": notes[currentLesson.value.id].highlights,
                                                                  size: "small"
                                                                }, {
                                                                  renderItem: withCtx(({ item }) => [
                                                                    createVNode(_component_a_list_item, null, {
                                                                      default: withCtx(() => [
                                                                        createTextVNode(toDisplayString(item), 1)
                                                                      ]),
                                                                      _: 2
                                                                    }, 1024)
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["data-source"]))
                                                              ];
                                                            }
                                                          }),
                                                          _: 1
                                                        }, _parent8, _scopeId7));
                                                      } else {
                                                        return [
                                                          createVNode(_component_a_collapse_panel, {
                                                            key: "content",
                                                            header: t("Lesson content")
                                                          }, {
                                                            default: withCtx(() => [
                                                              createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                                default: withCtx(() => [
                                                                  createTextVNode(toDisplayString(currentLesson.value.content || t("No content")), 1)
                                                                ]),
                                                                _: 1
                                                              })
                                                            ]),
                                                            _: 1
                                                          }, 8, ["header"]),
                                                          createVNode(_component_a_collapse_panel, {
                                                            key: "highlights",
                                                            header: t("Highlights")
                                                          }, {
                                                            default: withCtx(() => [
                                                              !notes[currentLesson.value.id]?.highlights?.length ? (openBlock(), createBlock(_component_a_empty, {
                                                                key: 0,
                                                                description: t("No highlights")
                                                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                                key: 1,
                                                                "data-source": notes[currentLesson.value.id].highlights,
                                                                size: "small"
                                                              }, {
                                                                renderItem: withCtx(({ item }) => [
                                                                  createVNode(_component_a_list_item, null, {
                                                                    default: withCtx(() => [
                                                                      createTextVNode(toDisplayString(item), 1)
                                                                    ]),
                                                                    _: 2
                                                                  }, 1024)
                                                                ]),
                                                                _: 1
                                                              }, 8, ["data-source"]))
                                                            ]),
                                                            _: 1
                                                          }, 8, ["header"])
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent7, _scopeId6));
                                                  _push7(`</div>`);
                                                } else if (currentLesson.value.type === "assignment") {
                                                  _push7(`<div data-v-6d06c401${_scopeId6}>`);
                                                  _push7(ssrRenderComponent(_component_a_alert, {
                                                    type: "info",
                                                    "show-icon": "",
                                                    message: t("Assignment brief"),
                                                    class: "mb-1"
                                                  }, null, _parent7, _scopeId6));
                                                  _push7(ssrRenderComponent(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                    default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                      if (_push8) {
                                                        _push8(`${ssrInterpolate(currentLesson.value.content || t("No brief"))}`);
                                                      } else {
                                                        return [
                                                          createTextVNode(toDisplayString(currentLesson.value.content || t("No brief")), 1)
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent7, _scopeId6));
                                                  if (currentLesson.value.rubric) {
                                                    _push7(ssrRenderComponent(_component_a_alert, {
                                                      type: "success",
                                                      "show-icon": "",
                                                      message: t("Rubric"),
                                                      description: currentLesson.value.rubric
                                                    }, null, _parent7, _scopeId6));
                                                  } else {
                                                    _push7(`<!---->`);
                                                  }
                                                  _push7(ssrRenderComponent(_component_a_divider, null, null, _parent7, _scopeId6));
                                                  _push7(ssrRenderComponent(_component_a_space, null, {
                                                    default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                      if (_push8) {
                                                        _push8(ssrRenderComponent(_component_a_button, {
                                                          type: "primary",
                                                          onClick: _ctx.openSubmitDrawer,
                                                          "data-test-id": "open-submit-drawer"
                                                        }, {
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              _push9(`${ssrInterpolate(t("Submit assignment"))}`);
                                                            } else {
                                                              return [
                                                                createTextVNode(toDisplayString(t("Submit assignment")), 1)
                                                              ];
                                                            }
                                                          }),
                                                          _: 1
                                                        }, _parent8, _scopeId7));
                                                        _push8(ssrRenderComponent(_component_a_button, {
                                                          onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                          disabled: isCompleted(currentLesson.value.id)
                                                        }, {
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              _push9(`${ssrInterpolate(t("Mark complete"))}`);
                                                            } else {
                                                              return [
                                                                createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                              ];
                                                            }
                                                          }),
                                                          _: 1
                                                        }, _parent8, _scopeId7));
                                                      } else {
                                                        return [
                                                          createVNode(_component_a_button, {
                                                            type: "primary",
                                                            onClick: _ctx.openSubmitDrawer,
                                                            "data-test-id": "open-submit-drawer"
                                                          }, {
                                                            default: withCtx(() => [
                                                              createTextVNode(toDisplayString(t("Submit assignment")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick"]),
                                                          createVNode(_component_a_button, {
                                                            onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                            disabled: isCompleted(currentLesson.value.id)
                                                          }, {
                                                            default: withCtx(() => [
                                                              createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick", "disabled"])
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent7, _scopeId6));
                                                  _push7(`</div>`);
                                                } else if (currentLesson.value.type === "quiz") {
                                                  _push7(`<div data-v-6d06c401${_scopeId6}>`);
                                                  _push7(ssrRenderComponent(_component_a_alert, {
                                                    type: "info",
                                                    "show-icon": "",
                                                    message: t("Answer the questions and submit."),
                                                    class: "mb-2"
                                                  }, null, _parent7, _scopeId6));
                                                  _push7(`<!--[-->`);
                                                  ssrRenderList(currentLesson.value.quiz?.questions || [], (q, qi) => {
                                                    _push7(`<div class="quiz-q" data-v-6d06c401${_scopeId6}><b data-v-6d06c401${_scopeId6}>Q${ssrInterpolate(qi + 1)}</b>: ${ssrInterpolate(q.text || t("(empty)"))} `);
                                                    if (q.type === "mcq") {
                                                      _push7(`<div class="mt-1" data-v-6d06c401${_scopeId6}>`);
                                                      _push7(ssrRenderComponent(_component_a_checkbox_group, {
                                                        value: _ctx.quizState[q.id],
                                                        "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                        options: (q.options || []).map((o, oi) => ({ label: o.text || `${t("Option")} ${oi + 1}`, value: oi })),
                                                        "data-test-id": "quiz-mcq"
                                                      }, null, _parent7, _scopeId6));
                                                      _push7(`</div>`);
                                                    } else if (q.type === "tf") {
                                                      _push7(`<div class="mt-1" data-v-6d06c401${_scopeId6}>`);
                                                      _push7(ssrRenderComponent(_component_a_radio_group, {
                                                        value: _ctx.quizState[q.id],
                                                        "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                        "data-test-id": "quiz-tf"
                                                      }, {
                                                        default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                          if (_push8) {
                                                            _push8(ssrRenderComponent(_component_a_radio, { value: true }, {
                                                              default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                                if (_push9) {
                                                                  _push9(`${ssrInterpolate(t("True"))}`);
                                                                } else {
                                                                  return [
                                                                    createTextVNode(toDisplayString(t("True")), 1)
                                                                  ];
                                                                }
                                                              }),
                                                              _: 2
                                                            }, _parent8, _scopeId7));
                                                            _push8(ssrRenderComponent(_component_a_radio, { value: false }, {
                                                              default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                                if (_push9) {
                                                                  _push9(`${ssrInterpolate(t("False"))}`);
                                                                } else {
                                                                  return [
                                                                    createTextVNode(toDisplayString(t("False")), 1)
                                                                  ];
                                                                }
                                                              }),
                                                              _: 2
                                                            }, _parent8, _scopeId7));
                                                          } else {
                                                            return [
                                                              createVNode(_component_a_radio, { value: true }, {
                                                                default: withCtx(() => [
                                                                  createTextVNode(toDisplayString(t("True")), 1)
                                                                ]),
                                                                _: 1
                                                              }),
                                                              createVNode(_component_a_radio, { value: false }, {
                                                                default: withCtx(() => [
                                                                  createTextVNode(toDisplayString(t("False")), 1)
                                                                ]),
                                                                _: 1
                                                              })
                                                            ];
                                                          }
                                                        }),
                                                        _: 2
                                                      }, _parent7, _scopeId6));
                                                      _push7(`</div>`);
                                                    } else {
                                                      _push7(`<div class="mt-1" data-v-6d06c401${_scopeId6}>`);
                                                      _push7(ssrRenderComponent(_component_a_input, {
                                                        value: _ctx.quizState[q.id],
                                                        "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                        placeholder: t("Your answer"),
                                                        "data-test-id": "quiz-short"
                                                      }, null, _parent7, _scopeId6));
                                                      _push7(`</div>`);
                                                    }
                                                    _push7(ssrRenderComponent(_component_a_divider, { class: "my-1" }, null, _parent7, _scopeId6));
                                                    _push7(`</div>`);
                                                  });
                                                  _push7(`<!--]-->`);
                                                  _push7(ssrRenderComponent(_component_a_space, null, {
                                                    default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                      if (_push8) {
                                                        _push8(ssrRenderComponent(_component_a_button, {
                                                          type: "primary",
                                                          onClick: _ctx.submitQuiz,
                                                          loading: _ctx.quizSubmitting,
                                                          "data-test-id": "submit-quiz"
                                                        }, {
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              _push9(`${ssrInterpolate(t("Submit quiz"))}`);
                                                            } else {
                                                              return [
                                                                createTextVNode(toDisplayString(t("Submit quiz")), 1)
                                                              ];
                                                            }
                                                          }),
                                                          _: 1
                                                        }, _parent8, _scopeId7));
                                                        _push8(ssrRenderComponent(_component_a_button, {
                                                          onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                          disabled: isCompleted(currentLesson.value.id)
                                                        }, {
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              _push9(`${ssrInterpolate(t("Mark complete"))}`);
                                                            } else {
                                                              return [
                                                                createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                              ];
                                                            }
                                                          }),
                                                          _: 1
                                                        }, _parent8, _scopeId7));
                                                      } else {
                                                        return [
                                                          createVNode(_component_a_button, {
                                                            type: "primary",
                                                            onClick: _ctx.submitQuiz,
                                                            loading: _ctx.quizSubmitting,
                                                            "data-test-id": "submit-quiz"
                                                          }, {
                                                            default: withCtx(() => [
                                                              createTextVNode(toDisplayString(t("Submit quiz")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick", "loading"]),
                                                          createVNode(_component_a_button, {
                                                            onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                            disabled: isCompleted(currentLesson.value.id)
                                                          }, {
                                                            default: withCtx(() => [
                                                              createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick", "disabled"])
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent7, _scopeId6));
                                                  _push7(`</div>`);
                                                } else if (currentLesson.value.type === "lab") {
                                                  _push7(`<div data-v-6d06c401${_scopeId6}>`);
                                                  _push7(ssrRenderComponent(_component_a_alert, {
                                                    type: "info",
                                                    "show-icon": "",
                                                    message: t("Interactive lab"),
                                                    description: t("Your lab environment opens in a new tab/window."),
                                                    class: "mb-2"
                                                  }, null, _parent7, _scopeId6));
                                                  if (labChallenges[currentLesson.value.id]) {
                                                    _push7(ssrRenderComponent(_component_a_card, {
                                                      size: "small",
                                                      class: "mb-2"
                                                    }, {
                                                      default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                        if (_push8) {
                                                          _push8(ssrRenderComponent(_component_a_descriptions, {
                                                            bordered: "",
                                                            size: "small",
                                                            column: 1
                                                          }, {
                                                            default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                              if (_push9) {
                                                                _push9(ssrRenderComponent(_component_a_descriptions_item, {
                                                                  label: t("Challenge")
                                                                }, {
                                                                  default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                    if (_push10) {
                                                                      _push10(`${ssrInterpolate(labChallenges[currentLesson.value.id].title)}`);
                                                                    } else {
                                                                      return [
                                                                        createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].title), 1)
                                                                      ];
                                                                    }
                                                                  }),
                                                                  _: 1
                                                                }, _parent9, _scopeId8));
                                                                _push9(ssrRenderComponent(_component_a_descriptions_item, {
                                                                  label: t("Difficulty")
                                                                }, {
                                                                  default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                    if (_push10) {
                                                                      _push10(`${ssrInterpolate(labChallenges[currentLesson.value.id].difficulty)}`);
                                                                    } else {
                                                                      return [
                                                                        createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].difficulty), 1)
                                                                      ];
                                                                    }
                                                                  }),
                                                                  _: 1
                                                                }, _parent9, _scopeId8));
                                                                if (labChallenges[currentLesson.value.id].description) {
                                                                  _push9(ssrRenderComponent(_component_a_descriptions_item, {
                                                                    label: t("Description")
                                                                  }, {
                                                                    default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                      if (_push10) {
                                                                        _push10(`${ssrInterpolate(labChallenges[currentLesson.value.id].description)}`);
                                                                      } else {
                                                                        return [
                                                                          createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].description), 1)
                                                                        ];
                                                                      }
                                                                    }),
                                                                    _: 1
                                                                  }, _parent9, _scopeId8));
                                                                } else {
                                                                  _push9(`<!---->`);
                                                                }
                                                              } else {
                                                                return [
                                                                  createVNode(_component_a_descriptions_item, {
                                                                    label: t("Challenge")
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].title), 1)
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["label"]),
                                                                  createVNode(_component_a_descriptions_item, {
                                                                    label: t("Difficulty")
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].difficulty), 1)
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["label"]),
                                                                  labChallenges[currentLesson.value.id].description ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                                    key: 0,
                                                                    label: t("Description")
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].description), 1)
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["label"])) : createCommentVNode("", true)
                                                                ];
                                                              }
                                                            }),
                                                            _: 1
                                                          }, _parent8, _scopeId7));
                                                        } else {
                                                          return [
                                                            createVNode(_component_a_descriptions, {
                                                              bordered: "",
                                                              size: "small",
                                                              column: 1
                                                            }, {
                                                              default: withCtx(() => [
                                                                createVNode(_component_a_descriptions_item, {
                                                                  label: t("Challenge")
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].title), 1)
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["label"]),
                                                                createVNode(_component_a_descriptions_item, {
                                                                  label: t("Difficulty")
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].difficulty), 1)
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["label"]),
                                                                labChallenges[currentLesson.value.id].description ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                                  key: 0,
                                                                  label: t("Description")
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].description), 1)
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["label"])) : createCommentVNode("", true)
                                                              ]),
                                                              _: 1
                                                            })
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent7, _scopeId6));
                                                  } else {
                                                    _push7(`<!---->`);
                                                  }
                                                  if (labSessions[currentLesson.value.id]) {
                                                    _push7(ssrRenderComponent(_component_a_card, {
                                                      size: "small",
                                                      class: "mb-2"
                                                    }, {
                                                      default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                        if (_push8) {
                                                          _push8(ssrRenderComponent(_component_a_descriptions, {
                                                            bordered: "",
                                                            size: "small",
                                                            column: 1
                                                          }, {
                                                            default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                              if (_push9) {
                                                                _push9(ssrRenderComponent(_component_a_descriptions_item, {
                                                                  label: t("Session status")
                                                                }, {
                                                                  default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                    if (_push10) {
                                                                      _push10(ssrRenderComponent(_component_a_tag, {
                                                                        color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                                      }, {
                                                                        default: withCtx((_10, _push11, _parent11, _scopeId10) => {
                                                                          if (_push11) {
                                                                            _push11(`${ssrInterpolate(labSessions[currentLesson.value.id].status?.toUpperCase())}`);
                                                                          } else {
                                                                            return [
                                                                              createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                            ];
                                                                          }
                                                                        }),
                                                                        _: 1
                                                                      }, _parent10, _scopeId9));
                                                                    } else {
                                                                      return [
                                                                        createVNode(_component_a_tag, {
                                                                          color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                                        }, {
                                                                          default: withCtx(() => [
                                                                            createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                          ]),
                                                                          _: 1
                                                                        }, 8, ["color"])
                                                                      ];
                                                                    }
                                                                  }),
                                                                  _: 1
                                                                }, _parent9, _scopeId8));
                                                                if (labSessions[currentLesson.value.id].codeServerUrl) {
                                                                  _push9(ssrRenderComponent(_component_a_descriptions_item, {
                                                                    label: t("VS Code URL")
                                                                  }, {
                                                                    default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                      if (_push10) {
                                                                        _push10(`<a${ssrRenderAttr("href", labSessions[currentLesson.value.id].codeServerUrl)} target="_blank" data-v-6d06c401${_scopeId9}>${ssrInterpolate(labSessions[currentLesson.value.id].codeServerUrl)}</a>`);
                                                                      } else {
                                                                        return [
                                                                          createVNode("a", {
                                                                            href: labSessions[currentLesson.value.id].codeServerUrl,
                                                                            target: "_blank"
                                                                          }, toDisplayString(labSessions[currentLesson.value.id].codeServerUrl), 9, ["href"])
                                                                        ];
                                                                      }
                                                                    }),
                                                                    _: 1
                                                                  }, _parent9, _scopeId8));
                                                                } else {
                                                                  _push9(`<!---->`);
                                                                }
                                                              } else {
                                                                return [
                                                                  createVNode(_component_a_descriptions_item, {
                                                                    label: t("Session status")
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createVNode(_component_a_tag, {
                                                                        color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                                      }, {
                                                                        default: withCtx(() => [
                                                                          createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                        ]),
                                                                        _: 1
                                                                      }, 8, ["color"])
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["label"]),
                                                                  labSessions[currentLesson.value.id].codeServerUrl ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                                    key: 0,
                                                                    label: t("VS Code URL")
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createVNode("a", {
                                                                        href: labSessions[currentLesson.value.id].codeServerUrl,
                                                                        target: "_blank"
                                                                      }, toDisplayString(labSessions[currentLesson.value.id].codeServerUrl), 9, ["href"])
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["label"])) : createCommentVNode("", true)
                                                                ];
                                                              }
                                                            }),
                                                            _: 1
                                                          }, _parent8, _scopeId7));
                                                        } else {
                                                          return [
                                                            createVNode(_component_a_descriptions, {
                                                              bordered: "",
                                                              size: "small",
                                                              column: 1
                                                            }, {
                                                              default: withCtx(() => [
                                                                createVNode(_component_a_descriptions_item, {
                                                                  label: t("Session status")
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createVNode(_component_a_tag, {
                                                                      color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                                    }, {
                                                                      default: withCtx(() => [
                                                                        createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                      ]),
                                                                      _: 1
                                                                    }, 8, ["color"])
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["label"]),
                                                                labSessions[currentLesson.value.id].codeServerUrl ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                                  key: 0,
                                                                  label: t("VS Code URL")
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createVNode("a", {
                                                                      href: labSessions[currentLesson.value.id].codeServerUrl,
                                                                      target: "_blank"
                                                                    }, toDisplayString(labSessions[currentLesson.value.id].codeServerUrl), 9, ["href"])
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["label"])) : createCommentVNode("", true)
                                                              ]),
                                                              _: 1
                                                            })
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent7, _scopeId6));
                                                  } else {
                                                    _push7(`<!---->`);
                                                  }
                                                  if (labSubmissions[currentLesson.value.id]) {
                                                    _push7(ssrRenderComponent(_component_a_card, {
                                                      size: "small",
                                                      class: "mb-2"
                                                    }, {
                                                      default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                        if (_push8) {
                                                          _push8(ssrRenderComponent(_component_a_descriptions, {
                                                            bordered: "",
                                                            size: "small",
                                                            column: 1
                                                          }, {
                                                            default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                              if (_push9) {
                                                                _push9(ssrRenderComponent(_component_a_descriptions_item, {
                                                                  label: t("Latest submission")
                                                                }, {
                                                                  default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                    if (_push10) {
                                                                      _push10(ssrRenderComponent(_component_a_tag, {
                                                                        color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                                      }, {
                                                                        default: withCtx((_10, _push11, _parent11, _scopeId10) => {
                                                                          if (_push11) {
                                                                            _push11(`${ssrInterpolate(labSubmissions[currentLesson.value.id].status?.toUpperCase())}`);
                                                                          } else {
                                                                            return [
                                                                              createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                            ];
                                                                          }
                                                                        }),
                                                                        _: 1
                                                                      }, _parent10, _scopeId9));
                                                                    } else {
                                                                      return [
                                                                        createVNode(_component_a_tag, {
                                                                          color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                                        }, {
                                                                          default: withCtx(() => [
                                                                            createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                          ]),
                                                                          _: 1
                                                                        }, 8, ["color"])
                                                                      ];
                                                                    }
                                                                  }),
                                                                  _: 1
                                                                }, _parent9, _scopeId8));
                                                                if (labSubmissions[currentLesson.value.id].gradePct != null) {
                                                                  _push9(ssrRenderComponent(_component_a_descriptions_item, {
                                                                    label: t("Grade")
                                                                  }, {
                                                                    default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                      if (_push10) {
                                                                        _push10(`${ssrInterpolate(labSubmissions[currentLesson.value.id].gradePct)}% `);
                                                                      } else {
                                                                        return [
                                                                          createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].gradePct) + "% ", 1)
                                                                        ];
                                                                      }
                                                                    }),
                                                                    _: 1
                                                                  }, _parent9, _scopeId8));
                                                                } else {
                                                                  _push9(`<!---->`);
                                                                }
                                                                if (labSubmissions[currentLesson.value.id].feedback) {
                                                                  _push9(ssrRenderComponent(_component_a_descriptions_item, {
                                                                    label: t("Feedback")
                                                                  }, {
                                                                    default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                                      if (_push10) {
                                                                        _push10(ssrRenderComponent(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                                          default: withCtx((_10, _push11, _parent11, _scopeId10) => {
                                                                            if (_push11) {
                                                                              _push11(`${ssrInterpolate(labSubmissions[currentLesson.value.id].feedback)}`);
                                                                            } else {
                                                                              return [
                                                                                createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                                              ];
                                                                            }
                                                                          }),
                                                                          _: 1
                                                                        }, _parent10, _scopeId9));
                                                                      } else {
                                                                        return [
                                                                          createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                                            default: withCtx(() => [
                                                                              createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                                            ]),
                                                                            _: 1
                                                                          })
                                                                        ];
                                                                      }
                                                                    }),
                                                                    _: 1
                                                                  }, _parent9, _scopeId8));
                                                                } else {
                                                                  _push9(`<!---->`);
                                                                }
                                                              } else {
                                                                return [
                                                                  createVNode(_component_a_descriptions_item, {
                                                                    label: t("Latest submission")
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createVNode(_component_a_tag, {
                                                                        color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                                      }, {
                                                                        default: withCtx(() => [
                                                                          createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                        ]),
                                                                        _: 1
                                                                      }, 8, ["color"])
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["label"]),
                                                                  labSubmissions[currentLesson.value.id].gradePct != null ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                                    key: 0,
                                                                    label: t("Grade")
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].gradePct) + "% ", 1)
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["label"])) : createCommentVNode("", true),
                                                                  labSubmissions[currentLesson.value.id].feedback ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                                    key: 1,
                                                                    label: t("Feedback")
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                                        default: withCtx(() => [
                                                                          createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                                        ]),
                                                                        _: 1
                                                                      })
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["label"])) : createCommentVNode("", true)
                                                                ];
                                                              }
                                                            }),
                                                            _: 1
                                                          }, _parent8, _scopeId7));
                                                        } else {
                                                          return [
                                                            createVNode(_component_a_descriptions, {
                                                              bordered: "",
                                                              size: "small",
                                                              column: 1
                                                            }, {
                                                              default: withCtx(() => [
                                                                createVNode(_component_a_descriptions_item, {
                                                                  label: t("Latest submission")
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createVNode(_component_a_tag, {
                                                                      color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                                    }, {
                                                                      default: withCtx(() => [
                                                                        createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                      ]),
                                                                      _: 1
                                                                    }, 8, ["color"])
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["label"]),
                                                                labSubmissions[currentLesson.value.id].gradePct != null ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                                  key: 0,
                                                                  label: t("Grade")
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].gradePct) + "% ", 1)
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["label"])) : createCommentVNode("", true),
                                                                labSubmissions[currentLesson.value.id].feedback ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                                  key: 1,
                                                                  label: t("Feedback")
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                                      default: withCtx(() => [
                                                                        createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                                      ]),
                                                                      _: 1
                                                                    })
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["label"])) : createCommentVNode("", true)
                                                              ]),
                                                              _: 1
                                                            })
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent7, _scopeId6));
                                                  } else {
                                                    _push7(`<!---->`);
                                                  }
                                                  _push7(ssrRenderComponent(_component_a_space, { wrap: "" }, {
                                                    default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                      if (_push8) {
                                                        _push8(ssrRenderComponent(_component_a_button, {
                                                          type: "primary",
                                                          onClick: ($event) => openLab(currentLesson.value),
                                                          loading: labSessionStarting[currentLesson.value.id],
                                                          disabled: labSessionStarting[currentLesson.value.id],
                                                          "data-test-id": "open-lab"
                                                        }, createSlots({
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              _push9(` ${ssrInterpolate(labSessions[currentLesson.value.id]?.codeServerUrl ? t("Open VS Code") : t("Start lab session"))}`);
                                                            } else {
                                                              return [
                                                                createTextVNode(" " + toDisplayString(labSessions[currentLesson.value.id]?.codeServerUrl ? t("Open VS Code") : t("Start lab session")), 1)
                                                              ];
                                                            }
                                                          }),
                                                          _: 2
                                                        }, [
                                                          labSessions[currentLesson.value.id]?.codeServerUrl ? {
                                                            name: "icon",
                                                            fn: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                              if (_push9) {
                                                                _push9(ssrRenderComponent(unref(CodeOutlined), null, null, _parent9, _scopeId8));
                                                              } else {
                                                                return [
                                                                  createVNode(unref(CodeOutlined))
                                                                ];
                                                              }
                                                            }),
                                                            key: "0"
                                                          } : void 0
                                                        ]), _parent8, _scopeId7));
                                                        if (labSessions[currentLesson.value.id]?.codeServerUrl) {
                                                          _push8(ssrRenderComponent(_component_a_button, {
                                                            onClick: ($event) => openLabUrl(currentLesson.value),
                                                            disabled: !labSessions[currentLesson.value.id]?.codeServerUrl,
                                                            "data-test-id": "open-lab-url"
                                                          }, {
                                                            default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                              if (_push9) {
                                                                _push9(`${ssrInterpolate(t("Open in new tab"))}`);
                                                              } else {
                                                                return [
                                                                  createTextVNode(toDisplayString(t("Open in new tab")), 1)
                                                                ];
                                                              }
                                                            }),
                                                            _: 1
                                                          }, _parent8, _scopeId7));
                                                        } else {
                                                          _push8(`<!---->`);
                                                        }
                                                        _push8(ssrRenderComponent(_component_a_button, {
                                                          type: "default",
                                                          onClick: ($event) => submitLab(currentLesson.value),
                                                          loading: labSubmitting[currentLesson.value.id],
                                                          disabled: labSubmitting[currentLesson.value.id] || !labSessions[currentLesson.value.id] || labSessions[currentLesson.value.id].status !== "running" && labSessions[currentLesson.value.id].status !== "starting",
                                                          "data-test-id": "submit-lab"
                                                        }, {
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              _push9(`${ssrInterpolate(t("Submit lab"))}`);
                                                            } else {
                                                              return [
                                                                createTextVNode(toDisplayString(t("Submit lab")), 1)
                                                              ];
                                                            }
                                                          }),
                                                          _: 1
                                                        }, _parent8, _scopeId7));
                                                        if (labSessions[currentLesson.value.id]?.id) {
                                                          _push8(ssrRenderComponent(_component_a_button, {
                                                            onClick: ($event) => refreshLabContainer(currentLesson.value),
                                                            loading: labRefreshing[currentLesson.value.id],
                                                            disabled: labRefreshing[currentLesson.value.id],
                                                            "data-test-id": "refresh-lab"
                                                          }, {
                                                            icon: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                              if (_push9) {
                                                                _push9(ssrRenderComponent(unref(CloudSyncOutlined), null, null, _parent9, _scopeId8));
                                                              } else {
                                                                return [
                                                                  createVNode(unref(CloudSyncOutlined))
                                                                ];
                                                              }
                                                            }),
                                                            default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                              if (_push9) {
                                                                _push9(` ${ssrInterpolate(t("Update container with saved code"))}`);
                                                              } else {
                                                                return [
                                                                  createTextVNode(" " + toDisplayString(t("Update container with saved code")), 1)
                                                                ];
                                                              }
                                                            }),
                                                            _: 1
                                                          }, _parent8, _scopeId7));
                                                        } else {
                                                          _push8(`<!---->`);
                                                        }
                                                        if (labSessions[currentLesson.value.id]?.id) {
                                                          _push8(ssrRenderComponent(_component_a_button, {
                                                            onClick: ($event) => restartLab(currentLesson.value),
                                                            loading: labRestarting[currentLesson.value.id],
                                                            disabled: labRestarting[currentLesson.value.id]
                                                          }, {
                                                            icon: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                              if (_push9) {
                                                                _push9(ssrRenderComponent(unref(ReloadOutlined), null, null, _parent9, _scopeId8));
                                                              } else {
                                                                return [
                                                                  createVNode(unref(ReloadOutlined))
                                                                ];
                                                              }
                                                            }),
                                                            default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                              if (_push9) {
                                                                _push9(` ${ssrInterpolate(t("Restart lab"))}`);
                                                              } else {
                                                                return [
                                                                  createTextVNode(" " + toDisplayString(t("Restart lab")), 1)
                                                                ];
                                                              }
                                                            }),
                                                            _: 1
                                                          }, _parent8, _scopeId7));
                                                        } else {
                                                          _push8(`<!---->`);
                                                        }
                                                        _push8(ssrRenderComponent(_component_a_button, {
                                                          onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                          disabled: isCompleted(currentLesson.value.id)
                                                        }, {
                                                          default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                            if (_push9) {
                                                              _push9(`${ssrInterpolate(t("Mark complete"))}`);
                                                            } else {
                                                              return [
                                                                createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                              ];
                                                            }
                                                          }),
                                                          _: 1
                                                        }, _parent8, _scopeId7));
                                                      } else {
                                                        return [
                                                          createVNode(_component_a_button, {
                                                            type: "primary",
                                                            onClick: ($event) => openLab(currentLesson.value),
                                                            loading: labSessionStarting[currentLesson.value.id],
                                                            disabled: labSessionStarting[currentLesson.value.id],
                                                            "data-test-id": "open-lab"
                                                          }, createSlots({
                                                            default: withCtx(() => [
                                                              createTextVNode(" " + toDisplayString(labSessions[currentLesson.value.id]?.codeServerUrl ? t("Open VS Code") : t("Start lab session")), 1)
                                                            ]),
                                                            _: 2
                                                          }, [
                                                            labSessions[currentLesson.value.id]?.codeServerUrl ? {
                                                              name: "icon",
                                                              fn: withCtx(() => [
                                                                createVNode(unref(CodeOutlined))
                                                              ]),
                                                              key: "0"
                                                            } : void 0
                                                          ]), 1032, ["onClick", "loading", "disabled"]),
                                                          labSessions[currentLesson.value.id]?.codeServerUrl ? (openBlock(), createBlock(_component_a_button, {
                                                            key: 0,
                                                            onClick: ($event) => openLabUrl(currentLesson.value),
                                                            disabled: !labSessions[currentLesson.value.id]?.codeServerUrl,
                                                            "data-test-id": "open-lab-url"
                                                          }, {
                                                            default: withCtx(() => [
                                                              createTextVNode(toDisplayString(t("Open in new tab")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick", "disabled"])) : createCommentVNode("", true),
                                                          createVNode(_component_a_button, {
                                                            type: "default",
                                                            onClick: ($event) => submitLab(currentLesson.value),
                                                            loading: labSubmitting[currentLesson.value.id],
                                                            disabled: labSubmitting[currentLesson.value.id] || !labSessions[currentLesson.value.id] || labSessions[currentLesson.value.id].status !== "running" && labSessions[currentLesson.value.id].status !== "starting",
                                                            "data-test-id": "submit-lab"
                                                          }, {
                                                            default: withCtx(() => [
                                                              createTextVNode(toDisplayString(t("Submit lab")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick", "loading", "disabled"]),
                                                          labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                            key: 1,
                                                            onClick: ($event) => refreshLabContainer(currentLesson.value),
                                                            loading: labRefreshing[currentLesson.value.id],
                                                            disabled: labRefreshing[currentLesson.value.id],
                                                            "data-test-id": "refresh-lab"
                                                          }, {
                                                            icon: withCtx(() => [
                                                              createVNode(unref(CloudSyncOutlined))
                                                            ]),
                                                            default: withCtx(() => [
                                                              createTextVNode(" " + toDisplayString(t("Update container with saved code")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                                          labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                            key: 2,
                                                            onClick: ($event) => restartLab(currentLesson.value),
                                                            loading: labRestarting[currentLesson.value.id],
                                                            disabled: labRestarting[currentLesson.value.id]
                                                          }, {
                                                            icon: withCtx(() => [
                                                              createVNode(unref(ReloadOutlined))
                                                            ]),
                                                            default: withCtx(() => [
                                                              createTextVNode(" " + toDisplayString(t("Restart lab")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                                          createVNode(_component_a_button, {
                                                            onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                            disabled: isCompleted(currentLesson.value.id)
                                                          }, {
                                                            default: withCtx(() => [
                                                              createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick", "disabled"])
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent7, _scopeId6));
                                                  _push7(`</div>`);
                                                } else {
                                                  _push7(`<div data-v-6d06c401${_scopeId6}>`);
                                                  _push7(ssrRenderComponent(_component_a_typography_text, { type: "secondary" }, {
                                                    default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                      if (_push8) {
                                                        _push8(`${ssrInterpolate(t("Unsupported lesson type."))}`);
                                                      } else {
                                                        return [
                                                          createTextVNode(toDisplayString(t("Unsupported lesson type.")), 1)
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent7, _scopeId6));
                                                  _push7(`</div>`);
                                                }
                                                _push7(`<!--]-->`);
                                              }
                                              _push7(ssrRenderComponent(_component_a_divider, null, null, _parent7, _scopeId6));
                                              _push7(ssrRenderComponent(_component_a_form, {
                                                layout: "vertical",
                                                class: "mt-2",
                                                onFinish: () => {
                                                }
                                              }, {
                                                default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                  if (_push8) {
                                                    _push8(ssrRenderComponent(_component_a_form_item, {
                                                      label: t("Your notes for this lesson")
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(ssrRenderComponent(_component_a_textarea, {
                                                            value: ensureNoteForLesson(currentLesson.value.id).text,
                                                            "onUpdate:value": ($event) => ensureNoteForLesson(currentLesson.value.id).text = $event,
                                                            rows: 4,
                                                            onChange: ($event) => _ctx.persistNotes(currentLesson.value.id),
                                                            "data-test-id": "lesson-notes"
                                                          }, null, _parent9, _scopeId8));
                                                        } else {
                                                          return [
                                                            createVNode(_component_a_textarea, {
                                                              value: ensureNoteForLesson(currentLesson.value.id).text,
                                                              "onUpdate:value": ($event) => ensureNoteForLesson(currentLesson.value.id).text = $event,
                                                              rows: 4,
                                                              onChange: ($event) => _ctx.persistNotes(currentLesson.value.id),
                                                              "data-test-id": "lesson-notes"
                                                            }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                  } else {
                                                    return [
                                                      createVNode(_component_a_form_item, {
                                                        label: t("Your notes for this lesson")
                                                      }, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_textarea, {
                                                            value: ensureNoteForLesson(currentLesson.value.id).text,
                                                            "onUpdate:value": ($event) => ensureNoteForLesson(currentLesson.value.id).text = $event,
                                                            rows: 4,
                                                            onChange: ($event) => _ctx.persistNotes(currentLesson.value.id),
                                                            "data-test-id": "lesson-notes"
                                                          }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                        ]),
                                                        _: 1
                                                      }, 8, ["label"])
                                                    ];
                                                  }
                                                }),
                                                _: 1
                                              }, _parent7, _scopeId6));
                                              _push7(`<div class="nav-actions" data-v-6d06c401${_scopeId6}>`);
                                              _push7(ssrRenderComponent(_component_a_space, { wrap: "" }, {
                                                default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                  if (_push8) {
                                                    if (currentLesson.value) {
                                                      _push8(ssrRenderComponent(_component_a_button, {
                                                        type: isCompleted(currentLesson.value.id) ? "default" : "primary",
                                                        onClick: ($event) => _ctx.toggleComplete(currentLesson.value),
                                                        "data-test-id": "toggle-complete"
                                                      }, {
                                                        icon: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                          if (_push9) {
                                                            _push9(ssrRenderComponent(unref(CheckOutlined), null, null, _parent9, _scopeId8));
                                                          } else {
                                                            return [
                                                              createVNode(unref(CheckOutlined))
                                                            ];
                                                          }
                                                        }),
                                                        default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                          if (_push9) {
                                                            _push9(` ${ssrInterpolate(isCompleted(currentLesson.value.id) ? t("Mark as incomplete") : t("Mark as complete"))}`);
                                                          } else {
                                                            return [
                                                              createTextVNode(" " + toDisplayString(isCompleted(currentLesson.value.id) ? t("Mark as incomplete") : t("Mark as complete")), 1)
                                                            ];
                                                          }
                                                        }),
                                                        _: 1
                                                      }, _parent8, _scopeId7));
                                                    } else {
                                                      _push8(`<!---->`);
                                                    }
                                                    _push8(ssrRenderComponent(_component_a_button, {
                                                      onClick: _ctx.prevLesson,
                                                      disabled: currentIndex.value <= 0,
                                                      "data-test-id": "prev-lesson"
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(`${ssrInterpolate(t("Previous"))}`);
                                                        } else {
                                                          return [
                                                            createTextVNode(toDisplayString(t("Previous")), 1)
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                    _push8(ssrRenderComponent(_component_a_button, {
                                                      type: "primary",
                                                      onClick: _ctx.nextLesson,
                                                      disabled: currentIndex.value >= lessons.value.length - 1,
                                                      "data-test-id": "next-lesson"
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(`${ssrInterpolate(t("Next"))} `);
                                                          _push9(ssrRenderComponent(unref(ArrowRightOutlined), null, null, _parent9, _scopeId8));
                                                        } else {
                                                          return [
                                                            createTextVNode(toDisplayString(t("Next")) + " ", 1),
                                                            createVNode(unref(ArrowRightOutlined))
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                    _push8(ssrRenderComponent(_component_a_checkbox, {
                                                      checked: autoNext.value,
                                                      "onUpdate:checked": ($event) => autoNext.value = $event,
                                                      class: "ml-2",
                                                      "data-test-id": "auto-next"
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(`${ssrInterpolate(t("Auto-next on complete"))}`);
                                                        } else {
                                                          return [
                                                            createTextVNode(toDisplayString(t("Auto-next on complete")), 1)
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                  } else {
                                                    return [
                                                      currentLesson.value ? (openBlock(), createBlock(_component_a_button, {
                                                        key: 0,
                                                        type: isCompleted(currentLesson.value.id) ? "default" : "primary",
                                                        onClick: ($event) => _ctx.toggleComplete(currentLesson.value),
                                                        "data-test-id": "toggle-complete"
                                                      }, {
                                                        icon: withCtx(() => [
                                                          createVNode(unref(CheckOutlined))
                                                        ]),
                                                        default: withCtx(() => [
                                                          createTextVNode(" " + toDisplayString(isCompleted(currentLesson.value.id) ? t("Mark as incomplete") : t("Mark as complete")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["type", "onClick"])) : createCommentVNode("", true),
                                                      createVNode(_component_a_button, {
                                                        onClick: _ctx.prevLesson,
                                                        disabled: currentIndex.value <= 0,
                                                        "data-test-id": "prev-lesson"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Previous")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick", "disabled"]),
                                                      createVNode(_component_a_button, {
                                                        type: "primary",
                                                        onClick: _ctx.nextLesson,
                                                        disabled: currentIndex.value >= lessons.value.length - 1,
                                                        "data-test-id": "next-lesson"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Next")) + " ", 1),
                                                          createVNode(unref(ArrowRightOutlined))
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick", "disabled"]),
                                                      createVNode(_component_a_checkbox, {
                                                        checked: autoNext.value,
                                                        "onUpdate:checked": ($event) => autoNext.value = $event,
                                                        class: "ml-2",
                                                        "data-test-id": "auto-next"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Auto-next on complete")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["checked", "onUpdate:checked"])
                                                    ];
                                                  }
                                                }),
                                                _: 1
                                              }, _parent7, _scopeId6));
                                              _push7(ssrRenderComponent(_component_a_rate, {
                                                value: ratings[currentLesson.value.id],
                                                "onUpdate:value": ($event) => ratings[currentLesson.value.id] = $event,
                                                "allow-half": "",
                                                onChange: _ctx.persistRatings
                                              }, null, _parent7, _scopeId6));
                                              _push7(`</div>`);
                                            } else {
                                              return [
                                                isLocked(currentLesson.value) ? (openBlock(), createBlock(_component_a_result, {
                                                  key: 0,
                                                  status: "warning",
                                                  title: t("This lesson is locked"),
                                                  "data-test-id": "locked-result"
                                                }, {
                                                  subTitle: withCtx(() => [
                                                    createVNode("div", { class: "muted" }, [
                                                      currentLesson.value.prerequisites?.length ? (openBlock(), createBlock("div", { key: 0 }, [
                                                        createTextVNode(toDisplayString(t("Complete prerequisite lesson(s):")) + " ", 1),
                                                        createVNode("ul", { class: "mt-1" }, [
                                                          (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.prerequisites, (pid) => {
                                                            return openBlock(), createBlock("li", { key: pid }, [
                                                              createVNode("span", {
                                                                class: ["preq", isCompleted(pid) && "ok"]
                                                              }, [
                                                                createTextVNode(toDisplayString(labelForLesson(pid) || pid) + " ", 1),
                                                                isCompleted(pid) ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                                  createTextVNode(" ✓")
                                                                ], 64)) : createCommentVNode("", true)
                                                              ], 2)
                                                            ]);
                                                          }), 128))
                                                        ])
                                                      ])) : createCommentVNode("", true),
                                                      unlockAtDate(currentLesson.value) ? (openBlock(), createBlock("div", { key: 1 }, toDisplayString(t("Unlocks at:")) + " " + toDisplayString(unlockAtDate(currentLesson.value)), 1)) : createCommentVNode("", true)
                                                    ])
                                                  ]),
                                                  extra: withCtx(() => [
                                                    createVNode(_component_a_space, null, {
                                                      default: withCtx(() => [
                                                        !isEnrolledCourse.value ? (openBlock(), createBlock(_component_a_button, {
                                                          key: 0,
                                                          type: "primary",
                                                          onClick: _ctx.mockEnroll
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Enroll")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick"])) : (openBlock(), createBlock(_component_a_button, {
                                                          key: 1,
                                                          onClick: _ctx.resumeLast
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Go to next available")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick"]))
                                                      ]),
                                                      _: 1
                                                    })
                                                  ]),
                                                  _: 1
                                                }, 8, ["title"])) : (openBlock(), createBlock(Fragment, { key: 1 }, [
                                                  currentLesson.value.type === "video" ? (openBlock(), createBlock("div", { key: 0 }, [
                                                    createVNode("div", { class: "video-controls" }, [
                                                      createVNode(_component_a_space, null, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_segmented, {
                                                            value: videoSpeed.value,
                                                            "onUpdate:value": ($event) => videoSpeed.value = $event,
                                                            options: [0.75, 1, 1.25, 1.5, 1.75, 2].map((v) => ({ label: `${v}x`, value: v })),
                                                            "data-test-id": "video-speed"
                                                          }, null, 8, ["value", "onUpdate:value", "options"]),
                                                          createVNode(_component_a_button, {
                                                            size: "small",
                                                            onClick: _ctx.bookmarkTimestamp,
                                                            "data-test-id": "bookmark-ts"
                                                          }, {
                                                            default: withCtx(() => [
                                                              createVNode(unref(ClockCircleOutlined)),
                                                              createTextVNode(" " + toDisplayString(t("Bookmark timestamp")), 1)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["onClick"])
                                                        ]),
                                                        _: 1
                                                      })
                                                    ]),
                                                    ytEmbed(currentLesson.value.videoUrl) ? (openBlock(), createBlock("div", {
                                                      key: 0,
                                                      class: "video-wrap"
                                                    }, [
                                                      createVNode("iframe", {
                                                        src: ytEmbed(currentLesson.value.videoUrl),
                                                        frameborder: "0",
                                                        allowfullscreen: "",
                                                        "data-test-id": "yt-iframe"
                                                      }, null, 8, ["src"])
                                                    ])) : (openBlock(), createBlock("div", {
                                                      key: 1,
                                                      class: "video-fallback"
                                                    }, [
                                                      createVNode(_component_a_typography_paragraph, null, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Video URL:")) + " ", 1),
                                                          createVNode("a", {
                                                            href: currentLesson.value.videoUrl,
                                                            target: "_blank"
                                                          }, toDisplayString(currentLesson.value.videoUrl || "—"), 9, ["href"])
                                                        ]),
                                                        _: 1
                                                      }),
                                                      currentLesson.value.videoUrl ? (openBlock(), createBlock("video", {
                                                        key: 0,
                                                        ref_key: "html5Video",
                                                        ref: html5Video,
                                                        controls: "",
                                                        onRatechange: _ctx.syncVideoSpeed,
                                                        playbackRate: videoSpeed.value,
                                                        style: { "width": "100%", "border-radius": "10px" },
                                                        "data-test-id": "html5-video"
                                                      }, [
                                                        createVNode("source", {
                                                          src: currentLesson.value.videoUrl,
                                                          type: "video/mp4"
                                                        }, null, 8, ["src"])
                                                      ], 40, ["onRatechange", "playbackRate"])) : createCommentVNode("", true)
                                                    ])),
                                                    createVNode(_component_a_divider, null, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Notes")), 1)
                                                      ]),
                                                      _: 1
                                                    }),
                                                    createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(currentLesson.value.content), 1)
                                                      ]),
                                                      _: 1
                                                    })
                                                  ])) : currentLesson.value.type === "reading" ? (openBlock(), createBlock("div", { key: 1 }, [
                                                    createVNode(_component_a_collapse, {
                                                      bordered: false,
                                                      class: "reading-collapse"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_collapse_panel, {
                                                          key: "content",
                                                          header: t("Lesson content")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(currentLesson.value.content || t("No content")), 1)
                                                              ]),
                                                              _: 1
                                                            })
                                                          ]),
                                                          _: 1
                                                        }, 8, ["header"]),
                                                        createVNode(_component_a_collapse_panel, {
                                                          key: "highlights",
                                                          header: t("Highlights")
                                                        }, {
                                                          default: withCtx(() => [
                                                            !notes[currentLesson.value.id]?.highlights?.length ? (openBlock(), createBlock(_component_a_empty, {
                                                              key: 0,
                                                              description: t("No highlights")
                                                            }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                              key: 1,
                                                              "data-source": notes[currentLesson.value.id].highlights,
                                                              size: "small"
                                                            }, {
                                                              renderItem: withCtx(({ item }) => [
                                                                createVNode(_component_a_list_item, null, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(item), 1)
                                                                  ]),
                                                                  _: 2
                                                                }, 1024)
                                                              ]),
                                                              _: 1
                                                            }, 8, ["data-source"]))
                                                          ]),
                                                          _: 1
                                                        }, 8, ["header"])
                                                      ]),
                                                      _: 1
                                                    })
                                                  ])) : currentLesson.value.type === "assignment" ? (openBlock(), createBlock("div", { key: 2 }, [
                                                    createVNode(_component_a_alert, {
                                                      type: "info",
                                                      "show-icon": "",
                                                      message: t("Assignment brief"),
                                                      class: "mb-1"
                                                    }, null, 8, ["message"]),
                                                    createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(currentLesson.value.content || t("No brief")), 1)
                                                      ]),
                                                      _: 1
                                                    }),
                                                    currentLesson.value.rubric ? (openBlock(), createBlock(_component_a_alert, {
                                                      key: 0,
                                                      type: "success",
                                                      "show-icon": "",
                                                      message: t("Rubric"),
                                                      description: currentLesson.value.rubric
                                                    }, null, 8, ["message", "description"])) : createCommentVNode("", true),
                                                    createVNode(_component_a_divider),
                                                    createVNode(_component_a_space, null, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_button, {
                                                          type: "primary",
                                                          onClick: _ctx.openSubmitDrawer,
                                                          "data-test-id": "open-submit-drawer"
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Submit assignment")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick"]),
                                                        createVNode(_component_a_button, {
                                                          onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                          disabled: isCompleted(currentLesson.value.id)
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick", "disabled"])
                                                      ]),
                                                      _: 1
                                                    })
                                                  ])) : currentLesson.value.type === "quiz" ? (openBlock(), createBlock("div", { key: 3 }, [
                                                    createVNode(_component_a_alert, {
                                                      type: "info",
                                                      "show-icon": "",
                                                      message: t("Answer the questions and submit."),
                                                      class: "mb-2"
                                                    }, null, 8, ["message"]),
                                                    (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.quiz?.questions || [], (q, qi) => {
                                                      return openBlock(), createBlock("div", {
                                                        key: q.id,
                                                        class: "quiz-q"
                                                      }, [
                                                        createVNode("b", null, "Q" + toDisplayString(qi + 1), 1),
                                                        createTextVNode(": " + toDisplayString(q.text || t("(empty)")) + " ", 1),
                                                        q.type === "mcq" ? (openBlock(), createBlock("div", {
                                                          key: 0,
                                                          class: "mt-1"
                                                        }, [
                                                          createVNode(_component_a_checkbox_group, {
                                                            value: _ctx.quizState[q.id],
                                                            "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                            options: (q.options || []).map((o, oi) => ({ label: o.text || `${t("Option")} ${oi + 1}`, value: oi })),
                                                            "data-test-id": "quiz-mcq"
                                                          }, null, 8, ["value", "onUpdate:value", "options"])
                                                        ])) : q.type === "tf" ? (openBlock(), createBlock("div", {
                                                          key: 1,
                                                          class: "mt-1"
                                                        }, [
                                                          createVNode(_component_a_radio_group, {
                                                            value: _ctx.quizState[q.id],
                                                            "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                            "data-test-id": "quiz-tf"
                                                          }, {
                                                            default: withCtx(() => [
                                                              createVNode(_component_a_radio, { value: true }, {
                                                                default: withCtx(() => [
                                                                  createTextVNode(toDisplayString(t("True")), 1)
                                                                ]),
                                                                _: 1
                                                              }),
                                                              createVNode(_component_a_radio, { value: false }, {
                                                                default: withCtx(() => [
                                                                  createTextVNode(toDisplayString(t("False")), 1)
                                                                ]),
                                                                _: 1
                                                              })
                                                            ]),
                                                            _: 1
                                                          }, 8, ["value", "onUpdate:value"])
                                                        ])) : (openBlock(), createBlock("div", {
                                                          key: 2,
                                                          class: "mt-1"
                                                        }, [
                                                          createVNode(_component_a_input, {
                                                            value: _ctx.quizState[q.id],
                                                            "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                            placeholder: t("Your answer"),
                                                            "data-test-id": "quiz-short"
                                                          }, null, 8, ["value", "onUpdate:value", "placeholder"])
                                                        ])),
                                                        createVNode(_component_a_divider, { class: "my-1" })
                                                      ]);
                                                    }), 128)),
                                                    createVNode(_component_a_space, null, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_button, {
                                                          type: "primary",
                                                          onClick: _ctx.submitQuiz,
                                                          loading: _ctx.quizSubmitting,
                                                          "data-test-id": "submit-quiz"
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Submit quiz")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick", "loading"]),
                                                        createVNode(_component_a_button, {
                                                          onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                          disabled: isCompleted(currentLesson.value.id)
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick", "disabled"])
                                                      ]),
                                                      _: 1
                                                    })
                                                  ])) : currentLesson.value.type === "lab" ? (openBlock(), createBlock("div", { key: 4 }, [
                                                    createVNode(_component_a_alert, {
                                                      type: "info",
                                                      "show-icon": "",
                                                      message: t("Interactive lab"),
                                                      description: t("Your lab environment opens in a new tab/window."),
                                                      class: "mb-2"
                                                    }, null, 8, ["message", "description"]),
                                                    labChallenges[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                                      key: 0,
                                                      size: "small",
                                                      class: "mb-2"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_descriptions, {
                                                          bordered: "",
                                                          size: "small",
                                                          column: 1
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_descriptions_item, {
                                                              label: t("Challenge")
                                                            }, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].title), 1)
                                                              ]),
                                                              _: 1
                                                            }, 8, ["label"]),
                                                            createVNode(_component_a_descriptions_item, {
                                                              label: t("Difficulty")
                                                            }, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].difficulty), 1)
                                                              ]),
                                                              _: 1
                                                            }, 8, ["label"]),
                                                            labChallenges[currentLesson.value.id].description ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                              key: 0,
                                                              label: t("Description")
                                                            }, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].description), 1)
                                                              ]),
                                                              _: 1
                                                            }, 8, ["label"])) : createCommentVNode("", true)
                                                          ]),
                                                          _: 1
                                                        })
                                                      ]),
                                                      _: 1
                                                    })) : createCommentVNode("", true),
                                                    labSessions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                                      key: 1,
                                                      size: "small",
                                                      class: "mb-2"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_descriptions, {
                                                          bordered: "",
                                                          size: "small",
                                                          column: 1
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_descriptions_item, {
                                                              label: t("Session status")
                                                            }, {
                                                              default: withCtx(() => [
                                                                createVNode(_component_a_tag, {
                                                                  color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["color"])
                                                              ]),
                                                              _: 1
                                                            }, 8, ["label"]),
                                                            labSessions[currentLesson.value.id].codeServerUrl ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                              key: 0,
                                                              label: t("VS Code URL")
                                                            }, {
                                                              default: withCtx(() => [
                                                                createVNode("a", {
                                                                  href: labSessions[currentLesson.value.id].codeServerUrl,
                                                                  target: "_blank"
                                                                }, toDisplayString(labSessions[currentLesson.value.id].codeServerUrl), 9, ["href"])
                                                              ]),
                                                              _: 1
                                                            }, 8, ["label"])) : createCommentVNode("", true)
                                                          ]),
                                                          _: 1
                                                        })
                                                      ]),
                                                      _: 1
                                                    })) : createCommentVNode("", true),
                                                    labSubmissions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                                      key: 2,
                                                      size: "small",
                                                      class: "mb-2"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_descriptions, {
                                                          bordered: "",
                                                          size: "small",
                                                          column: 1
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_descriptions_item, {
                                                              label: t("Latest submission")
                                                            }, {
                                                              default: withCtx(() => [
                                                                createVNode(_component_a_tag, {
                                                                  color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["color"])
                                                              ]),
                                                              _: 1
                                                            }, 8, ["label"]),
                                                            labSubmissions[currentLesson.value.id].gradePct != null ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                              key: 0,
                                                              label: t("Grade")
                                                            }, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].gradePct) + "% ", 1)
                                                              ]),
                                                              _: 1
                                                            }, 8, ["label"])) : createCommentVNode("", true),
                                                            labSubmissions[currentLesson.value.id].feedback ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                              key: 1,
                                                              label: t("Feedback")
                                                            }, {
                                                              default: withCtx(() => [
                                                                createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                                  ]),
                                                                  _: 1
                                                                })
                                                              ]),
                                                              _: 1
                                                            }, 8, ["label"])) : createCommentVNode("", true)
                                                          ]),
                                                          _: 1
                                                        })
                                                      ]),
                                                      _: 1
                                                    })) : createCommentVNode("", true),
                                                    createVNode(_component_a_space, { wrap: "" }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_button, {
                                                          type: "primary",
                                                          onClick: ($event) => openLab(currentLesson.value),
                                                          loading: labSessionStarting[currentLesson.value.id],
                                                          disabled: labSessionStarting[currentLesson.value.id],
                                                          "data-test-id": "open-lab"
                                                        }, createSlots({
                                                          default: withCtx(() => [
                                                            createTextVNode(" " + toDisplayString(labSessions[currentLesson.value.id]?.codeServerUrl ? t("Open VS Code") : t("Start lab session")), 1)
                                                          ]),
                                                          _: 2
                                                        }, [
                                                          labSessions[currentLesson.value.id]?.codeServerUrl ? {
                                                            name: "icon",
                                                            fn: withCtx(() => [
                                                              createVNode(unref(CodeOutlined))
                                                            ]),
                                                            key: "0"
                                                          } : void 0
                                                        ]), 1032, ["onClick", "loading", "disabled"]),
                                                        labSessions[currentLesson.value.id]?.codeServerUrl ? (openBlock(), createBlock(_component_a_button, {
                                                          key: 0,
                                                          onClick: ($event) => openLabUrl(currentLesson.value),
                                                          disabled: !labSessions[currentLesson.value.id]?.codeServerUrl,
                                                          "data-test-id": "open-lab-url"
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Open in new tab")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick", "disabled"])) : createCommentVNode("", true),
                                                        createVNode(_component_a_button, {
                                                          type: "default",
                                                          onClick: ($event) => submitLab(currentLesson.value),
                                                          loading: labSubmitting[currentLesson.value.id],
                                                          disabled: labSubmitting[currentLesson.value.id] || !labSessions[currentLesson.value.id] || labSessions[currentLesson.value.id].status !== "running" && labSessions[currentLesson.value.id].status !== "starting",
                                                          "data-test-id": "submit-lab"
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Submit lab")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick", "loading", "disabled"]),
                                                        labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                          key: 1,
                                                          onClick: ($event) => refreshLabContainer(currentLesson.value),
                                                          loading: labRefreshing[currentLesson.value.id],
                                                          disabled: labRefreshing[currentLesson.value.id],
                                                          "data-test-id": "refresh-lab"
                                                        }, {
                                                          icon: withCtx(() => [
                                                            createVNode(unref(CloudSyncOutlined))
                                                          ]),
                                                          default: withCtx(() => [
                                                            createTextVNode(" " + toDisplayString(t("Update container with saved code")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                                        labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                          key: 2,
                                                          onClick: ($event) => restartLab(currentLesson.value),
                                                          loading: labRestarting[currentLesson.value.id],
                                                          disabled: labRestarting[currentLesson.value.id]
                                                        }, {
                                                          icon: withCtx(() => [
                                                            createVNode(unref(ReloadOutlined))
                                                          ]),
                                                          default: withCtx(() => [
                                                            createTextVNode(" " + toDisplayString(t("Restart lab")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                                        createVNode(_component_a_button, {
                                                          onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                          disabled: isCompleted(currentLesson.value.id)
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick", "disabled"])
                                                      ]),
                                                      _: 1
                                                    })
                                                  ])) : (openBlock(), createBlock("div", { key: 5 }, [
                                                    createVNode(_component_a_typography_text, { type: "secondary" }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Unsupported lesson type.")), 1)
                                                      ]),
                                                      _: 1
                                                    })
                                                  ]))
                                                ], 64)),
                                                createVNode(_component_a_divider),
                                                createVNode(_component_a_form, {
                                                  layout: "vertical",
                                                  class: "mt-2",
                                                  onFinish: withModifiers(() => {
                                                  }, ["prevent"])
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_form_item, {
                                                      label: t("Your notes for this lesson")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_textarea, {
                                                          value: ensureNoteForLesson(currentLesson.value.id).text,
                                                          "onUpdate:value": ($event) => ensureNoteForLesson(currentLesson.value.id).text = $event,
                                                          rows: 4,
                                                          onChange: ($event) => _ctx.persistNotes(currentLesson.value.id),
                                                          "data-test-id": "lesson-notes"
                                                        }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["onFinish"]),
                                                createVNode("div", { class: "nav-actions" }, [
                                                  createVNode(_component_a_space, { wrap: "" }, {
                                                    default: withCtx(() => [
                                                      currentLesson.value ? (openBlock(), createBlock(_component_a_button, {
                                                        key: 0,
                                                        type: isCompleted(currentLesson.value.id) ? "default" : "primary",
                                                        onClick: ($event) => _ctx.toggleComplete(currentLesson.value),
                                                        "data-test-id": "toggle-complete"
                                                      }, {
                                                        icon: withCtx(() => [
                                                          createVNode(unref(CheckOutlined))
                                                        ]),
                                                        default: withCtx(() => [
                                                          createTextVNode(" " + toDisplayString(isCompleted(currentLesson.value.id) ? t("Mark as incomplete") : t("Mark as complete")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["type", "onClick"])) : createCommentVNode("", true),
                                                      createVNode(_component_a_button, {
                                                        onClick: _ctx.prevLesson,
                                                        disabled: currentIndex.value <= 0,
                                                        "data-test-id": "prev-lesson"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Previous")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick", "disabled"]),
                                                      createVNode(_component_a_button, {
                                                        type: "primary",
                                                        onClick: _ctx.nextLesson,
                                                        disabled: currentIndex.value >= lessons.value.length - 1,
                                                        "data-test-id": "next-lesson"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Next")) + " ", 1),
                                                          createVNode(unref(ArrowRightOutlined))
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick", "disabled"]),
                                                      createVNode(_component_a_checkbox, {
                                                        checked: autoNext.value,
                                                        "onUpdate:checked": ($event) => autoNext.value = $event,
                                                        class: "ml-2",
                                                        "data-test-id": "auto-next"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Auto-next on complete")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["checked", "onUpdate:checked"])
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_rate, {
                                                    value: ratings[currentLesson.value.id],
                                                    "onUpdate:value": ($event) => ratings[currentLesson.value.id] = $event,
                                                    "allow-half": "",
                                                    onChange: _ctx.persistRatings
                                                  }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                ])
                                              ];
                                            }
                                          }),
                                          _: 1
                                        }, _parent6, _scopeId5));
                                      } else {
                                        _push6(ssrRenderComponent(_component_a_empty, {
                                          description: t("No lessons found")
                                        }, null, _parent6, _scopeId5));
                                      }
                                    } else {
                                      return [
                                        createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx(() => [
                                                createTextVNode("Students")
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_breadcrumb_item, null, {
                                              default: withCtx(() => [
                                                createTextVNode("Modules")
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }),
                                        currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                          key: 0,
                                          title: currentLesson.value.title || t("Lesson"),
                                          "data-test-id": "lesson-card"
                                        }, {
                                          extra: withCtx(() => [
                                            createVNode(_component_a_space, null, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_tag, null, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString((currentLesson.value.type || "").toUpperCase()), 1)
                                                  ]),
                                                  _: 1
                                                }),
                                                currentLesson.value.preview ? (openBlock(), createBlock(_component_a_tag, {
                                                  key: 0,
                                                  color: "cyan"
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Preview")), 1)
                                                  ]),
                                                  _: 1
                                                })) : createCommentVNode("", true),
                                                createVNode("span", { class: "muted" }, [
                                                  createVNode(unref(FieldTimeOutlined)),
                                                  createTextVNode(" " + toDisplayString(currentLesson.value.duration || 0) + " " + toDisplayString(t("min")), 1)
                                                ]),
                                                createVNode(_component_a_tooltip, {
                                                  title: t("Bookmark current lesson")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_button, {
                                                      size: "small",
                                                      onClick: _ctx.bookmarkCurrent,
                                                      "data-test-id": "bookmark-btn"
                                                    }, {
                                                      icon: withCtx(() => [
                                                        createVNode(unref(BookOutlined))
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["title"]),
                                                createVNode(_component_a_tooltip, {
                                                  title: t("Print lesson")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_button, {
                                                      size: "small",
                                                      onClick: _ctx.printLesson
                                                    }, {
                                                      icon: withCtx(() => [
                                                        createVNode(unref(PrinterOutlined))
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["title"])
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          default: withCtx(() => [
                                            isLocked(currentLesson.value) ? (openBlock(), createBlock(_component_a_result, {
                                              key: 0,
                                              status: "warning",
                                              title: t("This lesson is locked"),
                                              "data-test-id": "locked-result"
                                            }, {
                                              subTitle: withCtx(() => [
                                                createVNode("div", { class: "muted" }, [
                                                  currentLesson.value.prerequisites?.length ? (openBlock(), createBlock("div", { key: 0 }, [
                                                    createTextVNode(toDisplayString(t("Complete prerequisite lesson(s):")) + " ", 1),
                                                    createVNode("ul", { class: "mt-1" }, [
                                                      (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.prerequisites, (pid) => {
                                                        return openBlock(), createBlock("li", { key: pid }, [
                                                          createVNode("span", {
                                                            class: ["preq", isCompleted(pid) && "ok"]
                                                          }, [
                                                            createTextVNode(toDisplayString(labelForLesson(pid) || pid) + " ", 1),
                                                            isCompleted(pid) ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                              createTextVNode(" ✓")
                                                            ], 64)) : createCommentVNode("", true)
                                                          ], 2)
                                                        ]);
                                                      }), 128))
                                                    ])
                                                  ])) : createCommentVNode("", true),
                                                  unlockAtDate(currentLesson.value) ? (openBlock(), createBlock("div", { key: 1 }, toDisplayString(t("Unlocks at:")) + " " + toDisplayString(unlockAtDate(currentLesson.value)), 1)) : createCommentVNode("", true)
                                                ])
                                              ]),
                                              extra: withCtx(() => [
                                                createVNode(_component_a_space, null, {
                                                  default: withCtx(() => [
                                                    !isEnrolledCourse.value ? (openBlock(), createBlock(_component_a_button, {
                                                      key: 0,
                                                      type: "primary",
                                                      onClick: _ctx.mockEnroll
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Enroll")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick"])) : (openBlock(), createBlock(_component_a_button, {
                                                      key: 1,
                                                      onClick: _ctx.resumeLast
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Go to next available")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick"]))
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }, 8, ["title"])) : (openBlock(), createBlock(Fragment, { key: 1 }, [
                                              currentLesson.value.type === "video" ? (openBlock(), createBlock("div", { key: 0 }, [
                                                createVNode("div", { class: "video-controls" }, [
                                                  createVNode(_component_a_space, null, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_segmented, {
                                                        value: videoSpeed.value,
                                                        "onUpdate:value": ($event) => videoSpeed.value = $event,
                                                        options: [0.75, 1, 1.25, 1.5, 1.75, 2].map((v) => ({ label: `${v}x`, value: v })),
                                                        "data-test-id": "video-speed"
                                                      }, null, 8, ["value", "onUpdate:value", "options"]),
                                                      createVNode(_component_a_button, {
                                                        size: "small",
                                                        onClick: _ctx.bookmarkTimestamp,
                                                        "data-test-id": "bookmark-ts"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createVNode(unref(ClockCircleOutlined)),
                                                          createTextVNode(" " + toDisplayString(t("Bookmark timestamp")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick"])
                                                    ]),
                                                    _: 1
                                                  })
                                                ]),
                                                ytEmbed(currentLesson.value.videoUrl) ? (openBlock(), createBlock("div", {
                                                  key: 0,
                                                  class: "video-wrap"
                                                }, [
                                                  createVNode("iframe", {
                                                    src: ytEmbed(currentLesson.value.videoUrl),
                                                    frameborder: "0",
                                                    allowfullscreen: "",
                                                    "data-test-id": "yt-iframe"
                                                  }, null, 8, ["src"])
                                                ])) : (openBlock(), createBlock("div", {
                                                  key: 1,
                                                  class: "video-fallback"
                                                }, [
                                                  createVNode(_component_a_typography_paragraph, null, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Video URL:")) + " ", 1),
                                                      createVNode("a", {
                                                        href: currentLesson.value.videoUrl,
                                                        target: "_blank"
                                                      }, toDisplayString(currentLesson.value.videoUrl || "—"), 9, ["href"])
                                                    ]),
                                                    _: 1
                                                  }),
                                                  currentLesson.value.videoUrl ? (openBlock(), createBlock("video", {
                                                    key: 0,
                                                    ref_key: "html5Video",
                                                    ref: html5Video,
                                                    controls: "",
                                                    onRatechange: _ctx.syncVideoSpeed,
                                                    playbackRate: videoSpeed.value,
                                                    style: { "width": "100%", "border-radius": "10px" },
                                                    "data-test-id": "html5-video"
                                                  }, [
                                                    createVNode("source", {
                                                      src: currentLesson.value.videoUrl,
                                                      type: "video/mp4"
                                                    }, null, 8, ["src"])
                                                  ], 40, ["onRatechange", "playbackRate"])) : createCommentVNode("", true)
                                                ])),
                                                createVNode(_component_a_divider, null, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Notes")), 1)
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(currentLesson.value.content), 1)
                                                  ]),
                                                  _: 1
                                                })
                                              ])) : currentLesson.value.type === "reading" ? (openBlock(), createBlock("div", { key: 1 }, [
                                                createVNode(_component_a_collapse, {
                                                  bordered: false,
                                                  class: "reading-collapse"
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_collapse_panel, {
                                                      key: "content",
                                                      header: t("Lesson content")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(currentLesson.value.content || t("No content")), 1)
                                                          ]),
                                                          _: 1
                                                        })
                                                      ]),
                                                      _: 1
                                                    }, 8, ["header"]),
                                                    createVNode(_component_a_collapse_panel, {
                                                      key: "highlights",
                                                      header: t("Highlights")
                                                    }, {
                                                      default: withCtx(() => [
                                                        !notes[currentLesson.value.id]?.highlights?.length ? (openBlock(), createBlock(_component_a_empty, {
                                                          key: 0,
                                                          description: t("No highlights")
                                                        }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                          key: 1,
                                                          "data-source": notes[currentLesson.value.id].highlights,
                                                          size: "small"
                                                        }, {
                                                          renderItem: withCtx(({ item }) => [
                                                            createVNode(_component_a_list_item, null, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(item), 1)
                                                              ]),
                                                              _: 2
                                                            }, 1024)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["data-source"]))
                                                      ]),
                                                      _: 1
                                                    }, 8, ["header"])
                                                  ]),
                                                  _: 1
                                                })
                                              ])) : currentLesson.value.type === "assignment" ? (openBlock(), createBlock("div", { key: 2 }, [
                                                createVNode(_component_a_alert, {
                                                  type: "info",
                                                  "show-icon": "",
                                                  message: t("Assignment brief"),
                                                  class: "mb-1"
                                                }, null, 8, ["message"]),
                                                createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(currentLesson.value.content || t("No brief")), 1)
                                                  ]),
                                                  _: 1
                                                }),
                                                currentLesson.value.rubric ? (openBlock(), createBlock(_component_a_alert, {
                                                  key: 0,
                                                  type: "success",
                                                  "show-icon": "",
                                                  message: t("Rubric"),
                                                  description: currentLesson.value.rubric
                                                }, null, 8, ["message", "description"])) : createCommentVNode("", true),
                                                createVNode(_component_a_divider),
                                                createVNode(_component_a_space, null, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_button, {
                                                      type: "primary",
                                                      onClick: _ctx.openSubmitDrawer,
                                                      "data-test-id": "open-submit-drawer"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Submit assignment")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick"]),
                                                    createVNode(_component_a_button, {
                                                      onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                      disabled: isCompleted(currentLesson.value.id)
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick", "disabled"])
                                                  ]),
                                                  _: 1
                                                })
                                              ])) : currentLesson.value.type === "quiz" ? (openBlock(), createBlock("div", { key: 3 }, [
                                                createVNode(_component_a_alert, {
                                                  type: "info",
                                                  "show-icon": "",
                                                  message: t("Answer the questions and submit."),
                                                  class: "mb-2"
                                                }, null, 8, ["message"]),
                                                (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.quiz?.questions || [], (q, qi) => {
                                                  return openBlock(), createBlock("div", {
                                                    key: q.id,
                                                    class: "quiz-q"
                                                  }, [
                                                    createVNode("b", null, "Q" + toDisplayString(qi + 1), 1),
                                                    createTextVNode(": " + toDisplayString(q.text || t("(empty)")) + " ", 1),
                                                    q.type === "mcq" ? (openBlock(), createBlock("div", {
                                                      key: 0,
                                                      class: "mt-1"
                                                    }, [
                                                      createVNode(_component_a_checkbox_group, {
                                                        value: _ctx.quizState[q.id],
                                                        "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                        options: (q.options || []).map((o, oi) => ({ label: o.text || `${t("Option")} ${oi + 1}`, value: oi })),
                                                        "data-test-id": "quiz-mcq"
                                                      }, null, 8, ["value", "onUpdate:value", "options"])
                                                    ])) : q.type === "tf" ? (openBlock(), createBlock("div", {
                                                      key: 1,
                                                      class: "mt-1"
                                                    }, [
                                                      createVNode(_component_a_radio_group, {
                                                        value: _ctx.quizState[q.id],
                                                        "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                        "data-test-id": "quiz-tf"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_radio, { value: true }, {
                                                            default: withCtx(() => [
                                                              createTextVNode(toDisplayString(t("True")), 1)
                                                            ]),
                                                            _: 1
                                                          }),
                                                          createVNode(_component_a_radio, { value: false }, {
                                                            default: withCtx(() => [
                                                              createTextVNode(toDisplayString(t("False")), 1)
                                                            ]),
                                                            _: 1
                                                          })
                                                        ]),
                                                        _: 1
                                                      }, 8, ["value", "onUpdate:value"])
                                                    ])) : (openBlock(), createBlock("div", {
                                                      key: 2,
                                                      class: "mt-1"
                                                    }, [
                                                      createVNode(_component_a_input, {
                                                        value: _ctx.quizState[q.id],
                                                        "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                        placeholder: t("Your answer"),
                                                        "data-test-id": "quiz-short"
                                                      }, null, 8, ["value", "onUpdate:value", "placeholder"])
                                                    ])),
                                                    createVNode(_component_a_divider, { class: "my-1" })
                                                  ]);
                                                }), 128)),
                                                createVNode(_component_a_space, null, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_button, {
                                                      type: "primary",
                                                      onClick: _ctx.submitQuiz,
                                                      loading: _ctx.quizSubmitting,
                                                      "data-test-id": "submit-quiz"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Submit quiz")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick", "loading"]),
                                                    createVNode(_component_a_button, {
                                                      onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                      disabled: isCompleted(currentLesson.value.id)
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick", "disabled"])
                                                  ]),
                                                  _: 1
                                                })
                                              ])) : currentLesson.value.type === "lab" ? (openBlock(), createBlock("div", { key: 4 }, [
                                                createVNode(_component_a_alert, {
                                                  type: "info",
                                                  "show-icon": "",
                                                  message: t("Interactive lab"),
                                                  description: t("Your lab environment opens in a new tab/window."),
                                                  class: "mb-2"
                                                }, null, 8, ["message", "description"]),
                                                labChallenges[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                                  key: 0,
                                                  size: "small",
                                                  class: "mb-2"
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_descriptions, {
                                                      bordered: "",
                                                      size: "small",
                                                      column: 1
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_descriptions_item, {
                                                          label: t("Challenge")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].title), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"]),
                                                        createVNode(_component_a_descriptions_item, {
                                                          label: t("Difficulty")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].difficulty), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"]),
                                                        labChallenges[currentLesson.value.id].description ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                          key: 0,
                                                          label: t("Description")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].description), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"])) : createCommentVNode("", true)
                                                      ]),
                                                      _: 1
                                                    })
                                                  ]),
                                                  _: 1
                                                })) : createCommentVNode("", true),
                                                labSessions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                                  key: 1,
                                                  size: "small",
                                                  class: "mb-2"
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_descriptions, {
                                                      bordered: "",
                                                      size: "small",
                                                      column: 1
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_descriptions_item, {
                                                          label: t("Session status")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_tag, {
                                                              color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                            }, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                              ]),
                                                              _: 1
                                                            }, 8, ["color"])
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"]),
                                                        labSessions[currentLesson.value.id].codeServerUrl ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                          key: 0,
                                                          label: t("VS Code URL")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode("a", {
                                                              href: labSessions[currentLesson.value.id].codeServerUrl,
                                                              target: "_blank"
                                                            }, toDisplayString(labSessions[currentLesson.value.id].codeServerUrl), 9, ["href"])
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"])) : createCommentVNode("", true)
                                                      ]),
                                                      _: 1
                                                    })
                                                  ]),
                                                  _: 1
                                                })) : createCommentVNode("", true),
                                                labSubmissions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                                  key: 2,
                                                  size: "small",
                                                  class: "mb-2"
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_descriptions, {
                                                      bordered: "",
                                                      size: "small",
                                                      column: 1
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_descriptions_item, {
                                                          label: t("Latest submission")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_tag, {
                                                              color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                            }, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                              ]),
                                                              _: 1
                                                            }, 8, ["color"])
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"]),
                                                        labSubmissions[currentLesson.value.id].gradePct != null ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                          key: 0,
                                                          label: t("Grade")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].gradePct) + "% ", 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"])) : createCommentVNode("", true),
                                                        labSubmissions[currentLesson.value.id].feedback ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                          key: 1,
                                                          label: t("Feedback")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                              ]),
                                                              _: 1
                                                            })
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"])) : createCommentVNode("", true)
                                                      ]),
                                                      _: 1
                                                    })
                                                  ]),
                                                  _: 1
                                                })) : createCommentVNode("", true),
                                                createVNode(_component_a_space, { wrap: "" }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_button, {
                                                      type: "primary",
                                                      onClick: ($event) => openLab(currentLesson.value),
                                                      loading: labSessionStarting[currentLesson.value.id],
                                                      disabled: labSessionStarting[currentLesson.value.id],
                                                      "data-test-id": "open-lab"
                                                    }, createSlots({
                                                      default: withCtx(() => [
                                                        createTextVNode(" " + toDisplayString(labSessions[currentLesson.value.id]?.codeServerUrl ? t("Open VS Code") : t("Start lab session")), 1)
                                                      ]),
                                                      _: 2
                                                    }, [
                                                      labSessions[currentLesson.value.id]?.codeServerUrl ? {
                                                        name: "icon",
                                                        fn: withCtx(() => [
                                                          createVNode(unref(CodeOutlined))
                                                        ]),
                                                        key: "0"
                                                      } : void 0
                                                    ]), 1032, ["onClick", "loading", "disabled"]),
                                                    labSessions[currentLesson.value.id]?.codeServerUrl ? (openBlock(), createBlock(_component_a_button, {
                                                      key: 0,
                                                      onClick: ($event) => openLabUrl(currentLesson.value),
                                                      disabled: !labSessions[currentLesson.value.id]?.codeServerUrl,
                                                      "data-test-id": "open-lab-url"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Open in new tab")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick", "disabled"])) : createCommentVNode("", true),
                                                    createVNode(_component_a_button, {
                                                      type: "default",
                                                      onClick: ($event) => submitLab(currentLesson.value),
                                                      loading: labSubmitting[currentLesson.value.id],
                                                      disabled: labSubmitting[currentLesson.value.id] || !labSessions[currentLesson.value.id] || labSessions[currentLesson.value.id].status !== "running" && labSessions[currentLesson.value.id].status !== "starting",
                                                      "data-test-id": "submit-lab"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Submit lab")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick", "loading", "disabled"]),
                                                    labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                      key: 1,
                                                      onClick: ($event) => refreshLabContainer(currentLesson.value),
                                                      loading: labRefreshing[currentLesson.value.id],
                                                      disabled: labRefreshing[currentLesson.value.id],
                                                      "data-test-id": "refresh-lab"
                                                    }, {
                                                      icon: withCtx(() => [
                                                        createVNode(unref(CloudSyncOutlined))
                                                      ]),
                                                      default: withCtx(() => [
                                                        createTextVNode(" " + toDisplayString(t("Update container with saved code")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                                    labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                      key: 2,
                                                      onClick: ($event) => restartLab(currentLesson.value),
                                                      loading: labRestarting[currentLesson.value.id],
                                                      disabled: labRestarting[currentLesson.value.id]
                                                    }, {
                                                      icon: withCtx(() => [
                                                        createVNode(unref(ReloadOutlined))
                                                      ]),
                                                      default: withCtx(() => [
                                                        createTextVNode(" " + toDisplayString(t("Restart lab")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                                    createVNode(_component_a_button, {
                                                      onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                      disabled: isCompleted(currentLesson.value.id)
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick", "disabled"])
                                                  ]),
                                                  _: 1
                                                })
                                              ])) : (openBlock(), createBlock("div", { key: 5 }, [
                                                createVNode(_component_a_typography_text, { type: "secondary" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Unsupported lesson type.")), 1)
                                                  ]),
                                                  _: 1
                                                })
                                              ]))
                                            ], 64)),
                                            createVNode(_component_a_divider),
                                            createVNode(_component_a_form, {
                                              layout: "vertical",
                                              class: "mt-2",
                                              onFinish: withModifiers(() => {
                                              }, ["prevent"])
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_form_item, {
                                                  label: t("Your notes for this lesson")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_textarea, {
                                                      value: ensureNoteForLesson(currentLesson.value.id).text,
                                                      "onUpdate:value": ($event) => ensureNoteForLesson(currentLesson.value.id).text = $event,
                                                      rows: 4,
                                                      onChange: ($event) => _ctx.persistNotes(currentLesson.value.id),
                                                      "data-test-id": "lesson-notes"
                                                    }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"])
                                              ]),
                                              _: 1
                                            }, 8, ["onFinish"]),
                                            createVNode("div", { class: "nav-actions" }, [
                                              createVNode(_component_a_space, { wrap: "" }, {
                                                default: withCtx(() => [
                                                  currentLesson.value ? (openBlock(), createBlock(_component_a_button, {
                                                    key: 0,
                                                    type: isCompleted(currentLesson.value.id) ? "default" : "primary",
                                                    onClick: ($event) => _ctx.toggleComplete(currentLesson.value),
                                                    "data-test-id": "toggle-complete"
                                                  }, {
                                                    icon: withCtx(() => [
                                                      createVNode(unref(CheckOutlined))
                                                    ]),
                                                    default: withCtx(() => [
                                                      createTextVNode(" " + toDisplayString(isCompleted(currentLesson.value.id) ? t("Mark as incomplete") : t("Mark as complete")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["type", "onClick"])) : createCommentVNode("", true),
                                                  createVNode(_component_a_button, {
                                                    onClick: _ctx.prevLesson,
                                                    disabled: currentIndex.value <= 0,
                                                    "data-test-id": "prev-lesson"
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Previous")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick", "disabled"]),
                                                  createVNode(_component_a_button, {
                                                    type: "primary",
                                                    onClick: _ctx.nextLesson,
                                                    disabled: currentIndex.value >= lessons.value.length - 1,
                                                    "data-test-id": "next-lesson"
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Next")) + " ", 1),
                                                      createVNode(unref(ArrowRightOutlined))
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick", "disabled"]),
                                                  createVNode(_component_a_checkbox, {
                                                    checked: autoNext.value,
                                                    "onUpdate:checked": ($event) => autoNext.value = $event,
                                                    class: "ml-2",
                                                    "data-test-id": "auto-next"
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Auto-next on complete")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["checked", "onUpdate:checked"])
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_rate, {
                                                value: ratings[currentLesson.value.id],
                                                "onUpdate:value": ($event) => ratings[currentLesson.value.id] = $event,
                                                "allow-half": "",
                                                onChange: _ctx.persistRatings
                                              }, null, 8, ["value", "onUpdate:value", "onChange"])
                                            ])
                                          ]),
                                          _: 1
                                        }, 8, ["title"])) : (openBlock(), createBlock(_component_a_empty, {
                                          key: 1,
                                          description: t("No lessons found")
                                        }, null, 8, ["description"]))
                                      ];
                                    }
                                  }),
                                  _: 1
                                }, _parent5, _scopeId4));
                              }
                            } else {
                              return [
                                !currentModuleReady.value ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                  createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                        default: withCtx(() => [
                                          createTextVNode("Students")
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_breadcrumb_item, null, {
                                        default: withCtx(() => [
                                          createTextVNode("Modules")
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  }),
                                  createVNode(_component_a_card, {
                                    loading: loadingCourse.value,
                                    title: t("Course overview"),
                                    "data-test-id": "overview-card"
                                  }, {
                                    default: withCtx(() => [
                                      createVNode("p", { class: "muted" }, toDisplayString(t("Browse modules and jump in — everything runs in this page.")), 1),
                                      !hasModules.value && !loadingCourse.value ? (openBlock(), createBlock(_component_a_empty, {
                                        key: 0,
                                        description: t("No modules yet")
                                      }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_row, {
                                        key: 1,
                                        gutter: 16
                                      }, {
                                        default: withCtx(() => [
                                          (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                            return openBlock(), createBlock(_component_a_col, {
                                              key: m.id,
                                              xs: 24,
                                              sm: 12,
                                              md: 8
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                      default: withCtx(() => [
                                                        createTextVNode("Students")
                                                      ]),
                                                      _: 1
                                                    }),
                                                    createVNode(_component_a_breadcrumb_item, null, {
                                                      default: withCtx(() => [
                                                        createTextVNode("Modules")
                                                      ]),
                                                      _: 1
                                                    })
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_card, {
                                                  hoverable: "",
                                                  class: "mt-2",
                                                  onClick: ($event) => switchModule(m.id),
                                                  "data-test-id": "module-card"
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode("b", null, toDisplayString(m.title), 1),
                                                    createVNode("div", { class: "muted" }, [
                                                      createTextVNode(toDisplayString(m.lessonCount ?? 0) + " " + toDisplayString(t("lessons")) + " ", 1),
                                                      m.minutes ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                        createTextVNode(" · ~" + toDisplayString(m.minutes) + " " + toDisplayString(t("min")), 1)
                                                      ], 64)) : createCommentVNode("", true)
                                                    ])
                                                  ]),
                                                  _: 2
                                                }, 1032, ["onClick"])
                                              ]),
                                              _: 2
                                            }, 1024);
                                          }), 128))
                                        ]),
                                        _: 1
                                      })),
                                      createVNode(_component_a_divider),
                                      !isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                        key: 2,
                                        class: "enroll-cta"
                                      }, [
                                        createVNode(_component_a_result, {
                                          status: "info",
                                          title: t("Enroll to unlock full access"),
                                          "sub-title": t("You can still watch previews and read public materials.")
                                        }, {
                                          extra: withCtx(() => [
                                            createVNode(_component_a_space, null, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_button, {
                                                  type: "primary",
                                                  onClick: _ctx.mockEnroll
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Enroll now")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"]),
                                                createVNode(_component_a_button, {
                                                  onClick: ($event) => openPricing.value = true
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("See pricing")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"])
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }, 8, ["title", "sub-title"])
                                      ])) : createCommentVNode("", true)
                                    ]),
                                    _: 1
                                  }, 8, ["loading", "title"])
                                ], 64)) : (openBlock(), createBlock(_component_a_spin, {
                                  key: 1,
                                  spinning: loadingModule.value
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }),
                                    currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                      key: 0,
                                      title: currentLesson.value.title || t("Lesson"),
                                      "data-test-id": "lesson-card"
                                    }, {
                                      extra: withCtx(() => [
                                        createVNode(_component_a_space, null, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_tag, null, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString((currentLesson.value.type || "").toUpperCase()), 1)
                                              ]),
                                              _: 1
                                            }),
                                            currentLesson.value.preview ? (openBlock(), createBlock(_component_a_tag, {
                                              key: 0,
                                              color: "cyan"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Preview")), 1)
                                              ]),
                                              _: 1
                                            })) : createCommentVNode("", true),
                                            createVNode("span", { class: "muted" }, [
                                              createVNode(unref(FieldTimeOutlined)),
                                              createTextVNode(" " + toDisplayString(currentLesson.value.duration || 0) + " " + toDisplayString(t("min")), 1)
                                            ]),
                                            createVNode(_component_a_tooltip, {
                                              title: t("Bookmark current lesson")
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_button, {
                                                  size: "small",
                                                  onClick: _ctx.bookmarkCurrent,
                                                  "data-test-id": "bookmark-btn"
                                                }, {
                                                  icon: withCtx(() => [
                                                    createVNode(unref(BookOutlined))
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"])
                                              ]),
                                              _: 1
                                            }, 8, ["title"]),
                                            createVNode(_component_a_tooltip, {
                                              title: t("Print lesson")
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_button, {
                                                  size: "small",
                                                  onClick: _ctx.printLesson
                                                }, {
                                                  icon: withCtx(() => [
                                                    createVNode(unref(PrinterOutlined))
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"])
                                              ]),
                                              _: 1
                                            }, 8, ["title"])
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      default: withCtx(() => [
                                        isLocked(currentLesson.value) ? (openBlock(), createBlock(_component_a_result, {
                                          key: 0,
                                          status: "warning",
                                          title: t("This lesson is locked"),
                                          "data-test-id": "locked-result"
                                        }, {
                                          subTitle: withCtx(() => [
                                            createVNode("div", { class: "muted" }, [
                                              currentLesson.value.prerequisites?.length ? (openBlock(), createBlock("div", { key: 0 }, [
                                                createTextVNode(toDisplayString(t("Complete prerequisite lesson(s):")) + " ", 1),
                                                createVNode("ul", { class: "mt-1" }, [
                                                  (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.prerequisites, (pid) => {
                                                    return openBlock(), createBlock("li", { key: pid }, [
                                                      createVNode("span", {
                                                        class: ["preq", isCompleted(pid) && "ok"]
                                                      }, [
                                                        createTextVNode(toDisplayString(labelForLesson(pid) || pid) + " ", 1),
                                                        isCompleted(pid) ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                          createTextVNode(" ✓")
                                                        ], 64)) : createCommentVNode("", true)
                                                      ], 2)
                                                    ]);
                                                  }), 128))
                                                ])
                                              ])) : createCommentVNode("", true),
                                              unlockAtDate(currentLesson.value) ? (openBlock(), createBlock("div", { key: 1 }, toDisplayString(t("Unlocks at:")) + " " + toDisplayString(unlockAtDate(currentLesson.value)), 1)) : createCommentVNode("", true)
                                            ])
                                          ]),
                                          extra: withCtx(() => [
                                            createVNode(_component_a_space, null, {
                                              default: withCtx(() => [
                                                !isEnrolledCourse.value ? (openBlock(), createBlock(_component_a_button, {
                                                  key: 0,
                                                  type: "primary",
                                                  onClick: _ctx.mockEnroll
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Enroll")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"])) : (openBlock(), createBlock(_component_a_button, {
                                                  key: 1,
                                                  onClick: _ctx.resumeLast
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Go to next available")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"]))
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }, 8, ["title"])) : (openBlock(), createBlock(Fragment, { key: 1 }, [
                                          currentLesson.value.type === "video" ? (openBlock(), createBlock("div", { key: 0 }, [
                                            createVNode("div", { class: "video-controls" }, [
                                              createVNode(_component_a_space, null, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_segmented, {
                                                    value: videoSpeed.value,
                                                    "onUpdate:value": ($event) => videoSpeed.value = $event,
                                                    options: [0.75, 1, 1.25, 1.5, 1.75, 2].map((v) => ({ label: `${v}x`, value: v })),
                                                    "data-test-id": "video-speed"
                                                  }, null, 8, ["value", "onUpdate:value", "options"]),
                                                  createVNode(_component_a_button, {
                                                    size: "small",
                                                    onClick: _ctx.bookmarkTimestamp,
                                                    "data-test-id": "bookmark-ts"
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(unref(ClockCircleOutlined)),
                                                      createTextVNode(" " + toDisplayString(t("Bookmark timestamp")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick"])
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            ytEmbed(currentLesson.value.videoUrl) ? (openBlock(), createBlock("div", {
                                              key: 0,
                                              class: "video-wrap"
                                            }, [
                                              createVNode("iframe", {
                                                src: ytEmbed(currentLesson.value.videoUrl),
                                                frameborder: "0",
                                                allowfullscreen: "",
                                                "data-test-id": "yt-iframe"
                                              }, null, 8, ["src"])
                                            ])) : (openBlock(), createBlock("div", {
                                              key: 1,
                                              class: "video-fallback"
                                            }, [
                                              createVNode(_component_a_typography_paragraph, null, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Video URL:")) + " ", 1),
                                                  createVNode("a", {
                                                    href: currentLesson.value.videoUrl,
                                                    target: "_blank"
                                                  }, toDisplayString(currentLesson.value.videoUrl || "—"), 9, ["href"])
                                                ]),
                                                _: 1
                                              }),
                                              currentLesson.value.videoUrl ? (openBlock(), createBlock("video", {
                                                key: 0,
                                                ref_key: "html5Video",
                                                ref: html5Video,
                                                controls: "",
                                                onRatechange: _ctx.syncVideoSpeed,
                                                playbackRate: videoSpeed.value,
                                                style: { "width": "100%", "border-radius": "10px" },
                                                "data-test-id": "html5-video"
                                              }, [
                                                createVNode("source", {
                                                  src: currentLesson.value.videoUrl,
                                                  type: "video/mp4"
                                                }, null, 8, ["src"])
                                              ], 40, ["onRatechange", "playbackRate"])) : createCommentVNode("", true)
                                            ])),
                                            createVNode(_component_a_divider, null, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Notes")), 1)
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(currentLesson.value.content), 1)
                                              ]),
                                              _: 1
                                            })
                                          ])) : currentLesson.value.type === "reading" ? (openBlock(), createBlock("div", { key: 1 }, [
                                            createVNode(_component_a_collapse, {
                                              bordered: false,
                                              class: "reading-collapse"
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_collapse_panel, {
                                                  key: "content",
                                                  header: t("Lesson content")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(currentLesson.value.content || t("No content")), 1)
                                                      ]),
                                                      _: 1
                                                    })
                                                  ]),
                                                  _: 1
                                                }, 8, ["header"]),
                                                createVNode(_component_a_collapse_panel, {
                                                  key: "highlights",
                                                  header: t("Highlights")
                                                }, {
                                                  default: withCtx(() => [
                                                    !notes[currentLesson.value.id]?.highlights?.length ? (openBlock(), createBlock(_component_a_empty, {
                                                      key: 0,
                                                      description: t("No highlights")
                                                    }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                      key: 1,
                                                      "data-source": notes[currentLesson.value.id].highlights,
                                                      size: "small"
                                                    }, {
                                                      renderItem: withCtx(({ item }) => [
                                                        createVNode(_component_a_list_item, null, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(item), 1)
                                                          ]),
                                                          _: 2
                                                        }, 1024)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["data-source"]))
                                                  ]),
                                                  _: 1
                                                }, 8, ["header"])
                                              ]),
                                              _: 1
                                            })
                                          ])) : currentLesson.value.type === "assignment" ? (openBlock(), createBlock("div", { key: 2 }, [
                                            createVNode(_component_a_alert, {
                                              type: "info",
                                              "show-icon": "",
                                              message: t("Assignment brief"),
                                              class: "mb-1"
                                            }, null, 8, ["message"]),
                                            createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(currentLesson.value.content || t("No brief")), 1)
                                              ]),
                                              _: 1
                                            }),
                                            currentLesson.value.rubric ? (openBlock(), createBlock(_component_a_alert, {
                                              key: 0,
                                              type: "success",
                                              "show-icon": "",
                                              message: t("Rubric"),
                                              description: currentLesson.value.rubric
                                            }, null, 8, ["message", "description"])) : createCommentVNode("", true),
                                            createVNode(_component_a_divider),
                                            createVNode(_component_a_space, null, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_button, {
                                                  type: "primary",
                                                  onClick: _ctx.openSubmitDrawer,
                                                  "data-test-id": "open-submit-drawer"
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Submit assignment")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"]),
                                                createVNode(_component_a_button, {
                                                  onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                  disabled: isCompleted(currentLesson.value.id)
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "disabled"])
                                              ]),
                                              _: 1
                                            })
                                          ])) : currentLesson.value.type === "quiz" ? (openBlock(), createBlock("div", { key: 3 }, [
                                            createVNode(_component_a_alert, {
                                              type: "info",
                                              "show-icon": "",
                                              message: t("Answer the questions and submit."),
                                              class: "mb-2"
                                            }, null, 8, ["message"]),
                                            (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.quiz?.questions || [], (q, qi) => {
                                              return openBlock(), createBlock("div", {
                                                key: q.id,
                                                class: "quiz-q"
                                              }, [
                                                createVNode("b", null, "Q" + toDisplayString(qi + 1), 1),
                                                createTextVNode(": " + toDisplayString(q.text || t("(empty)")) + " ", 1),
                                                q.type === "mcq" ? (openBlock(), createBlock("div", {
                                                  key: 0,
                                                  class: "mt-1"
                                                }, [
                                                  createVNode(_component_a_checkbox_group, {
                                                    value: _ctx.quizState[q.id],
                                                    "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                    options: (q.options || []).map((o, oi) => ({ label: o.text || `${t("Option")} ${oi + 1}`, value: oi })),
                                                    "data-test-id": "quiz-mcq"
                                                  }, null, 8, ["value", "onUpdate:value", "options"])
                                                ])) : q.type === "tf" ? (openBlock(), createBlock("div", {
                                                  key: 1,
                                                  class: "mt-1"
                                                }, [
                                                  createVNode(_component_a_radio_group, {
                                                    value: _ctx.quizState[q.id],
                                                    "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                    "data-test-id": "quiz-tf"
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_radio, { value: true }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("True")), 1)
                                                        ]),
                                                        _: 1
                                                      }),
                                                      createVNode(_component_a_radio, { value: false }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("False")), 1)
                                                        ]),
                                                        _: 1
                                                      })
                                                    ]),
                                                    _: 1
                                                  }, 8, ["value", "onUpdate:value"])
                                                ])) : (openBlock(), createBlock("div", {
                                                  key: 2,
                                                  class: "mt-1"
                                                }, [
                                                  createVNode(_component_a_input, {
                                                    value: _ctx.quizState[q.id],
                                                    "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                    placeholder: t("Your answer"),
                                                    "data-test-id": "quiz-short"
                                                  }, null, 8, ["value", "onUpdate:value", "placeholder"])
                                                ])),
                                                createVNode(_component_a_divider, { class: "my-1" })
                                              ]);
                                            }), 128)),
                                            createVNode(_component_a_space, null, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_button, {
                                                  type: "primary",
                                                  onClick: _ctx.submitQuiz,
                                                  loading: _ctx.quizSubmitting,
                                                  "data-test-id": "submit-quiz"
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Submit quiz")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "loading"]),
                                                createVNode(_component_a_button, {
                                                  onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                  disabled: isCompleted(currentLesson.value.id)
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "disabled"])
                                              ]),
                                              _: 1
                                            })
                                          ])) : currentLesson.value.type === "lab" ? (openBlock(), createBlock("div", { key: 4 }, [
                                            createVNode(_component_a_alert, {
                                              type: "info",
                                              "show-icon": "",
                                              message: t("Interactive lab"),
                                              description: t("Your lab environment opens in a new tab/window."),
                                              class: "mb-2"
                                            }, null, 8, ["message", "description"]),
                                            labChallenges[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                              key: 0,
                                              size: "small",
                                              class: "mb-2"
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_descriptions, {
                                                  bordered: "",
                                                  size: "small",
                                                  column: 1
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_descriptions_item, {
                                                      label: t("Challenge")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].title), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"]),
                                                    createVNode(_component_a_descriptions_item, {
                                                      label: t("Difficulty")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].difficulty), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"]),
                                                    labChallenges[currentLesson.value.id].description ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                      key: 0,
                                                      label: t("Description")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].description), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"])) : createCommentVNode("", true)
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            })) : createCommentVNode("", true),
                                            labSessions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                              key: 1,
                                              size: "small",
                                              class: "mb-2"
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_descriptions, {
                                                  bordered: "",
                                                  size: "small",
                                                  column: 1
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_descriptions_item, {
                                                      label: t("Session status")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_tag, {
                                                          color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["color"])
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"]),
                                                    labSessions[currentLesson.value.id].codeServerUrl ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                      key: 0,
                                                      label: t("VS Code URL")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode("a", {
                                                          href: labSessions[currentLesson.value.id].codeServerUrl,
                                                          target: "_blank"
                                                        }, toDisplayString(labSessions[currentLesson.value.id].codeServerUrl), 9, ["href"])
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"])) : createCommentVNode("", true)
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            })) : createCommentVNode("", true),
                                            labSubmissions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                              key: 2,
                                              size: "small",
                                              class: "mb-2"
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_descriptions, {
                                                  bordered: "",
                                                  size: "small",
                                                  column: 1
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_descriptions_item, {
                                                      label: t("Latest submission")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_tag, {
                                                          color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["color"])
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"]),
                                                    labSubmissions[currentLesson.value.id].gradePct != null ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                      key: 0,
                                                      label: t("Grade")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].gradePct) + "% ", 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"])) : createCommentVNode("", true),
                                                    labSubmissions[currentLesson.value.id].feedback ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                      key: 1,
                                                      label: t("Feedback")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                          ]),
                                                          _: 1
                                                        })
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"])) : createCommentVNode("", true)
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            })) : createCommentVNode("", true),
                                            createVNode(_component_a_space, { wrap: "" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_button, {
                                                  type: "primary",
                                                  onClick: ($event) => openLab(currentLesson.value),
                                                  loading: labSessionStarting[currentLesson.value.id],
                                                  disabled: labSessionStarting[currentLesson.value.id],
                                                  "data-test-id": "open-lab"
                                                }, createSlots({
                                                  default: withCtx(() => [
                                                    createTextVNode(" " + toDisplayString(labSessions[currentLesson.value.id]?.codeServerUrl ? t("Open VS Code") : t("Start lab session")), 1)
                                                  ]),
                                                  _: 2
                                                }, [
                                                  labSessions[currentLesson.value.id]?.codeServerUrl ? {
                                                    name: "icon",
                                                    fn: withCtx(() => [
                                                      createVNode(unref(CodeOutlined))
                                                    ]),
                                                    key: "0"
                                                  } : void 0
                                                ]), 1032, ["onClick", "loading", "disabled"]),
                                                labSessions[currentLesson.value.id]?.codeServerUrl ? (openBlock(), createBlock(_component_a_button, {
                                                  key: 0,
                                                  onClick: ($event) => openLabUrl(currentLesson.value),
                                                  disabled: !labSessions[currentLesson.value.id]?.codeServerUrl,
                                                  "data-test-id": "open-lab-url"
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Open in new tab")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "disabled"])) : createCommentVNode("", true),
                                                createVNode(_component_a_button, {
                                                  type: "default",
                                                  onClick: ($event) => submitLab(currentLesson.value),
                                                  loading: labSubmitting[currentLesson.value.id],
                                                  disabled: labSubmitting[currentLesson.value.id] || !labSessions[currentLesson.value.id] || labSessions[currentLesson.value.id].status !== "running" && labSessions[currentLesson.value.id].status !== "starting",
                                                  "data-test-id": "submit-lab"
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Submit lab")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "loading", "disabled"]),
                                                labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                  key: 1,
                                                  onClick: ($event) => refreshLabContainer(currentLesson.value),
                                                  loading: labRefreshing[currentLesson.value.id],
                                                  disabled: labRefreshing[currentLesson.value.id],
                                                  "data-test-id": "refresh-lab"
                                                }, {
                                                  icon: withCtx(() => [
                                                    createVNode(unref(CloudSyncOutlined))
                                                  ]),
                                                  default: withCtx(() => [
                                                    createTextVNode(" " + toDisplayString(t("Update container with saved code")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                                labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                  key: 2,
                                                  onClick: ($event) => restartLab(currentLesson.value),
                                                  loading: labRestarting[currentLesson.value.id],
                                                  disabled: labRestarting[currentLesson.value.id]
                                                }, {
                                                  icon: withCtx(() => [
                                                    createVNode(unref(ReloadOutlined))
                                                  ]),
                                                  default: withCtx(() => [
                                                    createTextVNode(" " + toDisplayString(t("Restart lab")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                                createVNode(_component_a_button, {
                                                  onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                  disabled: isCompleted(currentLesson.value.id)
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "disabled"])
                                              ]),
                                              _: 1
                                            })
                                          ])) : (openBlock(), createBlock("div", { key: 5 }, [
                                            createVNode(_component_a_typography_text, { type: "secondary" }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Unsupported lesson type.")), 1)
                                              ]),
                                              _: 1
                                            })
                                          ]))
                                        ], 64)),
                                        createVNode(_component_a_divider),
                                        createVNode(_component_a_form, {
                                          layout: "vertical",
                                          class: "mt-2",
                                          onFinish: withModifiers(() => {
                                          }, ["prevent"])
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_form_item, {
                                              label: t("Your notes for this lesson")
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_textarea, {
                                                  value: ensureNoteForLesson(currentLesson.value.id).text,
                                                  "onUpdate:value": ($event) => ensureNoteForLesson(currentLesson.value.id).text = $event,
                                                  rows: 4,
                                                  onChange: ($event) => _ctx.persistNotes(currentLesson.value.id),
                                                  "data-test-id": "lesson-notes"
                                                }, null, 8, ["value", "onUpdate:value", "onChange"])
                                              ]),
                                              _: 1
                                            }, 8, ["label"])
                                          ]),
                                          _: 1
                                        }, 8, ["onFinish"]),
                                        createVNode("div", { class: "nav-actions" }, [
                                          createVNode(_component_a_space, { wrap: "" }, {
                                            default: withCtx(() => [
                                              currentLesson.value ? (openBlock(), createBlock(_component_a_button, {
                                                key: 0,
                                                type: isCompleted(currentLesson.value.id) ? "default" : "primary",
                                                onClick: ($event) => _ctx.toggleComplete(currentLesson.value),
                                                "data-test-id": "toggle-complete"
                                              }, {
                                                icon: withCtx(() => [
                                                  createVNode(unref(CheckOutlined))
                                                ]),
                                                default: withCtx(() => [
                                                  createTextVNode(" " + toDisplayString(isCompleted(currentLesson.value.id) ? t("Mark as incomplete") : t("Mark as complete")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["type", "onClick"])) : createCommentVNode("", true),
                                              createVNode(_component_a_button, {
                                                onClick: _ctx.prevLesson,
                                                disabled: currentIndex.value <= 0,
                                                "data-test-id": "prev-lesson"
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Previous")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "disabled"]),
                                              createVNode(_component_a_button, {
                                                type: "primary",
                                                onClick: _ctx.nextLesson,
                                                disabled: currentIndex.value >= lessons.value.length - 1,
                                                "data-test-id": "next-lesson"
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Next")) + " ", 1),
                                                  createVNode(unref(ArrowRightOutlined))
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "disabled"]),
                                              createVNode(_component_a_checkbox, {
                                                checked: autoNext.value,
                                                "onUpdate:checked": ($event) => autoNext.value = $event,
                                                class: "ml-2",
                                                "data-test-id": "auto-next"
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Auto-next on complete")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["checked", "onUpdate:checked"])
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_rate, {
                                            value: ratings[currentLesson.value.id],
                                            "onUpdate:value": ($event) => ratings[currentLesson.value.id] = $event,
                                            "allow-half": "",
                                            onChange: _ctx.persistRatings
                                          }, null, 8, ["value", "onUpdate:value", "onChange"])
                                        ])
                                      ]),
                                      _: 1
                                    }, 8, ["title"])) : (openBlock(), createBlock(_component_a_empty, {
                                      key: 1,
                                      description: t("No lessons found")
                                    }, null, 8, ["description"]))
                                  ]),
                                  _: 1
                                }, 8, ["spinning"]))
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                        _push4(ssrRenderComponent(_component_a_layout_sider, {
                          width: "320",
                          class: "right-sider",
                          collapsible: "",
                          collapsed: rightCollapsed.value,
                          "onUpdate:collapsed": ($event) => rightCollapsed.value = $event,
                          "collapsed-width": 60,
                          "data-test-id": "right-sider"
                        }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(`<div class="right-inner" data-v-6d06c401${_scopeId4}>`);
                              _push5(ssrRenderComponent(_component_a_tabs, {
                                activeKey: rightTab.value,
                                "onUpdate:activeKey": ($event) => rightTab.value = $event,
                                size: "small",
                                animated: false
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_tab_pane, {
                                      key: "progress",
                                      tab: t("Progress"),
                                      "data-test-id": "tab-progress"
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Students`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Students")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Modules`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Modules")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Students")
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_breadcrumb_item, null, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Modules")
                                                    ]),
                                                    _: 1
                                                  })
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_card, {
                                            size: "small",
                                            title: t("Progress"),
                                            bordered: false,
                                            "body-style": "padding:0;"
                                          }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_steps, {
                                                  size: "small",
                                                  direction: "vertical",
                                                  current: currentIndex.value
                                                }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`<!--[-->`);
                                                      ssrRenderList(lessons.value, (l, i) => {
                                                        _push9(ssrRenderComponent(_component_a_step, {
                                                          key: l.id,
                                                          title: l.title || `${t("Lesson")} ${i + 1}`,
                                                          description: l.duration ? `${l.duration} ${t("min")}` : "",
                                                          status: isCompleted(l.id) ? "finish" : i === currentIndex.value ? "process" : "wait"
                                                        }, null, _parent9, _scopeId8));
                                                      });
                                                      _push9(`<!--]-->`);
                                                    } else {
                                                      return [
                                                        (openBlock(true), createBlock(Fragment, null, renderList(lessons.value, (l, i) => {
                                                          return openBlock(), createBlock(_component_a_step, {
                                                            key: l.id,
                                                            title: l.title || `${t("Lesson")} ${i + 1}`,
                                                            description: l.duration ? `${l.duration} ${t("min")}` : "",
                                                            status: isCompleted(l.id) ? "finish" : i === currentIndex.value ? "process" : "wait"
                                                          }, null, 8, ["title", "description", "status"]);
                                                        }), 128))
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_steps, {
                                                    size: "small",
                                                    direction: "vertical",
                                                    current: currentIndex.value
                                                  }, {
                                                    default: withCtx(() => [
                                                      (openBlock(true), createBlock(Fragment, null, renderList(lessons.value, (l, i) => {
                                                        return openBlock(), createBlock(_component_a_step, {
                                                          key: l.id,
                                                          title: l.title || `${t("Lesson")} ${i + 1}`,
                                                          description: l.duration ? `${l.duration} ${t("min")}` : "",
                                                          status: isCompleted(l.id) ? "finish" : i === currentIndex.value ? "process" : "wait"
                                                        }, null, 8, ["title", "description", "status"]);
                                                      }), 128))
                                                    ]),
                                                    _: 1
                                                  }, 8, ["current"])
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Students")
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_breadcrumb_item, null, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Modules")
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_card, {
                                              size: "small",
                                              title: t("Progress"),
                                              bordered: false,
                                              "body-style": "padding:0;"
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_steps, {
                                                  size: "small",
                                                  direction: "vertical",
                                                  current: currentIndex.value
                                                }, {
                                                  default: withCtx(() => [
                                                    (openBlock(true), createBlock(Fragment, null, renderList(lessons.value, (l, i) => {
                                                      return openBlock(), createBlock(_component_a_step, {
                                                        key: l.id,
                                                        title: l.title || `${t("Lesson")} ${i + 1}`,
                                                        description: l.duration ? `${l.duration} ${t("min")}` : "",
                                                        status: isCompleted(l.id) ? "finish" : i === currentIndex.value ? "process" : "wait"
                                                      }, null, 8, ["title", "description", "status"]);
                                                    }), 128))
                                                  ]),
                                                  _: 1
                                                }, 8, ["current"])
                                              ]),
                                              _: 1
                                            }, 8, ["title"])
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                    _push6(ssrRenderComponent(_component_a_tab_pane, {
                                      key: "resources",
                                      tab: t("Resources")
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Students`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Students")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Modules`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Modules")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Students")
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_breadcrumb_item, null, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Modules")
                                                    ]),
                                                    _: 1
                                                  })
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          if (currentLesson.value) {
                                            _push7(ssrRenderComponent(_component_a_card, {
                                              size: "small",
                                              title: t("Resources"),
                                              class: "mt-2"
                                            }, {
                                              default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                if (_push8) {
                                                  if (isEnrolledCourse.value) {
                                                    _push8(`<div class="mb-1" data-v-6d06c401${_scopeId7}>`);
                                                    _push8(ssrRenderComponent(_component_a_button, {
                                                      size: "small",
                                                      type: "primary",
                                                      onClick: ($event) => addLessonShare("resource"),
                                                      loading: shareUploading.resource
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(`${ssrInterpolate(t("Add resource"))}`);
                                                        } else {
                                                          return [
                                                            createTextVNode(toDisplayString(t("Add resource")), 1)
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                    _push8(`</div>`);
                                                  } else {
                                                    _push8(`<!---->`);
                                                  }
                                                  if (!combinedResources.value.length) {
                                                    _push8(ssrRenderComponent(_component_a_empty, {
                                                      description: t("No resources")
                                                    }, null, _parent8, _scopeId7));
                                                  } else {
                                                    _push8(ssrRenderComponent(_component_a_list, {
                                                      size: "small",
                                                      "data-source": combinedResources.value
                                                    }, {
                                                      renderItem: withCtx(({ item }, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(ssrRenderComponent(_component_a_list_item, null, {
                                                            default: withCtx((_8, _push10, _parent10, _scopeId9) => {
                                                              if (_push10) {
                                                                _push10(`<a${ssrRenderAttr("href", item.url)} target="_blank" data-v-6d06c401${_scopeId9}>${ssrInterpolate(item.title || item.name || t("Resource"))}</a>`);
                                                              } else {
                                                                return [
                                                                  createVNode("a", {
                                                                    href: item.url,
                                                                    target: "_blank"
                                                                  }, toDisplayString(item.title || item.name || t("Resource")), 9, ["href"])
                                                                ];
                                                              }
                                                            }),
                                                            _: 2
                                                          }, _parent9, _scopeId8));
                                                        } else {
                                                          return [
                                                            createVNode(_component_a_list_item, null, {
                                                              default: withCtx(() => [
                                                                createVNode("a", {
                                                                  href: item.url,
                                                                  target: "_blank"
                                                                }, toDisplayString(item.title || item.name || t("Resource")), 9, ["href"])
                                                              ]),
                                                              _: 2
                                                            }, 1024)
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                  }
                                                } else {
                                                  return [
                                                    isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                                      key: 0,
                                                      class: "mb-1"
                                                    }, [
                                                      createVNode(_component_a_button, {
                                                        size: "small",
                                                        type: "primary",
                                                        onClick: ($event) => addLessonShare("resource"),
                                                        loading: shareUploading.resource
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Add resource")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick", "loading"])
                                                    ])) : createCommentVNode("", true),
                                                    !combinedResources.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                                      key: 1,
                                                      description: t("No resources")
                                                    }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                      key: 2,
                                                      size: "small",
                                                      "data-source": combinedResources.value
                                                    }, {
                                                      renderItem: withCtx(({ item }) => [
                                                        createVNode(_component_a_list_item, null, {
                                                          default: withCtx(() => [
                                                            createVNode("a", {
                                                              href: item.url,
                                                              target: "_blank"
                                                            }, toDisplayString(item.title || item.name || t("Resource")), 9, ["href"])
                                                          ]),
                                                          _: 2
                                                        }, 1024)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["data-source"]))
                                                  ];
                                                }
                                              }),
                                              _: 1
                                            }, _parent7, _scopeId6));
                                          } else {
                                            _push7(`<!---->`);
                                          }
                                          _push7(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Students`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Students")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Modules`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Modules")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Students")
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_breadcrumb_item, null, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Modules")
                                                    ]),
                                                    _: 1
                                                  })
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          if (currentLesson.value) {
                                            _push7(ssrRenderComponent(_component_a_card, {
                                              size: "small",
                                              class: "mt-2",
                                              title: t("Attachments")
                                            }, {
                                              default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                                if (_push8) {
                                                  if (isEnrolledCourse.value) {
                                                    _push8(`<div class="mb-1" data-v-6d06c401${_scopeId7}>`);
                                                    _push8(ssrRenderComponent(_component_a_button, {
                                                      size: "small",
                                                      type: "primary",
                                                      onClick: ($event) => addLessonShare("attachment"),
                                                      loading: shareUploading.attachment
                                                    }, {
                                                      default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(`${ssrInterpolate(t("Add attachment"))}`);
                                                        } else {
                                                          return [
                                                            createTextVNode(toDisplayString(t("Add attachment")), 1)
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                    _push8(`</div>`);
                                                  } else {
                                                    _push8(`<!---->`);
                                                  }
                                                  if (!combinedAttachments.value.length) {
                                                    _push8(ssrRenderComponent(_component_a_empty, {
                                                      description: t("No attachments")
                                                    }, null, _parent8, _scopeId7));
                                                  } else {
                                                    _push8(ssrRenderComponent(_component_a_list, {
                                                      size: "small",
                                                      "data-source": combinedAttachments.value
                                                    }, {
                                                      renderItem: withCtx(({ item }, _push9, _parent9, _scopeId8) => {
                                                        if (_push9) {
                                                          _push9(ssrRenderComponent(_component_a_list_item, null, {
                                                            default: withCtx((_8, _push10, _parent10, _scopeId9) => {
                                                              if (_push10) {
                                                                _push10(`<a${ssrRenderAttr("href", item.url)} target="_blank" data-v-6d06c401${_scopeId9}>${ssrInterpolate(item.name || t("Attachment"))}</a>`);
                                                              } else {
                                                                return [
                                                                  createVNode("a", {
                                                                    href: item.url,
                                                                    target: "_blank"
                                                                  }, toDisplayString(item.name || t("Attachment")), 9, ["href"])
                                                                ];
                                                              }
                                                            }),
                                                            _: 2
                                                          }, _parent9, _scopeId8));
                                                        } else {
                                                          return [
                                                            createVNode(_component_a_list_item, null, {
                                                              default: withCtx(() => [
                                                                createVNode("a", {
                                                                  href: item.url,
                                                                  target: "_blank"
                                                                }, toDisplayString(item.name || t("Attachment")), 9, ["href"])
                                                              ]),
                                                              _: 2
                                                            }, 1024)
                                                          ];
                                                        }
                                                      }),
                                                      _: 1
                                                    }, _parent8, _scopeId7));
                                                  }
                                                } else {
                                                  return [
                                                    isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                                      key: 0,
                                                      class: "mb-1"
                                                    }, [
                                                      createVNode(_component_a_button, {
                                                        size: "small",
                                                        type: "primary",
                                                        onClick: ($event) => addLessonShare("attachment"),
                                                        loading: shareUploading.attachment
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Add attachment")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick", "loading"])
                                                    ])) : createCommentVNode("", true),
                                                    !combinedAttachments.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                                      key: 1,
                                                      description: t("No attachments")
                                                    }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                      key: 2,
                                                      size: "small",
                                                      "data-source": combinedAttachments.value
                                                    }, {
                                                      renderItem: withCtx(({ item }) => [
                                                        createVNode(_component_a_list_item, null, {
                                                          default: withCtx(() => [
                                                            createVNode("a", {
                                                              href: item.url,
                                                              target: "_blank"
                                                            }, toDisplayString(item.name || t("Attachment")), 9, ["href"])
                                                          ]),
                                                          _: 2
                                                        }, 1024)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["data-source"]))
                                                  ];
                                                }
                                              }),
                                              _: 1
                                            }, _parent7, _scopeId6));
                                          } else {
                                            _push7(`<!---->`);
                                          }
                                        } else {
                                          return [
                                            createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Students")
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_breadcrumb_item, null, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Modules")
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }),
                                            currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                              key: 0,
                                              size: "small",
                                              title: t("Resources"),
                                              class: "mt-2"
                                            }, {
                                              default: withCtx(() => [
                                                isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                                  key: 0,
                                                  class: "mb-1"
                                                }, [
                                                  createVNode(_component_a_button, {
                                                    size: "small",
                                                    type: "primary",
                                                    onClick: ($event) => addLessonShare("resource"),
                                                    loading: shareUploading.resource
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Add resource")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick", "loading"])
                                                ])) : createCommentVNode("", true),
                                                !combinedResources.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                                  key: 1,
                                                  description: t("No resources")
                                                }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                  key: 2,
                                                  size: "small",
                                                  "data-source": combinedResources.value
                                                }, {
                                                  renderItem: withCtx(({ item }) => [
                                                    createVNode(_component_a_list_item, null, {
                                                      default: withCtx(() => [
                                                        createVNode("a", {
                                                          href: item.url,
                                                          target: "_blank"
                                                        }, toDisplayString(item.title || item.name || t("Resource")), 9, ["href"])
                                                      ]),
                                                      _: 2
                                                    }, 1024)
                                                  ]),
                                                  _: 1
                                                }, 8, ["data-source"]))
                                              ]),
                                              _: 1
                                            }, 8, ["title"])) : createCommentVNode("", true),
                                            createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Students")
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_breadcrumb_item, null, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Modules")
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }),
                                            currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                              key: 1,
                                              size: "small",
                                              class: "mt-2",
                                              title: t("Attachments")
                                            }, {
                                              default: withCtx(() => [
                                                isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                                  key: 0,
                                                  class: "mb-1"
                                                }, [
                                                  createVNode(_component_a_button, {
                                                    size: "small",
                                                    type: "primary",
                                                    onClick: ($event) => addLessonShare("attachment"),
                                                    loading: shareUploading.attachment
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Add attachment")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick", "loading"])
                                                ])) : createCommentVNode("", true),
                                                !combinedAttachments.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                                  key: 1,
                                                  description: t("No attachments")
                                                }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                  key: 2,
                                                  size: "small",
                                                  "data-source": combinedAttachments.value
                                                }, {
                                                  renderItem: withCtx(({ item }) => [
                                                    createVNode(_component_a_list_item, null, {
                                                      default: withCtx(() => [
                                                        createVNode("a", {
                                                          href: item.url,
                                                          target: "_blank"
                                                        }, toDisplayString(item.name || t("Attachment")), 9, ["href"])
                                                      ]),
                                                      _: 2
                                                    }, 1024)
                                                  ]),
                                                  _: 1
                                                }, 8, ["data-source"]))
                                              ]),
                                              _: 1
                                            }, 8, ["title"])) : createCommentVNode("", true)
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                    _push6(ssrRenderComponent(_component_a_tab_pane, {
                                      key: "notes",
                                      tab: t("Notes")
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Students`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Students")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Modules`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Modules")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Students")
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_breadcrumb_item, null, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Modules")
                                                    ]),
                                                    _: 1
                                                  })
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_card, {
                                            size: "small",
                                            title: t("Your notes"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_form, {
                                                  layout: "vertical",
                                                  onFinish: () => {
                                                  }
                                                }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(ssrRenderComponent(_component_a_form_item, {
                                                        label: t("Lesson notes")
                                                      }, {
                                                        default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                          if (_push10) {
                                                            _push10(ssrRenderComponent(_component_a_textarea, {
                                                              value: notes[currentLesson.value?.id || "global"].text,
                                                              "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                              rows: 6,
                                                              onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                              "data-test-id": "notes-right"
                                                            }, null, _parent10, _scopeId9));
                                                          } else {
                                                            return [
                                                              createVNode(_component_a_textarea, {
                                                                value: notes[currentLesson.value?.id || "global"].text,
                                                                "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                                rows: 6,
                                                                onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                                "data-test-id": "notes-right"
                                                              }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                            ];
                                                          }
                                                        }),
                                                        _: 1
                                                      }, _parent9, _scopeId8));
                                                      _push9(ssrRenderComponent(_component_a_form_item, {
                                                        label: t("Highlights")
                                                      }, {
                                                        default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                          if (_push10) {
                                                            _push10(ssrRenderComponent(_component_a_input_search, {
                                                              value: newHighlight.value,
                                                              "onUpdate:value": ($event) => newHighlight.value = $event,
                                                              placeholder: t("Type highlight and press +"),
                                                              "enter-button": "+",
                                                              onSearch: _ctx.addHighlight
                                                            }, null, _parent10, _scopeId9));
                                                            if (!notes[currentLesson.value?.id || "global"].highlights.length) {
                                                              _push10(ssrRenderComponent(_component_a_empty, {
                                                                description: t("No highlights"),
                                                                class: "mt-1"
                                                              }, null, _parent10, _scopeId9));
                                                            } else {
                                                              _push10(ssrRenderComponent(_component_a_list, {
                                                                "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                                size: "small",
                                                                class: "mt-1"
                                                              }, {
                                                                renderItem: withCtx(({ item, index }, _push11, _parent11, _scopeId10) => {
                                                                  if (_push11) {
                                                                    _push11(ssrRenderComponent(_component_a_list_item, null, {
                                                                      default: withCtx((_10, _push12, _parent12, _scopeId11) => {
                                                                        if (_push12) {
                                                                          _push12(ssrRenderComponent(_component_a_space, null, {
                                                                            default: withCtx((_11, _push13, _parent13, _scopeId12) => {
                                                                              if (_push13) {
                                                                                _push13(`<span data-v-6d06c401${_scopeId12}>${ssrInterpolate(item)}</span>`);
                                                                                _push13(ssrRenderComponent(_component_a_button, {
                                                                                  size: "small",
                                                                                  onClick: ($event) => _ctx.removeHighlight(index)
                                                                                }, {
                                                                                  default: withCtx((_12, _push14, _parent14, _scopeId13) => {
                                                                                    if (_push14) {
                                                                                      _push14(`${ssrInterpolate(t("Remove"))}`);
                                                                                    } else {
                                                                                      return [
                                                                                        createTextVNode(toDisplayString(t("Remove")), 1)
                                                                                      ];
                                                                                    }
                                                                                  }),
                                                                                  _: 2
                                                                                }, _parent13, _scopeId12));
                                                                              } else {
                                                                                return [
                                                                                  createVNode("span", null, toDisplayString(item), 1),
                                                                                  createVNode(_component_a_button, {
                                                                                    size: "small",
                                                                                    onClick: ($event) => _ctx.removeHighlight(index)
                                                                                  }, {
                                                                                    default: withCtx(() => [
                                                                                      createTextVNode(toDisplayString(t("Remove")), 1)
                                                                                    ]),
                                                                                    _: 1
                                                                                  }, 8, ["onClick"])
                                                                                ];
                                                                              }
                                                                            }),
                                                                            _: 2
                                                                          }, _parent12, _scopeId11));
                                                                        } else {
                                                                          return [
                                                                            createVNode(_component_a_space, null, {
                                                                              default: withCtx(() => [
                                                                                createVNode("span", null, toDisplayString(item), 1),
                                                                                createVNode(_component_a_button, {
                                                                                  size: "small",
                                                                                  onClick: ($event) => _ctx.removeHighlight(index)
                                                                                }, {
                                                                                  default: withCtx(() => [
                                                                                    createTextVNode(toDisplayString(t("Remove")), 1)
                                                                                  ]),
                                                                                  _: 1
                                                                                }, 8, ["onClick"])
                                                                              ]),
                                                                              _: 2
                                                                            }, 1024)
                                                                          ];
                                                                        }
                                                                      }),
                                                                      _: 2
                                                                    }, _parent11, _scopeId10));
                                                                  } else {
                                                                    return [
                                                                      createVNode(_component_a_list_item, null, {
                                                                        default: withCtx(() => [
                                                                          createVNode(_component_a_space, null, {
                                                                            default: withCtx(() => [
                                                                              createVNode("span", null, toDisplayString(item), 1),
                                                                              createVNode(_component_a_button, {
                                                                                size: "small",
                                                                                onClick: ($event) => _ctx.removeHighlight(index)
                                                                              }, {
                                                                                default: withCtx(() => [
                                                                                  createTextVNode(toDisplayString(t("Remove")), 1)
                                                                                ]),
                                                                                _: 1
                                                                              }, 8, ["onClick"])
                                                                            ]),
                                                                            _: 2
                                                                          }, 1024)
                                                                        ]),
                                                                        _: 2
                                                                      }, 1024)
                                                                    ];
                                                                  }
                                                                }),
                                                                _: 1
                                                              }, _parent10, _scopeId9));
                                                            }
                                                          } else {
                                                            return [
                                                              createVNode(_component_a_input_search, {
                                                                value: newHighlight.value,
                                                                "onUpdate:value": ($event) => newHighlight.value = $event,
                                                                placeholder: t("Type highlight and press +"),
                                                                "enter-button": "+",
                                                                onSearch: _ctx.addHighlight
                                                              }, null, 8, ["value", "onUpdate:value", "placeholder", "onSearch"]),
                                                              !notes[currentLesson.value?.id || "global"].highlights.length ? (openBlock(), createBlock(_component_a_empty, {
                                                                key: 0,
                                                                description: t("No highlights"),
                                                                class: "mt-1"
                                                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                                key: 1,
                                                                "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                                size: "small",
                                                                class: "mt-1"
                                                              }, {
                                                                renderItem: withCtx(({ item, index }) => [
                                                                  createVNode(_component_a_list_item, null, {
                                                                    default: withCtx(() => [
                                                                      createVNode(_component_a_space, null, {
                                                                        default: withCtx(() => [
                                                                          createVNode("span", null, toDisplayString(item), 1),
                                                                          createVNode(_component_a_button, {
                                                                            size: "small",
                                                                            onClick: ($event) => _ctx.removeHighlight(index)
                                                                          }, {
                                                                            default: withCtx(() => [
                                                                              createTextVNode(toDisplayString(t("Remove")), 1)
                                                                            ]),
                                                                            _: 1
                                                                          }, 8, ["onClick"])
                                                                        ]),
                                                                        _: 2
                                                                      }, 1024)
                                                                    ]),
                                                                    _: 2
                                                                  }, 1024)
                                                                ]),
                                                                _: 1
                                                              }, 8, ["data-source"]))
                                                            ];
                                                          }
                                                        }),
                                                        _: 1
                                                      }, _parent9, _scopeId8));
                                                    } else {
                                                      return [
                                                        createVNode(_component_a_form_item, {
                                                          label: t("Lesson notes")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_textarea, {
                                                              value: notes[currentLesson.value?.id || "global"].text,
                                                              "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                              rows: 6,
                                                              onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                              "data-test-id": "notes-right"
                                                            }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"]),
                                                        createVNode(_component_a_form_item, {
                                                          label: t("Highlights")
                                                        }, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_input_search, {
                                                              value: newHighlight.value,
                                                              "onUpdate:value": ($event) => newHighlight.value = $event,
                                                              placeholder: t("Type highlight and press +"),
                                                              "enter-button": "+",
                                                              onSearch: _ctx.addHighlight
                                                            }, null, 8, ["value", "onUpdate:value", "placeholder", "onSearch"]),
                                                            !notes[currentLesson.value?.id || "global"].highlights.length ? (openBlock(), createBlock(_component_a_empty, {
                                                              key: 0,
                                                              description: t("No highlights"),
                                                              class: "mt-1"
                                                            }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                              key: 1,
                                                              "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                              size: "small",
                                                              class: "mt-1"
                                                            }, {
                                                              renderItem: withCtx(({ item, index }) => [
                                                                createVNode(_component_a_list_item, null, {
                                                                  default: withCtx(() => [
                                                                    createVNode(_component_a_space, null, {
                                                                      default: withCtx(() => [
                                                                        createVNode("span", null, toDisplayString(item), 1),
                                                                        createVNode(_component_a_button, {
                                                                          size: "small",
                                                                          onClick: ($event) => _ctx.removeHighlight(index)
                                                                        }, {
                                                                          default: withCtx(() => [
                                                                            createTextVNode(toDisplayString(t("Remove")), 1)
                                                                          ]),
                                                                          _: 1
                                                                        }, 8, ["onClick"])
                                                                      ]),
                                                                      _: 2
                                                                    }, 1024)
                                                                  ]),
                                                                  _: 2
                                                                }, 1024)
                                                              ]),
                                                              _: 1
                                                            }, 8, ["data-source"]))
                                                          ]),
                                                          _: 1
                                                        }, 8, ["label"])
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_form, {
                                                    layout: "vertical",
                                                    onFinish: withModifiers(() => {
                                                    }, ["prevent"])
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_form_item, {
                                                        label: t("Lesson notes")
                                                      }, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_textarea, {
                                                            value: notes[currentLesson.value?.id || "global"].text,
                                                            "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                            rows: 6,
                                                            onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                            "data-test-id": "notes-right"
                                                          }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                        ]),
                                                        _: 1
                                                      }, 8, ["label"]),
                                                      createVNode(_component_a_form_item, {
                                                        label: t("Highlights")
                                                      }, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_input_search, {
                                                            value: newHighlight.value,
                                                            "onUpdate:value": ($event) => newHighlight.value = $event,
                                                            placeholder: t("Type highlight and press +"),
                                                            "enter-button": "+",
                                                            onSearch: _ctx.addHighlight
                                                          }, null, 8, ["value", "onUpdate:value", "placeholder", "onSearch"]),
                                                          !notes[currentLesson.value?.id || "global"].highlights.length ? (openBlock(), createBlock(_component_a_empty, {
                                                            key: 0,
                                                            description: t("No highlights"),
                                                            class: "mt-1"
                                                          }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                            key: 1,
                                                            "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                            size: "small",
                                                            class: "mt-1"
                                                          }, {
                                                            renderItem: withCtx(({ item, index }) => [
                                                              createVNode(_component_a_list_item, null, {
                                                                default: withCtx(() => [
                                                                  createVNode(_component_a_space, null, {
                                                                    default: withCtx(() => [
                                                                      createVNode("span", null, toDisplayString(item), 1),
                                                                      createVNode(_component_a_button, {
                                                                        size: "small",
                                                                        onClick: ($event) => _ctx.removeHighlight(index)
                                                                      }, {
                                                                        default: withCtx(() => [
                                                                          createTextVNode(toDisplayString(t("Remove")), 1)
                                                                        ]),
                                                                        _: 1
                                                                      }, 8, ["onClick"])
                                                                    ]),
                                                                    _: 2
                                                                  }, 1024)
                                                                ]),
                                                                _: 2
                                                              }, 1024)
                                                            ]),
                                                            _: 1
                                                          }, 8, ["data-source"]))
                                                        ]),
                                                        _: 1
                                                      }, 8, ["label"])
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onFinish"])
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Students")
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_breadcrumb_item, null, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Modules")
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_card, {
                                              size: "small",
                                              title: t("Your notes"),
                                              class: "mt-2"
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_form, {
                                                  layout: "vertical",
                                                  onFinish: withModifiers(() => {
                                                  }, ["prevent"])
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_form_item, {
                                                      label: t("Lesson notes")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_textarea, {
                                                          value: notes[currentLesson.value?.id || "global"].text,
                                                          "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                          rows: 6,
                                                          onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                          "data-test-id": "notes-right"
                                                        }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"]),
                                                    createVNode(_component_a_form_item, {
                                                      label: t("Highlights")
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_input_search, {
                                                          value: newHighlight.value,
                                                          "onUpdate:value": ($event) => newHighlight.value = $event,
                                                          placeholder: t("Type highlight and press +"),
                                                          "enter-button": "+",
                                                          onSearch: _ctx.addHighlight
                                                        }, null, 8, ["value", "onUpdate:value", "placeholder", "onSearch"]),
                                                        !notes[currentLesson.value?.id || "global"].highlights.length ? (openBlock(), createBlock(_component_a_empty, {
                                                          key: 0,
                                                          description: t("No highlights"),
                                                          class: "mt-1"
                                                        }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                          key: 1,
                                                          "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                          size: "small",
                                                          class: "mt-1"
                                                        }, {
                                                          renderItem: withCtx(({ item, index }) => [
                                                            createVNode(_component_a_list_item, null, {
                                                              default: withCtx(() => [
                                                                createVNode(_component_a_space, null, {
                                                                  default: withCtx(() => [
                                                                    createVNode("span", null, toDisplayString(item), 1),
                                                                    createVNode(_component_a_button, {
                                                                      size: "small",
                                                                      onClick: ($event) => _ctx.removeHighlight(index)
                                                                    }, {
                                                                      default: withCtx(() => [
                                                                        createTextVNode(toDisplayString(t("Remove")), 1)
                                                                      ]),
                                                                      _: 1
                                                                    }, 8, ["onClick"])
                                                                  ]),
                                                                  _: 2
                                                                }, 1024)
                                                              ]),
                                                              _: 2
                                                            }, 1024)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["data-source"]))
                                                      ]),
                                                      _: 1
                                                    }, 8, ["label"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["onFinish"])
                                              ]),
                                              _: 1
                                            }, 8, ["title"])
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                    _push6(ssrRenderComponent(_component_a_tab_pane, {
                                      key: "qa",
                                      tab: t("Q&A")
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Students`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Students")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Modules`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Modules")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Students")
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_breadcrumb_item, null, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Modules")
                                                    ]),
                                                    _: 1
                                                  })
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_card, {
                                            size: "small",
                                            title: t("Questions & Answers"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(`<!--[-->`);
                                                ssrRenderList(_ctx.qaForCurrent, (c) => {
                                                  _push8(ssrRenderComponent(_component_a_comment, {
                                                    key: c.id,
                                                    author: c.author,
                                                    content: c.text,
                                                    datetime: c.when
                                                  }, {
                                                    avatar: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                      if (_push9) {
                                                        _push9(ssrRenderComponent(_component_a_avatar, {
                                                          src: c.avatar
                                                        }, null, _parent9, _scopeId8));
                                                      } else {
                                                        return [
                                                          createVNode(_component_a_avatar, {
                                                            src: c.avatar
                                                          }, null, 8, ["src"])
                                                        ];
                                                      }
                                                    }),
                                                    _: 2
                                                  }, _parent8, _scopeId7));
                                                });
                                                _push8(`<!--]-->`);
                                                _push8(ssrRenderComponent(_component_a_divider, null, null, _parent8, _scopeId7));
                                                _push8(ssrRenderComponent(_component_a_input_textarea, {
                                                  value: qaDraft.value,
                                                  "onUpdate:value": ($event) => qaDraft.value = $event,
                                                  rows: 3,
                                                  placeholder: t("Ask a question"),
                                                  "data-test-id": "qa-input"
                                                }, null, _parent8, _scopeId7));
                                                _push8(ssrRenderComponent(_component_a_space, { class: "mt-1" }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(ssrRenderComponent(_component_a_button, {
                                                        size: "small",
                                                        onClick: _ctx.submitQA,
                                                        disabled: !qaDraft.value.trim()
                                                      }, {
                                                        default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                          if (_push10) {
                                                            _push10(`${ssrInterpolate(t("Post"))}`);
                                                          } else {
                                                            return [
                                                              createTextVNode(toDisplayString(t("Post")), 1)
                                                            ];
                                                          }
                                                        }),
                                                        _: 1
                                                      }, _parent9, _scopeId8));
                                                      _push9(ssrRenderComponent(_component_a_button, {
                                                        size: "small",
                                                        onClick: ($event) => qaDraft.value = ""
                                                      }, {
                                                        default: withCtx((_9, _push10, _parent10, _scopeId9) => {
                                                          if (_push10) {
                                                            _push10(`${ssrInterpolate(t("Clear"))}`);
                                                          } else {
                                                            return [
                                                              createTextVNode(toDisplayString(t("Clear")), 1)
                                                            ];
                                                          }
                                                        }),
                                                        _: 1
                                                      }, _parent9, _scopeId8));
                                                    } else {
                                                      return [
                                                        createVNode(_component_a_button, {
                                                          size: "small",
                                                          onClick: _ctx.submitQA,
                                                          disabled: !qaDraft.value.trim()
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Post")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick", "disabled"]),
                                                        createVNode(_component_a_button, {
                                                          size: "small",
                                                          onClick: ($event) => qaDraft.value = ""
                                                        }, {
                                                          default: withCtx(() => [
                                                            createTextVNode(toDisplayString(t("Clear")), 1)
                                                          ]),
                                                          _: 1
                                                        }, 8, ["onClick"])
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  (openBlock(true), createBlock(Fragment, null, renderList(_ctx.qaForCurrent, (c) => {
                                                    return openBlock(), createBlock(_component_a_comment, {
                                                      key: c.id,
                                                      author: c.author,
                                                      content: c.text,
                                                      datetime: c.when
                                                    }, {
                                                      avatar: withCtx(() => [
                                                        createVNode(_component_a_avatar, {
                                                          src: c.avatar
                                                        }, null, 8, ["src"])
                                                      ]),
                                                      _: 2
                                                    }, 1032, ["author", "content", "datetime"]);
                                                  }), 128)),
                                                  createVNode(_component_a_divider),
                                                  createVNode(_component_a_input_textarea, {
                                                    value: qaDraft.value,
                                                    "onUpdate:value": ($event) => qaDraft.value = $event,
                                                    rows: 3,
                                                    placeholder: t("Ask a question"),
                                                    "data-test-id": "qa-input"
                                                  }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                                                  createVNode(_component_a_space, { class: "mt-1" }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_button, {
                                                        size: "small",
                                                        onClick: _ctx.submitQA,
                                                        disabled: !qaDraft.value.trim()
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Post")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick", "disabled"]),
                                                      createVNode(_component_a_button, {
                                                        size: "small",
                                                        onClick: ($event) => qaDraft.value = ""
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(t("Clear")), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["onClick"])
                                                    ]),
                                                    _: 1
                                                  })
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Students")
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_breadcrumb_item, null, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Modules")
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_card, {
                                              size: "small",
                                              title: t("Questions & Answers"),
                                              class: "mt-2"
                                            }, {
                                              default: withCtx(() => [
                                                (openBlock(true), createBlock(Fragment, null, renderList(_ctx.qaForCurrent, (c) => {
                                                  return openBlock(), createBlock(_component_a_comment, {
                                                    key: c.id,
                                                    author: c.author,
                                                    content: c.text,
                                                    datetime: c.when
                                                  }, {
                                                    avatar: withCtx(() => [
                                                      createVNode(_component_a_avatar, {
                                                        src: c.avatar
                                                      }, null, 8, ["src"])
                                                    ]),
                                                    _: 2
                                                  }, 1032, ["author", "content", "datetime"]);
                                                }), 128)),
                                                createVNode(_component_a_divider),
                                                createVNode(_component_a_input_textarea, {
                                                  value: qaDraft.value,
                                                  "onUpdate:value": ($event) => qaDraft.value = $event,
                                                  rows: 3,
                                                  placeholder: t("Ask a question"),
                                                  "data-test-id": "qa-input"
                                                }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                                                createVNode(_component_a_space, { class: "mt-1" }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_button, {
                                                      size: "small",
                                                      onClick: _ctx.submitQA,
                                                      disabled: !qaDraft.value.trim()
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Post")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick", "disabled"]),
                                                    createVNode(_component_a_button, {
                                                      size: "small",
                                                      onClick: ($event) => qaDraft.value = ""
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("Clear")), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["onClick"])
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }, 8, ["title"])
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                    _push6(ssrRenderComponent(_component_a_tab_pane, {
                                      key: "bookmarks",
                                      tab: t("Bookmarks")
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Students`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Students")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                                _push8(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`Modules`);
                                                    } else {
                                                      return [
                                                        createTextVNode("Modules")
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Students")
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_breadcrumb_item, null, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Modules")
                                                    ]),
                                                    _: 1
                                                  })
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_card, {
                                            size: "small",
                                            title: t("Bookmarks"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                if (!bookmarks.length) {
                                                  _push8(ssrRenderComponent(_component_a_empty, {
                                                    description: t("No bookmarks yet")
                                                  }, null, _parent8, _scopeId7));
                                                } else {
                                                  _push8(ssrRenderComponent(_component_a_list, {
                                                    "data-source": bookmarks,
                                                    size: "small"
                                                  }, {
                                                    renderItem: withCtx(({ item, index }, _push9, _parent9, _scopeId8) => {
                                                      if (_push9) {
                                                        _push9(ssrRenderComponent(_component_a_list_item, {
                                                          actions: [
                                                            h("a", { onClick: () => _ctx.jumpToBookmark(item) }, t("Go")),
                                                            h("a", { onClick: () => _ctx.removeBookmark(index) }, t("Remove"))
                                                          ]
                                                        }, {
                                                          default: withCtx((_8, _push10, _parent10, _scopeId9) => {
                                                            if (_push10) {
                                                              _push10(ssrRenderComponent(_component_a_list_item_meta, {
                                                                title: item.title,
                                                                description: item.description
                                                              }, null, _parent10, _scopeId9));
                                                            } else {
                                                              return [
                                                                createVNode(_component_a_list_item_meta, {
                                                                  title: item.title,
                                                                  description: item.description
                                                                }, null, 8, ["title", "description"])
                                                              ];
                                                            }
                                                          }),
                                                          _: 2
                                                        }, _parent9, _scopeId8));
                                                      } else {
                                                        return [
                                                          createVNode(_component_a_list_item, {
                                                            actions: [
                                                              h("a", { onClick: () => _ctx.jumpToBookmark(item) }, t("Go")),
                                                              h("a", { onClick: () => _ctx.removeBookmark(index) }, t("Remove"))
                                                            ]
                                                          }, {
                                                            default: withCtx(() => [
                                                              createVNode(_component_a_list_item_meta, {
                                                                title: item.title,
                                                                description: item.description
                                                              }, null, 8, ["title", "description"])
                                                            ]),
                                                            _: 2
                                                          }, 1032, ["actions"])
                                                        ];
                                                      }
                                                    }),
                                                    _: 1
                                                  }, _parent8, _scopeId7));
                                                }
                                              } else {
                                                return [
                                                  !bookmarks.length ? (openBlock(), createBlock(_component_a_empty, {
                                                    key: 0,
                                                    description: t("No bookmarks yet")
                                                  }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                    key: 1,
                                                    "data-source": bookmarks,
                                                    size: "small"
                                                  }, {
                                                    renderItem: withCtx(({ item, index }) => [
                                                      createVNode(_component_a_list_item, {
                                                        actions: [
                                                          h("a", { onClick: () => _ctx.jumpToBookmark(item) }, t("Go")),
                                                          h("a", { onClick: () => _ctx.removeBookmark(index) }, t("Remove"))
                                                        ]
                                                      }, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_list_item_meta, {
                                                            title: item.title,
                                                            description: item.description
                                                          }, null, 8, ["title", "description"])
                                                        ]),
                                                        _: 2
                                                      }, 1032, ["actions"])
                                                    ]),
                                                    _: 1
                                                  }, 8, ["data-source"]))
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Students")
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_breadcrumb_item, null, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Modules")
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_card, {
                                              size: "small",
                                              title: t("Bookmarks"),
                                              class: "mt-2"
                                            }, {
                                              default: withCtx(() => [
                                                !bookmarks.length ? (openBlock(), createBlock(_component_a_empty, {
                                                  key: 0,
                                                  description: t("No bookmarks yet")
                                                }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                  key: 1,
                                                  "data-source": bookmarks,
                                                  size: "small"
                                                }, {
                                                  renderItem: withCtx(({ item, index }) => [
                                                    createVNode(_component_a_list_item, {
                                                      actions: [
                                                        h("a", { onClick: () => _ctx.jumpToBookmark(item) }, t("Go")),
                                                        h("a", { onClick: () => _ctx.removeBookmark(index) }, t("Remove"))
                                                      ]
                                                    }, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_list_item_meta, {
                                                          title: item.title,
                                                          description: item.description
                                                        }, null, 8, ["title", "description"])
                                                      ]),
                                                      _: 2
                                                    }, 1032, ["actions"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["data-source"]))
                                              ]),
                                              _: 1
                                            }, 8, ["title"])
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_tab_pane, {
                                        key: "progress",
                                        tab: t("Progress"),
                                        "data-test-id": "tab-progress"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_card, {
                                            size: "small",
                                            title: t("Progress"),
                                            bordered: false,
                                            "body-style": "padding:0;"
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_steps, {
                                                size: "small",
                                                direction: "vertical",
                                                current: currentIndex.value
                                              }, {
                                                default: withCtx(() => [
                                                  (openBlock(true), createBlock(Fragment, null, renderList(lessons.value, (l, i) => {
                                                    return openBlock(), createBlock(_component_a_step, {
                                                      key: l.id,
                                                      title: l.title || `${t("Lesson")} ${i + 1}`,
                                                      description: l.duration ? `${l.duration} ${t("min")}` : "",
                                                      status: isCompleted(l.id) ? "finish" : i === currentIndex.value ? "process" : "wait"
                                                    }, null, 8, ["title", "description", "status"]);
                                                  }), 128))
                                                ]),
                                                _: 1
                                              }, 8, ["current"])
                                            ]),
                                            _: 1
                                          }, 8, ["title"])
                                        ]),
                                        _: 1
                                      }, 8, ["tab"]),
                                      createVNode(_component_a_tab_pane, {
                                        key: "resources",
                                        tab: t("Resources")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                            key: 0,
                                            size: "small",
                                            title: t("Resources"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx(() => [
                                              isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                                key: 0,
                                                class: "mb-1"
                                              }, [
                                                createVNode(_component_a_button, {
                                                  size: "small",
                                                  type: "primary",
                                                  onClick: ($event) => addLessonShare("resource"),
                                                  loading: shareUploading.resource
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Add resource")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "loading"])
                                              ])) : createCommentVNode("", true),
                                              !combinedResources.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                                key: 1,
                                                description: t("No resources")
                                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                key: 2,
                                                size: "small",
                                                "data-source": combinedResources.value
                                              }, {
                                                renderItem: withCtx(({ item }) => [
                                                  createVNode(_component_a_list_item, null, {
                                                    default: withCtx(() => [
                                                      createVNode("a", {
                                                        href: item.url,
                                                        target: "_blank"
                                                      }, toDisplayString(item.title || item.name || t("Resource")), 9, ["href"])
                                                    ]),
                                                    _: 2
                                                  }, 1024)
                                                ]),
                                                _: 1
                                              }, 8, ["data-source"]))
                                            ]),
                                            _: 1
                                          }, 8, ["title"])) : createCommentVNode("", true),
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                            key: 1,
                                            size: "small",
                                            class: "mt-2",
                                            title: t("Attachments")
                                          }, {
                                            default: withCtx(() => [
                                              isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                                key: 0,
                                                class: "mb-1"
                                              }, [
                                                createVNode(_component_a_button, {
                                                  size: "small",
                                                  type: "primary",
                                                  onClick: ($event) => addLessonShare("attachment"),
                                                  loading: shareUploading.attachment
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Add attachment")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "loading"])
                                              ])) : createCommentVNode("", true),
                                              !combinedAttachments.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                                key: 1,
                                                description: t("No attachments")
                                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                key: 2,
                                                size: "small",
                                                "data-source": combinedAttachments.value
                                              }, {
                                                renderItem: withCtx(({ item }) => [
                                                  createVNode(_component_a_list_item, null, {
                                                    default: withCtx(() => [
                                                      createVNode("a", {
                                                        href: item.url,
                                                        target: "_blank"
                                                      }, toDisplayString(item.name || t("Attachment")), 9, ["href"])
                                                    ]),
                                                    _: 2
                                                  }, 1024)
                                                ]),
                                                _: 1
                                              }, 8, ["data-source"]))
                                            ]),
                                            _: 1
                                          }, 8, ["title"])) : createCommentVNode("", true)
                                        ]),
                                        _: 1
                                      }, 8, ["tab"]),
                                      createVNode(_component_a_tab_pane, {
                                        key: "notes",
                                        tab: t("Notes")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_card, {
                                            size: "small",
                                            title: t("Your notes"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_form, {
                                                layout: "vertical",
                                                onFinish: withModifiers(() => {
                                                }, ["prevent"])
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_form_item, {
                                                    label: t("Lesson notes")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_textarea, {
                                                        value: notes[currentLesson.value?.id || "global"].text,
                                                        "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                        rows: 6,
                                                        onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                        "data-test-id": "notes-right"
                                                      }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"]),
                                                  createVNode(_component_a_form_item, {
                                                    label: t("Highlights")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_input_search, {
                                                        value: newHighlight.value,
                                                        "onUpdate:value": ($event) => newHighlight.value = $event,
                                                        placeholder: t("Type highlight and press +"),
                                                        "enter-button": "+",
                                                        onSearch: _ctx.addHighlight
                                                      }, null, 8, ["value", "onUpdate:value", "placeholder", "onSearch"]),
                                                      !notes[currentLesson.value?.id || "global"].highlights.length ? (openBlock(), createBlock(_component_a_empty, {
                                                        key: 0,
                                                        description: t("No highlights"),
                                                        class: "mt-1"
                                                      }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                        key: 1,
                                                        "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                        size: "small",
                                                        class: "mt-1"
                                                      }, {
                                                        renderItem: withCtx(({ item, index }) => [
                                                          createVNode(_component_a_list_item, null, {
                                                            default: withCtx(() => [
                                                              createVNode(_component_a_space, null, {
                                                                default: withCtx(() => [
                                                                  createVNode("span", null, toDisplayString(item), 1),
                                                                  createVNode(_component_a_button, {
                                                                    size: "small",
                                                                    onClick: ($event) => _ctx.removeHighlight(index)
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createTextVNode(toDisplayString(t("Remove")), 1)
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["onClick"])
                                                                ]),
                                                                _: 2
                                                              }, 1024)
                                                            ]),
                                                            _: 2
                                                          }, 1024)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["data-source"]))
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"])
                                                ]),
                                                _: 1
                                              }, 8, ["onFinish"])
                                            ]),
                                            _: 1
                                          }, 8, ["title"])
                                        ]),
                                        _: 1
                                      }, 8, ["tab"]),
                                      createVNode(_component_a_tab_pane, {
                                        key: "qa",
                                        tab: t("Q&A")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_card, {
                                            size: "small",
                                            title: t("Questions & Answers"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx(() => [
                                              (openBlock(true), createBlock(Fragment, null, renderList(_ctx.qaForCurrent, (c) => {
                                                return openBlock(), createBlock(_component_a_comment, {
                                                  key: c.id,
                                                  author: c.author,
                                                  content: c.text,
                                                  datetime: c.when
                                                }, {
                                                  avatar: withCtx(() => [
                                                    createVNode(_component_a_avatar, {
                                                      src: c.avatar
                                                    }, null, 8, ["src"])
                                                  ]),
                                                  _: 2
                                                }, 1032, ["author", "content", "datetime"]);
                                              }), 128)),
                                              createVNode(_component_a_divider),
                                              createVNode(_component_a_input_textarea, {
                                                value: qaDraft.value,
                                                "onUpdate:value": ($event) => qaDraft.value = $event,
                                                rows: 3,
                                                placeholder: t("Ask a question"),
                                                "data-test-id": "qa-input"
                                              }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                                              createVNode(_component_a_space, { class: "mt-1" }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_button, {
                                                    size: "small",
                                                    onClick: _ctx.submitQA,
                                                    disabled: !qaDraft.value.trim()
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Post")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick", "disabled"]),
                                                  createVNode(_component_a_button, {
                                                    size: "small",
                                                    onClick: ($event) => qaDraft.value = ""
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Clear")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick"])
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }, 8, ["title"])
                                        ]),
                                        _: 1
                                      }, 8, ["tab"]),
                                      createVNode(_component_a_tab_pane, {
                                        key: "bookmarks",
                                        tab: t("Bookmarks")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_card, {
                                            size: "small",
                                            title: t("Bookmarks"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx(() => [
                                              !bookmarks.length ? (openBlock(), createBlock(_component_a_empty, {
                                                key: 0,
                                                description: t("No bookmarks yet")
                                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                key: 1,
                                                "data-source": bookmarks,
                                                size: "small"
                                              }, {
                                                renderItem: withCtx(({ item, index }) => [
                                                  createVNode(_component_a_list_item, {
                                                    actions: [
                                                      h("a", { onClick: () => _ctx.jumpToBookmark(item) }, t("Go")),
                                                      h("a", { onClick: () => _ctx.removeBookmark(index) }, t("Remove"))
                                                    ]
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_list_item_meta, {
                                                        title: item.title,
                                                        description: item.description
                                                      }, null, 8, ["title", "description"])
                                                    ]),
                                                    _: 2
                                                  }, 1032, ["actions"])
                                                ]),
                                                _: 1
                                              }, 8, ["data-source"]))
                                            ]),
                                            _: 1
                                          }, 8, ["title"])
                                        ]),
                                        _: 1
                                      }, 8, ["tab"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(`</div>`);
                            } else {
                              return [
                                createVNode("div", { class: "right-inner" }, [
                                  createVNode(_component_a_tabs, {
                                    activeKey: rightTab.value,
                                    "onUpdate:activeKey": ($event) => rightTab.value = $event,
                                    size: "small",
                                    animated: false
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_tab_pane, {
                                        key: "progress",
                                        tab: t("Progress"),
                                        "data-test-id": "tab-progress"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_card, {
                                            size: "small",
                                            title: t("Progress"),
                                            bordered: false,
                                            "body-style": "padding:0;"
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_steps, {
                                                size: "small",
                                                direction: "vertical",
                                                current: currentIndex.value
                                              }, {
                                                default: withCtx(() => [
                                                  (openBlock(true), createBlock(Fragment, null, renderList(lessons.value, (l, i) => {
                                                    return openBlock(), createBlock(_component_a_step, {
                                                      key: l.id,
                                                      title: l.title || `${t("Lesson")} ${i + 1}`,
                                                      description: l.duration ? `${l.duration} ${t("min")}` : "",
                                                      status: isCompleted(l.id) ? "finish" : i === currentIndex.value ? "process" : "wait"
                                                    }, null, 8, ["title", "description", "status"]);
                                                  }), 128))
                                                ]),
                                                _: 1
                                              }, 8, ["current"])
                                            ]),
                                            _: 1
                                          }, 8, ["title"])
                                        ]),
                                        _: 1
                                      }, 8, ["tab"]),
                                      createVNode(_component_a_tab_pane, {
                                        key: "resources",
                                        tab: t("Resources")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                            key: 0,
                                            size: "small",
                                            title: t("Resources"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx(() => [
                                              isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                                key: 0,
                                                class: "mb-1"
                                              }, [
                                                createVNode(_component_a_button, {
                                                  size: "small",
                                                  type: "primary",
                                                  onClick: ($event) => addLessonShare("resource"),
                                                  loading: shareUploading.resource
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Add resource")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "loading"])
                                              ])) : createCommentVNode("", true),
                                              !combinedResources.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                                key: 1,
                                                description: t("No resources")
                                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                key: 2,
                                                size: "small",
                                                "data-source": combinedResources.value
                                              }, {
                                                renderItem: withCtx(({ item }) => [
                                                  createVNode(_component_a_list_item, null, {
                                                    default: withCtx(() => [
                                                      createVNode("a", {
                                                        href: item.url,
                                                        target: "_blank"
                                                      }, toDisplayString(item.title || item.name || t("Resource")), 9, ["href"])
                                                    ]),
                                                    _: 2
                                                  }, 1024)
                                                ]),
                                                _: 1
                                              }, 8, ["data-source"]))
                                            ]),
                                            _: 1
                                          }, 8, ["title"])) : createCommentVNode("", true),
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                            key: 1,
                                            size: "small",
                                            class: "mt-2",
                                            title: t("Attachments")
                                          }, {
                                            default: withCtx(() => [
                                              isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                                key: 0,
                                                class: "mb-1"
                                              }, [
                                                createVNode(_component_a_button, {
                                                  size: "small",
                                                  type: "primary",
                                                  onClick: ($event) => addLessonShare("attachment"),
                                                  loading: shareUploading.attachment
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Add attachment")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "loading"])
                                              ])) : createCommentVNode("", true),
                                              !combinedAttachments.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                                key: 1,
                                                description: t("No attachments")
                                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                key: 2,
                                                size: "small",
                                                "data-source": combinedAttachments.value
                                              }, {
                                                renderItem: withCtx(({ item }) => [
                                                  createVNode(_component_a_list_item, null, {
                                                    default: withCtx(() => [
                                                      createVNode("a", {
                                                        href: item.url,
                                                        target: "_blank"
                                                      }, toDisplayString(item.name || t("Attachment")), 9, ["href"])
                                                    ]),
                                                    _: 2
                                                  }, 1024)
                                                ]),
                                                _: 1
                                              }, 8, ["data-source"]))
                                            ]),
                                            _: 1
                                          }, 8, ["title"])) : createCommentVNode("", true)
                                        ]),
                                        _: 1
                                      }, 8, ["tab"]),
                                      createVNode(_component_a_tab_pane, {
                                        key: "notes",
                                        tab: t("Notes")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_card, {
                                            size: "small",
                                            title: t("Your notes"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_form, {
                                                layout: "vertical",
                                                onFinish: withModifiers(() => {
                                                }, ["prevent"])
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_form_item, {
                                                    label: t("Lesson notes")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_textarea, {
                                                        value: notes[currentLesson.value?.id || "global"].text,
                                                        "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                        rows: 6,
                                                        onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                        "data-test-id": "notes-right"
                                                      }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"]),
                                                  createVNode(_component_a_form_item, {
                                                    label: t("Highlights")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_input_search, {
                                                        value: newHighlight.value,
                                                        "onUpdate:value": ($event) => newHighlight.value = $event,
                                                        placeholder: t("Type highlight and press +"),
                                                        "enter-button": "+",
                                                        onSearch: _ctx.addHighlight
                                                      }, null, 8, ["value", "onUpdate:value", "placeholder", "onSearch"]),
                                                      !notes[currentLesson.value?.id || "global"].highlights.length ? (openBlock(), createBlock(_component_a_empty, {
                                                        key: 0,
                                                        description: t("No highlights"),
                                                        class: "mt-1"
                                                      }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                        key: 1,
                                                        "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                        size: "small",
                                                        class: "mt-1"
                                                      }, {
                                                        renderItem: withCtx(({ item, index }) => [
                                                          createVNode(_component_a_list_item, null, {
                                                            default: withCtx(() => [
                                                              createVNode(_component_a_space, null, {
                                                                default: withCtx(() => [
                                                                  createVNode("span", null, toDisplayString(item), 1),
                                                                  createVNode(_component_a_button, {
                                                                    size: "small",
                                                                    onClick: ($event) => _ctx.removeHighlight(index)
                                                                  }, {
                                                                    default: withCtx(() => [
                                                                      createTextVNode(toDisplayString(t("Remove")), 1)
                                                                    ]),
                                                                    _: 1
                                                                  }, 8, ["onClick"])
                                                                ]),
                                                                _: 2
                                                              }, 1024)
                                                            ]),
                                                            _: 2
                                                          }, 1024)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["data-source"]))
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"])
                                                ]),
                                                _: 1
                                              }, 8, ["onFinish"])
                                            ]),
                                            _: 1
                                          }, 8, ["title"])
                                        ]),
                                        _: 1
                                      }, 8, ["tab"]),
                                      createVNode(_component_a_tab_pane, {
                                        key: "qa",
                                        tab: t("Q&A")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_card, {
                                            size: "small",
                                            title: t("Questions & Answers"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx(() => [
                                              (openBlock(true), createBlock(Fragment, null, renderList(_ctx.qaForCurrent, (c) => {
                                                return openBlock(), createBlock(_component_a_comment, {
                                                  key: c.id,
                                                  author: c.author,
                                                  content: c.text,
                                                  datetime: c.when
                                                }, {
                                                  avatar: withCtx(() => [
                                                    createVNode(_component_a_avatar, {
                                                      src: c.avatar
                                                    }, null, 8, ["src"])
                                                  ]),
                                                  _: 2
                                                }, 1032, ["author", "content", "datetime"]);
                                              }), 128)),
                                              createVNode(_component_a_divider),
                                              createVNode(_component_a_input_textarea, {
                                                value: qaDraft.value,
                                                "onUpdate:value": ($event) => qaDraft.value = $event,
                                                rows: 3,
                                                placeholder: t("Ask a question"),
                                                "data-test-id": "qa-input"
                                              }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                                              createVNode(_component_a_space, { class: "mt-1" }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_button, {
                                                    size: "small",
                                                    onClick: _ctx.submitQA,
                                                    disabled: !qaDraft.value.trim()
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Post")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick", "disabled"]),
                                                  createVNode(_component_a_button, {
                                                    size: "small",
                                                    onClick: ($event) => qaDraft.value = ""
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Clear")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick"])
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }, 8, ["title"])
                                        ]),
                                        _: 1
                                      }, 8, ["tab"]),
                                      createVNode(_component_a_tab_pane, {
                                        key: "bookmarks",
                                        tab: t("Bookmarks")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_card, {
                                            size: "small",
                                            title: t("Bookmarks"),
                                            class: "mt-2"
                                          }, {
                                            default: withCtx(() => [
                                              !bookmarks.length ? (openBlock(), createBlock(_component_a_empty, {
                                                key: 0,
                                                description: t("No bookmarks yet")
                                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                key: 1,
                                                "data-source": bookmarks,
                                                size: "small"
                                              }, {
                                                renderItem: withCtx(({ item, index }) => [
                                                  createVNode(_component_a_list_item, {
                                                    actions: [
                                                      h("a", { onClick: () => _ctx.jumpToBookmark(item) }, t("Go")),
                                                      h("a", { onClick: () => _ctx.removeBookmark(index) }, t("Remove"))
                                                    ]
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_list_item_meta, {
                                                        title: item.title,
                                                        description: item.description
                                                      }, null, 8, ["title", "description"])
                                                    ]),
                                                    _: 2
                                                  }, 1032, ["actions"])
                                                ]),
                                                _: 1
                                              }, 8, ["data-source"]))
                                            ]),
                                            _: 1
                                          }, 8, ["title"])
                                        ]),
                                        _: 1
                                      }, 8, ["tab"])
                                    ]),
                                    _: 1
                                  }, 8, ["activeKey", "onUpdate:activeKey"])
                                ])
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                      } else {
                        return [
                          createVNode(_component_a_layout_sider, {
                            width: "320",
                            class: "left-sider",
                            collapsible: "",
                            collapsed: siderCollapsed.value,
                            "onUpdate:collapsed": ($event) => siderCollapsed.value = $event,
                            "collapsed-width": 60,
                            "data-test-id": "left-sider"
                          }, {
                            default: withCtx(() => [
                              createVNode("div", { class: "sider-inner" }, [
                                createVNode("div", {
                                  class: "cover",
                                  style: coverStyle.value,
                                  "data-test-id": "cover"
                                }, [
                                  createVNode("div", { class: "cover-gradient" }),
                                  !siderCollapsed.value ? (openBlock(), createBlock("div", {
                                    key: 0,
                                    class: "cover-meta"
                                  }, [
                                    createVNode("div", { class: "cover-title" }, toDisplayString(course.title || t("Course")), 1),
                                    createVNode("div", { class: "cover-tags" }, [
                                      course.category ? (openBlock(), createBlock(_component_a_tag, {
                                        key: 0,
                                        color: "blue"
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(course.category), 1)
                                        ]),
                                        _: 1
                                      })) : createCommentVNode("", true),
                                      course.difficulty ? (openBlock(), createBlock(_component_a_tag, {
                                        key: 1,
                                        color: "gold"
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(course.difficulty), 1)
                                        ]),
                                        _: 1
                                      })) : createCommentVNode("", true)
                                    ])
                                  ])) : createCommentVNode("", true)
                                ], 4),
                                hasModules.value ? (openBlock(), createBlock(_component_a_select, {
                                  key: 0,
                                  class: "mt-2",
                                  size: "small",
                                  value: selectedModuleId.value,
                                  disabled: loadingModule.value,
                                  style: { "width": "100%" },
                                  onChange: switchModule,
                                  "data-test-id": "module-switcher-mini"
                                }, {
                                  default: withCtx(() => [
                                    (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                      return openBlock(), createBlock(_component_a_select_option, {
                                        key: m.id,
                                        value: m.id
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(m.title), 1)
                                        ]),
                                        _: 2
                                      }, 1032, ["value"]);
                                    }), 128))
                                  ]),
                                  _: 1
                                }, 8, ["value", "disabled"])) : createCommentVNode("", true),
                                createVNode(_component_a_input_search, {
                                  value: filter.value,
                                  "onUpdate:value": ($event) => filter.value = $event,
                                  placeholder: t("Search lessons"),
                                  "allow-clear": "",
                                  class: "mt-2",
                                  "data-test-id": "lesson-search"
                                }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                                !siderCollapsed.value ? (openBlock(), createBlock("div", {
                                  key: 1,
                                  class: "mt-2"
                                }, [
                                  createVNode(_component_a_space, { wrap: "" }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_segmented, {
                                        value: filterType.value,
                                        "onUpdate:value": ($event) => filterType.value = $event,
                                        options: [
                                          { label: t("All"), value: "all" },
                                          { label: t("Video"), value: "video" },
                                          { label: t("Reading"), value: "reading" },
                                          { label: t("Quiz"), value: "quiz" },
                                          { label: t("Assign."), value: "assignment" },
                                          { label: t("Lab"), value: "lab" }
                                        ],
                                        "data-test-id": "type-filter"
                                      }, null, 8, ["value", "onUpdate:value", "options"]),
                                      createVNode(_component_a_checkbox, {
                                        checked: hideCompleted.value,
                                        "onUpdate:checked": ($event) => hideCompleted.value = $event,
                                        "data-test-id": "hide-completed"
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Hide completed")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["checked", "onUpdate:checked"]),
                                      createVNode(_component_a_dropdown, { trigger: "click" }, {
                                        overlay: withCtx(() => [
                                          createVNode(_component_a_menu, {
                                            selectedKeys: sortKeyArr.value,
                                            "onUpdate:selectedKeys": ($event) => sortKeyArr.value = $event,
                                            onClick: onSortChange
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_menu_item, { key: "title" }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Title")), 1)
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_menu_item, { key: "duration" }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Duration")), 1)
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_menu_item, { key: "type" }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Type")), 1)
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }, 8, ["selectedKeys", "onUpdate:selectedKeys"])
                                        ]),
                                        default: withCtx(() => [
                                          createVNode(_component_a_button, { size: "small" }, {
                                            default: withCtx(() => [
                                              createVNode(unref(SortAscendingOutlined)),
                                              createVNode("span", { class: "ml-1" }, toDisplayString(t("Sort")), 1)
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  })
                                ])) : createCommentVNode("", true),
                                !currentModuleReady.value ? (openBlock(), createBlock(_component_a_empty, {
                                  key: 2,
                                  description: t("Pick a module to see its lessons"),
                                  class: "mt-2"
                                }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                  key: 3,
                                  class: "mt-2",
                                  size: "small",
                                  "data-source": filteredLessons.value,
                                  "row-key": (l) => l.id,
                                  "data-test-id": "lesson-list"
                                }, {
                                  renderItem: withCtx(({ item: l, index: i }) => [
                                    createVNode(_component_a_list_item, {
                                      class: ["lesson-row", currentIndex.value === i && "active"],
                                      onClick: ($event) => select(i),
                                      "data-test-id": `lesson-row-${i}`
                                    }, {
                                      actions: withCtx(() => [
                                        isCompleted(l.id) ? (openBlock(), createBlock(_component_a_tag, {
                                          key: 0,
                                          color: "green"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Done")), 1)
                                          ]),
                                          _: 1
                                        })) : l.preview ? (openBlock(), createBlock(_component_a_tag, {
                                          key: 2,
                                          color: "cyan"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Preview")), 1)
                                          ]),
                                          _: 1
                                        })) : createCommentVNode("", true)
                                      ]),
                                      default: withCtx(() => [
                                        createVNode(_component_a_list_item_meta, {
                                          title: l.title || t("Untitled lesson"),
                                          description: (l.type || "—") + (l.duration ? ` · ${l.duration} ${t("min")}` : "")
                                        }, null, 8, ["title", "description"])
                                      ]),
                                      _: 2
                                    }, 1032, ["class", "onClick", "data-test-id"])
                                  ]),
                                  _: 1
                                }, 8, ["data-source", "row-key"]))
                              ])
                            ]),
                            _: 1
                          }, 8, ["collapsed", "onUpdate:collapsed"]),
                          createVNode(_component_a_layout_content, {
                            class: "content",
                            style: { fontSize: `${fontScale.value}px` },
                            "data-test-id": "content"
                          }, {
                            default: withCtx(() => [
                              !currentModuleReady.value ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                      default: withCtx(() => [
                                        createTextVNode("Students")
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_breadcrumb_item, null, {
                                      default: withCtx(() => [
                                        createTextVNode("Modules")
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_card, {
                                  loading: loadingCourse.value,
                                  title: t("Course overview"),
                                  "data-test-id": "overview-card"
                                }, {
                                  default: withCtx(() => [
                                    createVNode("p", { class: "muted" }, toDisplayString(t("Browse modules and jump in — everything runs in this page.")), 1),
                                    !hasModules.value && !loadingCourse.value ? (openBlock(), createBlock(_component_a_empty, {
                                      key: 0,
                                      description: t("No modules yet")
                                    }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_row, {
                                      key: 1,
                                      gutter: 16
                                    }, {
                                      default: withCtx(() => [
                                        (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                          return openBlock(), createBlock(_component_a_col, {
                                            key: m.id,
                                            xs: 24,
                                            sm: 12,
                                            md: 8
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Students")
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_breadcrumb_item, null, {
                                                    default: withCtx(() => [
                                                      createTextVNode("Modules")
                                                    ]),
                                                    _: 1
                                                  })
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_card, {
                                                hoverable: "",
                                                class: "mt-2",
                                                onClick: ($event) => switchModule(m.id),
                                                "data-test-id": "module-card"
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode("b", null, toDisplayString(m.title), 1),
                                                  createVNode("div", { class: "muted" }, [
                                                    createTextVNode(toDisplayString(m.lessonCount ?? 0) + " " + toDisplayString(t("lessons")) + " ", 1),
                                                    m.minutes ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                      createTextVNode(" · ~" + toDisplayString(m.minutes) + " " + toDisplayString(t("min")), 1)
                                                    ], 64)) : createCommentVNode("", true)
                                                  ])
                                                ]),
                                                _: 2
                                              }, 1032, ["onClick"])
                                            ]),
                                            _: 2
                                          }, 1024);
                                        }), 128))
                                      ]),
                                      _: 1
                                    })),
                                    createVNode(_component_a_divider),
                                    !isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                      key: 2,
                                      class: "enroll-cta"
                                    }, [
                                      createVNode(_component_a_result, {
                                        status: "info",
                                        title: t("Enroll to unlock full access"),
                                        "sub-title": t("You can still watch previews and read public materials.")
                                      }, {
                                        extra: withCtx(() => [
                                          createVNode(_component_a_space, null, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_button, {
                                                type: "primary",
                                                onClick: _ctx.mockEnroll
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Enroll now")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"]),
                                              createVNode(_component_a_button, {
                                                onClick: ($event) => openPricing.value = true
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("See pricing")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"])
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }, 8, ["title", "sub-title"])
                                    ])) : createCommentVNode("", true)
                                  ]),
                                  _: 1
                                }, 8, ["loading", "title"])
                              ], 64)) : (openBlock(), createBlock(_component_a_spin, {
                                key: 1,
                                spinning: loadingModule.value
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                        default: withCtx(() => [
                                          createTextVNode("Students")
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_breadcrumb_item, null, {
                                        default: withCtx(() => [
                                          createTextVNode("Modules")
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  }),
                                  currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                    key: 0,
                                    title: currentLesson.value.title || t("Lesson"),
                                    "data-test-id": "lesson-card"
                                  }, {
                                    extra: withCtx(() => [
                                      createVNode(_component_a_space, null, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_tag, null, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString((currentLesson.value.type || "").toUpperCase()), 1)
                                            ]),
                                            _: 1
                                          }),
                                          currentLesson.value.preview ? (openBlock(), createBlock(_component_a_tag, {
                                            key: 0,
                                            color: "cyan"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Preview")), 1)
                                            ]),
                                            _: 1
                                          })) : createCommentVNode("", true),
                                          createVNode("span", { class: "muted" }, [
                                            createVNode(unref(FieldTimeOutlined)),
                                            createTextVNode(" " + toDisplayString(currentLesson.value.duration || 0) + " " + toDisplayString(t("min")), 1)
                                          ]),
                                          createVNode(_component_a_tooltip, {
                                            title: t("Bookmark current lesson")
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_button, {
                                                size: "small",
                                                onClick: _ctx.bookmarkCurrent,
                                                "data-test-id": "bookmark-btn"
                                              }, {
                                                icon: withCtx(() => [
                                                  createVNode(unref(BookOutlined))
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"])
                                            ]),
                                            _: 1
                                          }, 8, ["title"]),
                                          createVNode(_component_a_tooltip, {
                                            title: t("Print lesson")
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_button, {
                                                size: "small",
                                                onClick: _ctx.printLesson
                                              }, {
                                                icon: withCtx(() => [
                                                  createVNode(unref(PrinterOutlined))
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"])
                                            ]),
                                            _: 1
                                          }, 8, ["title"])
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    default: withCtx(() => [
                                      isLocked(currentLesson.value) ? (openBlock(), createBlock(_component_a_result, {
                                        key: 0,
                                        status: "warning",
                                        title: t("This lesson is locked"),
                                        "data-test-id": "locked-result"
                                      }, {
                                        subTitle: withCtx(() => [
                                          createVNode("div", { class: "muted" }, [
                                            currentLesson.value.prerequisites?.length ? (openBlock(), createBlock("div", { key: 0 }, [
                                              createTextVNode(toDisplayString(t("Complete prerequisite lesson(s):")) + " ", 1),
                                              createVNode("ul", { class: "mt-1" }, [
                                                (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.prerequisites, (pid) => {
                                                  return openBlock(), createBlock("li", { key: pid }, [
                                                    createVNode("span", {
                                                      class: ["preq", isCompleted(pid) && "ok"]
                                                    }, [
                                                      createTextVNode(toDisplayString(labelForLesson(pid) || pid) + " ", 1),
                                                      isCompleted(pid) ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                        createTextVNode(" ✓")
                                                      ], 64)) : createCommentVNode("", true)
                                                    ], 2)
                                                  ]);
                                                }), 128))
                                              ])
                                            ])) : createCommentVNode("", true),
                                            unlockAtDate(currentLesson.value) ? (openBlock(), createBlock("div", { key: 1 }, toDisplayString(t("Unlocks at:")) + " " + toDisplayString(unlockAtDate(currentLesson.value)), 1)) : createCommentVNode("", true)
                                          ])
                                        ]),
                                        extra: withCtx(() => [
                                          createVNode(_component_a_space, null, {
                                            default: withCtx(() => [
                                              !isEnrolledCourse.value ? (openBlock(), createBlock(_component_a_button, {
                                                key: 0,
                                                type: "primary",
                                                onClick: _ctx.mockEnroll
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Enroll")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"])) : (openBlock(), createBlock(_component_a_button, {
                                                key: 1,
                                                onClick: _ctx.resumeLast
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Go to next available")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"]))
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }, 8, ["title"])) : (openBlock(), createBlock(Fragment, { key: 1 }, [
                                        currentLesson.value.type === "video" ? (openBlock(), createBlock("div", { key: 0 }, [
                                          createVNode("div", { class: "video-controls" }, [
                                            createVNode(_component_a_space, null, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_segmented, {
                                                  value: videoSpeed.value,
                                                  "onUpdate:value": ($event) => videoSpeed.value = $event,
                                                  options: [0.75, 1, 1.25, 1.5, 1.75, 2].map((v) => ({ label: `${v}x`, value: v })),
                                                  "data-test-id": "video-speed"
                                                }, null, 8, ["value", "onUpdate:value", "options"]),
                                                createVNode(_component_a_button, {
                                                  size: "small",
                                                  onClick: _ctx.bookmarkTimestamp,
                                                  "data-test-id": "bookmark-ts"
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(unref(ClockCircleOutlined)),
                                                    createTextVNode(" " + toDisplayString(t("Bookmark timestamp")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"])
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          ytEmbed(currentLesson.value.videoUrl) ? (openBlock(), createBlock("div", {
                                            key: 0,
                                            class: "video-wrap"
                                          }, [
                                            createVNode("iframe", {
                                              src: ytEmbed(currentLesson.value.videoUrl),
                                              frameborder: "0",
                                              allowfullscreen: "",
                                              "data-test-id": "yt-iframe"
                                            }, null, 8, ["src"])
                                          ])) : (openBlock(), createBlock("div", {
                                            key: 1,
                                            class: "video-fallback"
                                          }, [
                                            createVNode(_component_a_typography_paragraph, null, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Video URL:")) + " ", 1),
                                                createVNode("a", {
                                                  href: currentLesson.value.videoUrl,
                                                  target: "_blank"
                                                }, toDisplayString(currentLesson.value.videoUrl || "—"), 9, ["href"])
                                              ]),
                                              _: 1
                                            }),
                                            currentLesson.value.videoUrl ? (openBlock(), createBlock("video", {
                                              key: 0,
                                              ref_key: "html5Video",
                                              ref: html5Video,
                                              controls: "",
                                              onRatechange: _ctx.syncVideoSpeed,
                                              playbackRate: videoSpeed.value,
                                              style: { "width": "100%", "border-radius": "10px" },
                                              "data-test-id": "html5-video"
                                            }, [
                                              createVNode("source", {
                                                src: currentLesson.value.videoUrl,
                                                type: "video/mp4"
                                              }, null, 8, ["src"])
                                            ], 40, ["onRatechange", "playbackRate"])) : createCommentVNode("", true)
                                          ])),
                                          createVNode(_component_a_divider, null, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Notes")), 1)
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(currentLesson.value.content), 1)
                                            ]),
                                            _: 1
                                          })
                                        ])) : currentLesson.value.type === "reading" ? (openBlock(), createBlock("div", { key: 1 }, [
                                          createVNode(_component_a_collapse, {
                                            bordered: false,
                                            class: "reading-collapse"
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_collapse_panel, {
                                                key: "content",
                                                header: t("Lesson content")
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(currentLesson.value.content || t("No content")), 1)
                                                    ]),
                                                    _: 1
                                                  })
                                                ]),
                                                _: 1
                                              }, 8, ["header"]),
                                              createVNode(_component_a_collapse_panel, {
                                                key: "highlights",
                                                header: t("Highlights")
                                              }, {
                                                default: withCtx(() => [
                                                  !notes[currentLesson.value.id]?.highlights?.length ? (openBlock(), createBlock(_component_a_empty, {
                                                    key: 0,
                                                    description: t("No highlights")
                                                  }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                    key: 1,
                                                    "data-source": notes[currentLesson.value.id].highlights,
                                                    size: "small"
                                                  }, {
                                                    renderItem: withCtx(({ item }) => [
                                                      createVNode(_component_a_list_item, null, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(item), 1)
                                                        ]),
                                                        _: 2
                                                      }, 1024)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["data-source"]))
                                                ]),
                                                _: 1
                                              }, 8, ["header"])
                                            ]),
                                            _: 1
                                          })
                                        ])) : currentLesson.value.type === "assignment" ? (openBlock(), createBlock("div", { key: 2 }, [
                                          createVNode(_component_a_alert, {
                                            type: "info",
                                            "show-icon": "",
                                            message: t("Assignment brief"),
                                            class: "mb-1"
                                          }, null, 8, ["message"]),
                                          createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(currentLesson.value.content || t("No brief")), 1)
                                            ]),
                                            _: 1
                                          }),
                                          currentLesson.value.rubric ? (openBlock(), createBlock(_component_a_alert, {
                                            key: 0,
                                            type: "success",
                                            "show-icon": "",
                                            message: t("Rubric"),
                                            description: currentLesson.value.rubric
                                          }, null, 8, ["message", "description"])) : createCommentVNode("", true),
                                          createVNode(_component_a_divider),
                                          createVNode(_component_a_space, null, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_button, {
                                                type: "primary",
                                                onClick: _ctx.openSubmitDrawer,
                                                "data-test-id": "open-submit-drawer"
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Submit assignment")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"]),
                                              createVNode(_component_a_button, {
                                                onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                disabled: isCompleted(currentLesson.value.id)
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "disabled"])
                                            ]),
                                            _: 1
                                          })
                                        ])) : currentLesson.value.type === "quiz" ? (openBlock(), createBlock("div", { key: 3 }, [
                                          createVNode(_component_a_alert, {
                                            type: "info",
                                            "show-icon": "",
                                            message: t("Answer the questions and submit."),
                                            class: "mb-2"
                                          }, null, 8, ["message"]),
                                          (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.quiz?.questions || [], (q, qi) => {
                                            return openBlock(), createBlock("div", {
                                              key: q.id,
                                              class: "quiz-q"
                                            }, [
                                              createVNode("b", null, "Q" + toDisplayString(qi + 1), 1),
                                              createTextVNode(": " + toDisplayString(q.text || t("(empty)")) + " ", 1),
                                              q.type === "mcq" ? (openBlock(), createBlock("div", {
                                                key: 0,
                                                class: "mt-1"
                                              }, [
                                                createVNode(_component_a_checkbox_group, {
                                                  value: _ctx.quizState[q.id],
                                                  "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                  options: (q.options || []).map((o, oi) => ({ label: o.text || `${t("Option")} ${oi + 1}`, value: oi })),
                                                  "data-test-id": "quiz-mcq"
                                                }, null, 8, ["value", "onUpdate:value", "options"])
                                              ])) : q.type === "tf" ? (openBlock(), createBlock("div", {
                                                key: 1,
                                                class: "mt-1"
                                              }, [
                                                createVNode(_component_a_radio_group, {
                                                  value: _ctx.quizState[q.id],
                                                  "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                  "data-test-id": "quiz-tf"
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_radio, { value: true }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("True")), 1)
                                                      ]),
                                                      _: 1
                                                    }),
                                                    createVNode(_component_a_radio, { value: false }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(t("False")), 1)
                                                      ]),
                                                      _: 1
                                                    })
                                                  ]),
                                                  _: 1
                                                }, 8, ["value", "onUpdate:value"])
                                              ])) : (openBlock(), createBlock("div", {
                                                key: 2,
                                                class: "mt-1"
                                              }, [
                                                createVNode(_component_a_input, {
                                                  value: _ctx.quizState[q.id],
                                                  "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                  placeholder: t("Your answer"),
                                                  "data-test-id": "quiz-short"
                                                }, null, 8, ["value", "onUpdate:value", "placeholder"])
                                              ])),
                                              createVNode(_component_a_divider, { class: "my-1" })
                                            ]);
                                          }), 128)),
                                          createVNode(_component_a_space, null, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_button, {
                                                type: "primary",
                                                onClick: _ctx.submitQuiz,
                                                loading: _ctx.quizSubmitting,
                                                "data-test-id": "submit-quiz"
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Submit quiz")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "loading"]),
                                              createVNode(_component_a_button, {
                                                onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                disabled: isCompleted(currentLesson.value.id)
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "disabled"])
                                            ]),
                                            _: 1
                                          })
                                        ])) : currentLesson.value.type === "lab" ? (openBlock(), createBlock("div", { key: 4 }, [
                                          createVNode(_component_a_alert, {
                                            type: "info",
                                            "show-icon": "",
                                            message: t("Interactive lab"),
                                            description: t("Your lab environment opens in a new tab/window."),
                                            class: "mb-2"
                                          }, null, 8, ["message", "description"]),
                                          labChallenges[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                            key: 0,
                                            size: "small",
                                            class: "mb-2"
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_descriptions, {
                                                bordered: "",
                                                size: "small",
                                                column: 1
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_descriptions_item, {
                                                    label: t("Challenge")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].title), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"]),
                                                  createVNode(_component_a_descriptions_item, {
                                                    label: t("Difficulty")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].difficulty), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"]),
                                                  labChallenges[currentLesson.value.id].description ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                    key: 0,
                                                    label: t("Description")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].description), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"])) : createCommentVNode("", true)
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          })) : createCommentVNode("", true),
                                          labSessions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                            key: 1,
                                            size: "small",
                                            class: "mb-2"
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_descriptions, {
                                                bordered: "",
                                                size: "small",
                                                column: 1
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_descriptions_item, {
                                                    label: t("Session status")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_tag, {
                                                        color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["color"])
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"]),
                                                  labSessions[currentLesson.value.id].codeServerUrl ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                    key: 0,
                                                    label: t("VS Code URL")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode("a", {
                                                        href: labSessions[currentLesson.value.id].codeServerUrl,
                                                        target: "_blank"
                                                      }, toDisplayString(labSessions[currentLesson.value.id].codeServerUrl), 9, ["href"])
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"])) : createCommentVNode("", true)
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          })) : createCommentVNode("", true),
                                          labSubmissions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                            key: 2,
                                            size: "small",
                                            class: "mb-2"
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_descriptions, {
                                                bordered: "",
                                                size: "small",
                                                column: 1
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_descriptions_item, {
                                                    label: t("Latest submission")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_tag, {
                                                        color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                      }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                        ]),
                                                        _: 1
                                                      }, 8, ["color"])
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"]),
                                                  labSubmissions[currentLesson.value.id].gradePct != null ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                    key: 0,
                                                    label: t("Grade")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].gradePct) + "% ", 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"])) : createCommentVNode("", true),
                                                  labSubmissions[currentLesson.value.id].feedback ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                    key: 1,
                                                    label: t("Feedback")
                                                  }, {
                                                    default: withCtx(() => [
                                                      createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                        default: withCtx(() => [
                                                          createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                        ]),
                                                        _: 1
                                                      })
                                                    ]),
                                                    _: 1
                                                  }, 8, ["label"])) : createCommentVNode("", true)
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          })) : createCommentVNode("", true),
                                          createVNode(_component_a_space, { wrap: "" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_button, {
                                                type: "primary",
                                                onClick: ($event) => openLab(currentLesson.value),
                                                loading: labSessionStarting[currentLesson.value.id],
                                                disabled: labSessionStarting[currentLesson.value.id],
                                                "data-test-id": "open-lab"
                                              }, createSlots({
                                                default: withCtx(() => [
                                                  createTextVNode(" " + toDisplayString(labSessions[currentLesson.value.id]?.codeServerUrl ? t("Open VS Code") : t("Start lab session")), 1)
                                                ]),
                                                _: 2
                                              }, [
                                                labSessions[currentLesson.value.id]?.codeServerUrl ? {
                                                  name: "icon",
                                                  fn: withCtx(() => [
                                                    createVNode(unref(CodeOutlined))
                                                  ]),
                                                  key: "0"
                                                } : void 0
                                              ]), 1032, ["onClick", "loading", "disabled"]),
                                              labSessions[currentLesson.value.id]?.codeServerUrl ? (openBlock(), createBlock(_component_a_button, {
                                                key: 0,
                                                onClick: ($event) => openLabUrl(currentLesson.value),
                                                disabled: !labSessions[currentLesson.value.id]?.codeServerUrl,
                                                "data-test-id": "open-lab-url"
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Open in new tab")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "disabled"])) : createCommentVNode("", true),
                                              createVNode(_component_a_button, {
                                                type: "default",
                                                onClick: ($event) => submitLab(currentLesson.value),
                                                loading: labSubmitting[currentLesson.value.id],
                                                disabled: labSubmitting[currentLesson.value.id] || !labSessions[currentLesson.value.id] || labSessions[currentLesson.value.id].status !== "running" && labSessions[currentLesson.value.id].status !== "starting",
                                                "data-test-id": "submit-lab"
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Submit lab")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "loading", "disabled"]),
                                              labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                key: 1,
                                                onClick: ($event) => refreshLabContainer(currentLesson.value),
                                                loading: labRefreshing[currentLesson.value.id],
                                                disabled: labRefreshing[currentLesson.value.id],
                                                "data-test-id": "refresh-lab"
                                              }, {
                                                icon: withCtx(() => [
                                                  createVNode(unref(CloudSyncOutlined))
                                                ]),
                                                default: withCtx(() => [
                                                  createTextVNode(" " + toDisplayString(t("Update container with saved code")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                              labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                                key: 2,
                                                onClick: ($event) => restartLab(currentLesson.value),
                                                loading: labRestarting[currentLesson.value.id],
                                                disabled: labRestarting[currentLesson.value.id]
                                              }, {
                                                icon: withCtx(() => [
                                                  createVNode(unref(ReloadOutlined))
                                                ]),
                                                default: withCtx(() => [
                                                  createTextVNode(" " + toDisplayString(t("Restart lab")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                              createVNode(_component_a_button, {
                                                onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                                disabled: isCompleted(currentLesson.value.id)
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Mark complete")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "disabled"])
                                            ]),
                                            _: 1
                                          })
                                        ])) : (openBlock(), createBlock("div", { key: 5 }, [
                                          createVNode(_component_a_typography_text, { type: "secondary" }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Unsupported lesson type.")), 1)
                                            ]),
                                            _: 1
                                          })
                                        ]))
                                      ], 64)),
                                      createVNode(_component_a_divider),
                                      createVNode(_component_a_form, {
                                        layout: "vertical",
                                        class: "mt-2",
                                        onFinish: withModifiers(() => {
                                        }, ["prevent"])
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_form_item, {
                                            label: t("Your notes for this lesson")
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_textarea, {
                                                value: ensureNoteForLesson(currentLesson.value.id).text,
                                                "onUpdate:value": ($event) => ensureNoteForLesson(currentLesson.value.id).text = $event,
                                                rows: 4,
                                                onChange: ($event) => _ctx.persistNotes(currentLesson.value.id),
                                                "data-test-id": "lesson-notes"
                                              }, null, 8, ["value", "onUpdate:value", "onChange"])
                                            ]),
                                            _: 1
                                          }, 8, ["label"])
                                        ]),
                                        _: 1
                                      }, 8, ["onFinish"]),
                                      createVNode("div", { class: "nav-actions" }, [
                                        createVNode(_component_a_space, { wrap: "" }, {
                                          default: withCtx(() => [
                                            currentLesson.value ? (openBlock(), createBlock(_component_a_button, {
                                              key: 0,
                                              type: isCompleted(currentLesson.value.id) ? "default" : "primary",
                                              onClick: ($event) => _ctx.toggleComplete(currentLesson.value),
                                              "data-test-id": "toggle-complete"
                                            }, {
                                              icon: withCtx(() => [
                                                createVNode(unref(CheckOutlined))
                                              ]),
                                              default: withCtx(() => [
                                                createTextVNode(" " + toDisplayString(isCompleted(currentLesson.value.id) ? t("Mark as incomplete") : t("Mark as complete")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["type", "onClick"])) : createCommentVNode("", true),
                                            createVNode(_component_a_button, {
                                              onClick: _ctx.prevLesson,
                                              disabled: currentIndex.value <= 0,
                                              "data-test-id": "prev-lesson"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Previous")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "disabled"]),
                                            createVNode(_component_a_button, {
                                              type: "primary",
                                              onClick: _ctx.nextLesson,
                                              disabled: currentIndex.value >= lessons.value.length - 1,
                                              "data-test-id": "next-lesson"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Next")) + " ", 1),
                                                createVNode(unref(ArrowRightOutlined))
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "disabled"]),
                                            createVNode(_component_a_checkbox, {
                                              checked: autoNext.value,
                                              "onUpdate:checked": ($event) => autoNext.value = $event,
                                              class: "ml-2",
                                              "data-test-id": "auto-next"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Auto-next on complete")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["checked", "onUpdate:checked"])
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_rate, {
                                          value: ratings[currentLesson.value.id],
                                          "onUpdate:value": ($event) => ratings[currentLesson.value.id] = $event,
                                          "allow-half": "",
                                          onChange: _ctx.persistRatings
                                        }, null, 8, ["value", "onUpdate:value", "onChange"])
                                      ])
                                    ]),
                                    _: 1
                                  }, 8, ["title"])) : (openBlock(), createBlock(_component_a_empty, {
                                    key: 1,
                                    description: t("No lessons found")
                                  }, null, 8, ["description"]))
                                ]),
                                _: 1
                              }, 8, ["spinning"]))
                            ]),
                            _: 1
                          }, 8, ["style"]),
                          createVNode(_component_a_layout_sider, {
                            width: "320",
                            class: "right-sider",
                            collapsible: "",
                            collapsed: rightCollapsed.value,
                            "onUpdate:collapsed": ($event) => rightCollapsed.value = $event,
                            "collapsed-width": 60,
                            "data-test-id": "right-sider"
                          }, {
                            default: withCtx(() => [
                              createVNode("div", { class: "right-inner" }, [
                                createVNode(_component_a_tabs, {
                                  activeKey: rightTab.value,
                                  "onUpdate:activeKey": ($event) => rightTab.value = $event,
                                  size: "small",
                                  animated: false
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_tab_pane, {
                                      key: "progress",
                                      tab: t("Progress"),
                                      "data-test-id": "tab-progress"
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx(() => [
                                                createTextVNode("Students")
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_breadcrumb_item, null, {
                                              default: withCtx(() => [
                                                createTextVNode("Modules")
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_card, {
                                          size: "small",
                                          title: t("Progress"),
                                          bordered: false,
                                          "body-style": "padding:0;"
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_steps, {
                                              size: "small",
                                              direction: "vertical",
                                              current: currentIndex.value
                                            }, {
                                              default: withCtx(() => [
                                                (openBlock(true), createBlock(Fragment, null, renderList(lessons.value, (l, i) => {
                                                  return openBlock(), createBlock(_component_a_step, {
                                                    key: l.id,
                                                    title: l.title || `${t("Lesson")} ${i + 1}`,
                                                    description: l.duration ? `${l.duration} ${t("min")}` : "",
                                                    status: isCompleted(l.id) ? "finish" : i === currentIndex.value ? "process" : "wait"
                                                  }, null, 8, ["title", "description", "status"]);
                                                }), 128))
                                              ]),
                                              _: 1
                                            }, 8, ["current"])
                                          ]),
                                          _: 1
                                        }, 8, ["title"])
                                      ]),
                                      _: 1
                                    }, 8, ["tab"]),
                                    createVNode(_component_a_tab_pane, {
                                      key: "resources",
                                      tab: t("Resources")
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx(() => [
                                                createTextVNode("Students")
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_breadcrumb_item, null, {
                                              default: withCtx(() => [
                                                createTextVNode("Modules")
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }),
                                        currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                          key: 0,
                                          size: "small",
                                          title: t("Resources"),
                                          class: "mt-2"
                                        }, {
                                          default: withCtx(() => [
                                            isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                              key: 0,
                                              class: "mb-1"
                                            }, [
                                              createVNode(_component_a_button, {
                                                size: "small",
                                                type: "primary",
                                                onClick: ($event) => addLessonShare("resource"),
                                                loading: shareUploading.resource
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Add resource")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "loading"])
                                            ])) : createCommentVNode("", true),
                                            !combinedResources.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                              key: 1,
                                              description: t("No resources")
                                            }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                              key: 2,
                                              size: "small",
                                              "data-source": combinedResources.value
                                            }, {
                                              renderItem: withCtx(({ item }) => [
                                                createVNode(_component_a_list_item, null, {
                                                  default: withCtx(() => [
                                                    createVNode("a", {
                                                      href: item.url,
                                                      target: "_blank"
                                                    }, toDisplayString(item.title || item.name || t("Resource")), 9, ["href"])
                                                  ]),
                                                  _: 2
                                                }, 1024)
                                              ]),
                                              _: 1
                                            }, 8, ["data-source"]))
                                          ]),
                                          _: 1
                                        }, 8, ["title"])) : createCommentVNode("", true),
                                        createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx(() => [
                                                createTextVNode("Students")
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_breadcrumb_item, null, {
                                              default: withCtx(() => [
                                                createTextVNode("Modules")
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }),
                                        currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                          key: 1,
                                          size: "small",
                                          class: "mt-2",
                                          title: t("Attachments")
                                        }, {
                                          default: withCtx(() => [
                                            isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                              key: 0,
                                              class: "mb-1"
                                            }, [
                                              createVNode(_component_a_button, {
                                                size: "small",
                                                type: "primary",
                                                onClick: ($event) => addLessonShare("attachment"),
                                                loading: shareUploading.attachment
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Add attachment")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "loading"])
                                            ])) : createCommentVNode("", true),
                                            !combinedAttachments.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                              key: 1,
                                              description: t("No attachments")
                                            }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                              key: 2,
                                              size: "small",
                                              "data-source": combinedAttachments.value
                                            }, {
                                              renderItem: withCtx(({ item }) => [
                                                createVNode(_component_a_list_item, null, {
                                                  default: withCtx(() => [
                                                    createVNode("a", {
                                                      href: item.url,
                                                      target: "_blank"
                                                    }, toDisplayString(item.name || t("Attachment")), 9, ["href"])
                                                  ]),
                                                  _: 2
                                                }, 1024)
                                              ]),
                                              _: 1
                                            }, 8, ["data-source"]))
                                          ]),
                                          _: 1
                                        }, 8, ["title"])) : createCommentVNode("", true)
                                      ]),
                                      _: 1
                                    }, 8, ["tab"]),
                                    createVNode(_component_a_tab_pane, {
                                      key: "notes",
                                      tab: t("Notes")
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx(() => [
                                                createTextVNode("Students")
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_breadcrumb_item, null, {
                                              default: withCtx(() => [
                                                createTextVNode("Modules")
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_card, {
                                          size: "small",
                                          title: t("Your notes"),
                                          class: "mt-2"
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_form, {
                                              layout: "vertical",
                                              onFinish: withModifiers(() => {
                                              }, ["prevent"])
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_form_item, {
                                                  label: t("Lesson notes")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_textarea, {
                                                      value: notes[currentLesson.value?.id || "global"].text,
                                                      "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                      rows: 6,
                                                      onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                      "data-test-id": "notes-right"
                                                    }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"]),
                                                createVNode(_component_a_form_item, {
                                                  label: t("Highlights")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_input_search, {
                                                      value: newHighlight.value,
                                                      "onUpdate:value": ($event) => newHighlight.value = $event,
                                                      placeholder: t("Type highlight and press +"),
                                                      "enter-button": "+",
                                                      onSearch: _ctx.addHighlight
                                                    }, null, 8, ["value", "onUpdate:value", "placeholder", "onSearch"]),
                                                    !notes[currentLesson.value?.id || "global"].highlights.length ? (openBlock(), createBlock(_component_a_empty, {
                                                      key: 0,
                                                      description: t("No highlights"),
                                                      class: "mt-1"
                                                    }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                      key: 1,
                                                      "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                      size: "small",
                                                      class: "mt-1"
                                                    }, {
                                                      renderItem: withCtx(({ item, index }) => [
                                                        createVNode(_component_a_list_item, null, {
                                                          default: withCtx(() => [
                                                            createVNode(_component_a_space, null, {
                                                              default: withCtx(() => [
                                                                createVNode("span", null, toDisplayString(item), 1),
                                                                createVNode(_component_a_button, {
                                                                  size: "small",
                                                                  onClick: ($event) => _ctx.removeHighlight(index)
                                                                }, {
                                                                  default: withCtx(() => [
                                                                    createTextVNode(toDisplayString(t("Remove")), 1)
                                                                  ]),
                                                                  _: 1
                                                                }, 8, ["onClick"])
                                                              ]),
                                                              _: 2
                                                            }, 1024)
                                                          ]),
                                                          _: 2
                                                        }, 1024)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["data-source"]))
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"])
                                              ]),
                                              _: 1
                                            }, 8, ["onFinish"])
                                          ]),
                                          _: 1
                                        }, 8, ["title"])
                                      ]),
                                      _: 1
                                    }, 8, ["tab"]),
                                    createVNode(_component_a_tab_pane, {
                                      key: "qa",
                                      tab: t("Q&A")
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx(() => [
                                                createTextVNode("Students")
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_breadcrumb_item, null, {
                                              default: withCtx(() => [
                                                createTextVNode("Modules")
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_card, {
                                          size: "small",
                                          title: t("Questions & Answers"),
                                          class: "mt-2"
                                        }, {
                                          default: withCtx(() => [
                                            (openBlock(true), createBlock(Fragment, null, renderList(_ctx.qaForCurrent, (c) => {
                                              return openBlock(), createBlock(_component_a_comment, {
                                                key: c.id,
                                                author: c.author,
                                                content: c.text,
                                                datetime: c.when
                                              }, {
                                                avatar: withCtx(() => [
                                                  createVNode(_component_a_avatar, {
                                                    src: c.avatar
                                                  }, null, 8, ["src"])
                                                ]),
                                                _: 2
                                              }, 1032, ["author", "content", "datetime"]);
                                            }), 128)),
                                            createVNode(_component_a_divider),
                                            createVNode(_component_a_input_textarea, {
                                              value: qaDraft.value,
                                              "onUpdate:value": ($event) => qaDraft.value = $event,
                                              rows: 3,
                                              placeholder: t("Ask a question"),
                                              "data-test-id": "qa-input"
                                            }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                                            createVNode(_component_a_space, { class: "mt-1" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_button, {
                                                  size: "small",
                                                  onClick: _ctx.submitQA,
                                                  disabled: !qaDraft.value.trim()
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Post")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick", "disabled"]),
                                                createVNode(_component_a_button, {
                                                  size: "small",
                                                  onClick: ($event) => qaDraft.value = ""
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Clear")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"])
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }, 8, ["title"])
                                      ]),
                                      _: 1
                                    }, 8, ["tab"]),
                                    createVNode(_component_a_tab_pane, {
                                      key: "bookmarks",
                                      tab: t("Bookmarks")
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx(() => [
                                                createTextVNode("Students")
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_breadcrumb_item, null, {
                                              default: withCtx(() => [
                                                createTextVNode("Modules")
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_card, {
                                          size: "small",
                                          title: t("Bookmarks"),
                                          class: "mt-2"
                                        }, {
                                          default: withCtx(() => [
                                            !bookmarks.length ? (openBlock(), createBlock(_component_a_empty, {
                                              key: 0,
                                              description: t("No bookmarks yet")
                                            }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                              key: 1,
                                              "data-source": bookmarks,
                                              size: "small"
                                            }, {
                                              renderItem: withCtx(({ item, index }) => [
                                                createVNode(_component_a_list_item, {
                                                  actions: [
                                                    h("a", { onClick: () => _ctx.jumpToBookmark(item) }, t("Go")),
                                                    h("a", { onClick: () => _ctx.removeBookmark(index) }, t("Remove"))
                                                  ]
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_list_item_meta, {
                                                      title: item.title,
                                                      description: item.description
                                                    }, null, 8, ["title", "description"])
                                                  ]),
                                                  _: 2
                                                }, 1032, ["actions"])
                                              ]),
                                              _: 1
                                            }, 8, ["data-source"]))
                                          ]),
                                          _: 1
                                        }, 8, ["title"])
                                      ]),
                                      _: 1
                                    }, 8, ["tab"])
                                  ]),
                                  _: 1
                                }, 8, ["activeKey", "onUpdate:activeKey"])
                              ])
                            ]),
                            _: 1
                          }, 8, ["collapsed", "onUpdate:collapsed"])
                        ];
                      }
                    }),
                    _: 1
                  }, _parent3, _scopeId2));
                  _push3(ssrRenderComponent(_component_a_drawer, {
                    open: submitOpen.value,
                    "onUpdate:open": ($event) => submitOpen.value = $event,
                    title: t("Submit assignment"),
                    placement: "right",
                    width: "420",
                    "data-test-id": "submit-drawer"
                  }, {
                    default: withCtx((_3, _push4, _parent4, _scopeId3) => {
                      if (_push4) {
                        _push4(ssrRenderComponent(_component_a_form, {
                          layout: "vertical",
                          onFinish: _ctx.submitAssignment
                        }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(ssrRenderComponent(_component_a_form_item, {
                                label: t("Notes")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_textarea, {
                                      value: submitForm.notes,
                                      "onUpdate:value": ($event) => submitForm.notes = $event,
                                      rows: 4
                                    }, null, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_textarea, {
                                        value: submitForm.notes,
                                        "onUpdate:value": ($event) => submitForm.notes = $event,
                                        rows: 4
                                      }, null, 8, ["value", "onUpdate:value"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_form_item, {
                                label: t("Link to work (URL)")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_input, {
                                      value: submitForm.url,
                                      "onUpdate:value": ($event) => submitForm.url = $event,
                                      placeholder: "https://…"
                                    }, null, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_input, {
                                        value: submitForm.url,
                                        "onUpdate:value": ($event) => submitForm.url = $event,
                                        placeholder: "https://…"
                                      }, null, 8, ["value", "onUpdate:value"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_form_item, {
                                label: t("Attach files (mock)")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_upload, {
                                      "before-upload": () => false,
                                      multiple: ""
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_button, null, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(unref(UploadOutlined), null, null, _parent8, _scopeId7));
                                                _push8(` ${ssrInterpolate(t("Click to attach"))}`);
                                              } else {
                                                return [
                                                  createVNode(unref(UploadOutlined)),
                                                  createTextVNode(" " + toDisplayString(t("Click to attach")), 1)
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_button, null, {
                                              default: withCtx(() => [
                                                createVNode(unref(UploadOutlined)),
                                                createTextVNode(" " + toDisplayString(t("Click to attach")), 1)
                                              ]),
                                              _: 1
                                            })
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_upload, {
                                        "before-upload": () => false,
                                        multiple: ""
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_button, null, {
                                            default: withCtx(() => [
                                              createVNode(unref(UploadOutlined)),
                                              createTextVNode(" " + toDisplayString(t("Click to attach")), 1)
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      })
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_space, null, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_button, {
                                      onClick: ($event) => submitOpen.value = false
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(`${ssrInterpolate(t("Cancel"))}`);
                                        } else {
                                          return [
                                            createTextVNode(toDisplayString(t("Cancel")), 1)
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                    _push6(ssrRenderComponent(_component_a_button, {
                                      type: "primary",
                                      "html-type": "submit",
                                      loading: submitting.value
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(`${ssrInterpolate(t("Submit"))}`);
                                        } else {
                                          return [
                                            createTextVNode(toDisplayString(t("Submit")), 1)
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_button, {
                                        onClick: ($event) => submitOpen.value = false
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Cancel")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"]),
                                      createVNode(_component_a_button, {
                                        type: "primary",
                                        "html-type": "submit",
                                        loading: submitting.value
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Submit")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["loading"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                            } else {
                              return [
                                createVNode(_component_a_form_item, {
                                  label: t("Notes")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_textarea, {
                                      value: submitForm.notes,
                                      "onUpdate:value": ($event) => submitForm.notes = $event,
                                      rows: 4
                                    }, null, 8, ["value", "onUpdate:value"])
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_form_item, {
                                  label: t("Link to work (URL)")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_input, {
                                      value: submitForm.url,
                                      "onUpdate:value": ($event) => submitForm.url = $event,
                                      placeholder: "https://…"
                                    }, null, 8, ["value", "onUpdate:value"])
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_form_item, {
                                  label: t("Attach files (mock)")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_upload, {
                                      "before-upload": () => false,
                                      multiple: ""
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_button, null, {
                                          default: withCtx(() => [
                                            createVNode(unref(UploadOutlined)),
                                            createTextVNode(" " + toDisplayString(t("Click to attach")), 1)
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_space, null, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_button, {
                                      onClick: ($event) => submitOpen.value = false
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(t("Cancel")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["onClick"]),
                                    createVNode(_component_a_button, {
                                      type: "primary",
                                      "html-type": "submit",
                                      loading: submitting.value
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(t("Submit")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["loading"])
                                  ]),
                                  _: 1
                                })
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                      } else {
                        return [
                          createVNode(_component_a_form, {
                            layout: "vertical",
                            onFinish: _ctx.submitAssignment
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_form_item, {
                                label: t("Notes")
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_textarea, {
                                    value: submitForm.notes,
                                    "onUpdate:value": ($event) => submitForm.notes = $event,
                                    rows: 4
                                  }, null, 8, ["value", "onUpdate:value"])
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_form_item, {
                                label: t("Link to work (URL)")
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_input, {
                                    value: submitForm.url,
                                    "onUpdate:value": ($event) => submitForm.url = $event,
                                    placeholder: "https://…"
                                  }, null, 8, ["value", "onUpdate:value"])
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_form_item, {
                                label: t("Attach files (mock)")
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_upload, {
                                    "before-upload": () => false,
                                    multiple: ""
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_button, null, {
                                        default: withCtx(() => [
                                          createVNode(unref(UploadOutlined)),
                                          createTextVNode(" " + toDisplayString(t("Click to attach")), 1)
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  })
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_space, null, {
                                default: withCtx(() => [
                                  createVNode(_component_a_button, {
                                    onClick: ($event) => submitOpen.value = false
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(t("Cancel")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["onClick"]),
                                  createVNode(_component_a_button, {
                                    type: "primary",
                                    "html-type": "submit",
                                    loading: submitting.value
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(t("Submit")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["loading"])
                                ]),
                                _: 1
                              })
                            ]),
                            _: 1
                          }, 8, ["onFinish"])
                        ];
                      }
                    }),
                    _: 1
                  }, _parent3, _scopeId2));
                  _push3(ssrRenderComponent(_component_a_modal, {
                    open: openImportExport.value,
                    "onUpdate:open": ($event) => openImportExport.value = $event,
                    title: t("Import / Export progress"),
                    footer: null,
                    width: "720"
                  }, {
                    default: withCtx((_3, _push4, _parent4, _scopeId3) => {
                      if (_push4) {
                        _push4(ssrRenderComponent(_component_a_row, { gutter: 16 }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(ssrRenderComponent(_component_a_col, { span: 12 }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(`Students`);
                                              } else {
                                                return [
                                                  createTextVNode("Students")
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(`Modules`);
                                              } else {
                                                return [
                                                  createTextVNode("Modules")
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx(() => [
                                                createTextVNode("Students")
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_breadcrumb_item, null, {
                                              default: withCtx(() => [
                                                createTextVNode("Modules")
                                              ]),
                                              _: 1
                                            })
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                    _push6(ssrRenderComponent(_component_a_card, {
                                      title: t("Export"),
                                      size: "small"
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_typography_paragraph, null, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(`${ssrInterpolate(t("Download your progress as JSON."))}`);
                                              } else {
                                                return [
                                                  createTextVNode(toDisplayString(t("Download your progress as JSON.")), 1)
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_button, {
                                            type: "primary",
                                            onClick: _ctx.exportProgress
                                          }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(`${ssrInterpolate(t("Export JSON"))}`);
                                              } else {
                                                return [
                                                  createTextVNode(toDisplayString(t("Export JSON")), 1)
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_typography_paragraph, null, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Download your progress as JSON.")), 1)
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_button, {
                                              type: "primary",
                                              onClick: _ctx.exportProgress
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Export JSON")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"])
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx(() => [
                                              createTextVNode("Students")
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_breadcrumb_item, null, {
                                            default: withCtx(() => [
                                              createTextVNode("Modules")
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_card, {
                                        title: t("Export"),
                                        size: "small"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_typography_paragraph, null, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Download your progress as JSON.")), 1)
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_button, {
                                            type: "primary",
                                            onClick: _ctx.exportProgress
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Export JSON")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"])
                                        ]),
                                        _: 1
                                      }, 8, ["title"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_col, { span: 12 }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(`Students`);
                                              } else {
                                                return [
                                                  createTextVNode("Students")
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_breadcrumb_item, null, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(`Modules`);
                                              } else {
                                                return [
                                                  createTextVNode("Modules")
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                              default: withCtx(() => [
                                                createTextVNode("Students")
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_breadcrumb_item, null, {
                                              default: withCtx(() => [
                                                createTextVNode("Modules")
                                              ]),
                                              _: 1
                                            })
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                    _push6(ssrRenderComponent(_component_a_card, {
                                      title: t("Import"),
                                      size: "small"
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_typography_paragraph, null, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(`${ssrInterpolate(t("Paste JSON below and import."))}`);
                                              } else {
                                                return [
                                                  createTextVNode(toDisplayString(t("Paste JSON below and import.")), 1)
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_textarea, {
                                            value: importJson.value,
                                            "onUpdate:value": ($event) => importJson.value = $event,
                                            rows: 8
                                          }, null, _parent7, _scopeId6));
                                          _push7(ssrRenderComponent(_component_a_space, { class: "mt-1" }, {
                                            default: withCtx((_7, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_button, {
                                                  onClick: ($event) => importJson.value = ""
                                                }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`${ssrInterpolate(t("Clear"))}`);
                                                    } else {
                                                      return [
                                                        createTextVNode(toDisplayString(t("Clear")), 1)
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                                _push8(ssrRenderComponent(_component_a_button, {
                                                  type: "primary",
                                                  onClick: _ctx.importProgress
                                                }, {
                                                  default: withCtx((_8, _push9, _parent9, _scopeId8) => {
                                                    if (_push9) {
                                                      _push9(`${ssrInterpolate(t("Import"))}`);
                                                    } else {
                                                      return [
                                                        createTextVNode(toDisplayString(t("Import")), 1)
                                                      ];
                                                    }
                                                  }),
                                                  _: 1
                                                }, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_button, {
                                                    onClick: ($event) => importJson.value = ""
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Clear")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick"]),
                                                  createVNode(_component_a_button, {
                                                    type: "primary",
                                                    onClick: _ctx.importProgress
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("Import")), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["onClick"])
                                                ];
                                              }
                                            }),
                                            _: 1
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_typography_paragraph, null, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Paste JSON below and import.")), 1)
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_textarea, {
                                              value: importJson.value,
                                              "onUpdate:value": ($event) => importJson.value = $event,
                                              rows: 8
                                            }, null, 8, ["value", "onUpdate:value"]),
                                            createVNode(_component_a_space, { class: "mt-1" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_button, {
                                                  onClick: ($event) => importJson.value = ""
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Clear")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"]),
                                                createVNode(_component_a_button, {
                                                  type: "primary",
                                                  onClick: _ctx.importProgress
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("Import")), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["onClick"])
                                              ]),
                                              _: 1
                                            })
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx(() => [
                                              createTextVNode("Students")
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_breadcrumb_item, null, {
                                            default: withCtx(() => [
                                              createTextVNode("Modules")
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_card, {
                                        title: t("Import"),
                                        size: "small"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_typography_paragraph, null, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Paste JSON below and import.")), 1)
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_textarea, {
                                            value: importJson.value,
                                            "onUpdate:value": ($event) => importJson.value = $event,
                                            rows: 8
                                          }, null, 8, ["value", "onUpdate:value"]),
                                          createVNode(_component_a_space, { class: "mt-1" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_button, {
                                                onClick: ($event) => importJson.value = ""
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Clear")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"]),
                                              createVNode(_component_a_button, {
                                                type: "primary",
                                                onClick: _ctx.importProgress
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Import")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"])
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }, 8, ["title"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                            } else {
                              return [
                                createVNode(_component_a_col, { span: 12 }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_card, {
                                      title: t("Export"),
                                      size: "small"
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_typography_paragraph, null, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Download your progress as JSON.")), 1)
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_button, {
                                          type: "primary",
                                          onClick: _ctx.exportProgress
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Export JSON")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["onClick"])
                                      ]),
                                      _: 1
                                    }, 8, ["title"])
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_col, { span: 12 }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_card, {
                                      title: t("Import"),
                                      size: "small"
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_typography_paragraph, null, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Paste JSON below and import.")), 1)
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_textarea, {
                                          value: importJson.value,
                                          "onUpdate:value": ($event) => importJson.value = $event,
                                          rows: 8
                                        }, null, 8, ["value", "onUpdate:value"]),
                                        createVNode(_component_a_space, { class: "mt-1" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, {
                                              onClick: ($event) => importJson.value = ""
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Clear")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"]),
                                            createVNode(_component_a_button, {
                                              type: "primary",
                                              onClick: _ctx.importProgress
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Import")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"])
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }, 8, ["title"])
                                  ]),
                                  _: 1
                                })
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                      } else {
                        return [
                          createVNode(_component_a_row, { gutter: 16 }, {
                            default: withCtx(() => [
                              createVNode(_component_a_col, { span: 12 }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                        default: withCtx(() => [
                                          createTextVNode("Students")
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_breadcrumb_item, null, {
                                        default: withCtx(() => [
                                          createTextVNode("Modules")
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  }),
                                  createVNode(_component_a_card, {
                                    title: t("Export"),
                                    size: "small"
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_typography_paragraph, null, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Download your progress as JSON.")), 1)
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_button, {
                                        type: "primary",
                                        onClick: _ctx.exportProgress
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Export JSON")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"])
                                    ]),
                                    _: 1
                                  }, 8, ["title"])
                                ]),
                                _: 1
                              }),
                              createVNode(_component_a_col, { span: 12 }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                        default: withCtx(() => [
                                          createTextVNode("Students")
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_breadcrumb_item, null, {
                                        default: withCtx(() => [
                                          createTextVNode("Modules")
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  }),
                                  createVNode(_component_a_card, {
                                    title: t("Import"),
                                    size: "small"
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_typography_paragraph, null, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Paste JSON below and import.")), 1)
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_textarea, {
                                        value: importJson.value,
                                        "onUpdate:value": ($event) => importJson.value = $event,
                                        rows: 8
                                      }, null, 8, ["value", "onUpdate:value"]),
                                      createVNode(_component_a_space, { class: "mt-1" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_button, {
                                            onClick: ($event) => importJson.value = ""
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Clear")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"]),
                                          createVNode(_component_a_button, {
                                            type: "primary",
                                            onClick: _ctx.importProgress
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Import")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"])
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  }, 8, ["title"])
                                ]),
                                _: 1
                              })
                            ]),
                            _: 1
                          })
                        ];
                      }
                    }),
                    _: 1
                  }, _parent3, _scopeId2));
                  _push3(ssrRenderComponent(_component_a_modal, {
                    open: openShortcuts.value,
                    "onUpdate:open": ($event) => openShortcuts.value = $event,
                    title: t("Keyboard shortcuts"),
                    footer: null,
                    width: "520"
                  }, {
                    default: withCtx((_3, _push4, _parent4, _scopeId3) => {
                      if (_push4) {
                        _push4(ssrRenderComponent(_component_a_descriptions, {
                          bordered: "",
                          size: "small",
                          column: 1
                        }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(ssrRenderComponent(_component_a_descriptions_item, {
                                label: t("Next lesson")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(`N`);
                                  } else {
                                    return [
                                      createTextVNode("N")
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_descriptions_item, {
                                label: t("Previous lesson")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(`P`);
                                  } else {
                                    return [
                                      createTextVNode("P")
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_descriptions_item, {
                                label: t("Toggle complete")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(`C`);
                                  } else {
                                    return [
                                      createTextVNode("C")
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_descriptions_item, {
                                label: t("Resume last")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(`R`);
                                  } else {
                                    return [
                                      createTextVNode("R")
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_descriptions_item, {
                                label: t("Search lessons")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(`/`);
                                  } else {
                                    return [
                                      createTextVNode("/")
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_descriptions_item, {
                                label: t("Toggle dark")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(`D`);
                                  } else {
                                    return [
                                      createTextVNode("D")
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                            } else {
                              return [
                                createVNode(_component_a_descriptions_item, {
                                  label: t("Next lesson")
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode("N")
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_descriptions_item, {
                                  label: t("Previous lesson")
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode("P")
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_descriptions_item, {
                                  label: t("Toggle complete")
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode("C")
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_descriptions_item, {
                                  label: t("Resume last")
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode("R")
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_descriptions_item, {
                                  label: t("Search lessons")
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode("/")
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_descriptions_item, {
                                  label: t("Toggle dark")
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode("D")
                                  ]),
                                  _: 1
                                }, 8, ["label"])
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                      } else {
                        return [
                          createVNode(_component_a_descriptions, {
                            bordered: "",
                            size: "small",
                            column: 1
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_descriptions_item, {
                                label: t("Next lesson")
                              }, {
                                default: withCtx(() => [
                                  createTextVNode("N")
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_descriptions_item, {
                                label: t("Previous lesson")
                              }, {
                                default: withCtx(() => [
                                  createTextVNode("P")
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_descriptions_item, {
                                label: t("Toggle complete")
                              }, {
                                default: withCtx(() => [
                                  createTextVNode("C")
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_descriptions_item, {
                                label: t("Resume last")
                              }, {
                                default: withCtx(() => [
                                  createTextVNode("R")
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_descriptions_item, {
                                label: t("Search lessons")
                              }, {
                                default: withCtx(() => [
                                  createTextVNode("/")
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_descriptions_item, {
                                label: t("Toggle dark")
                              }, {
                                default: withCtx(() => [
                                  createTextVNode("D")
                                ]),
                                _: 1
                              }, 8, ["label"])
                            ]),
                            _: 1
                          })
                        ];
                      }
                    }),
                    _: 1
                  }, _parent3, _scopeId2));
                  _push3(ssrRenderComponent(_component_a_modal, {
                    open: openPricing.value,
                    "onUpdate:open": ($event) => openPricing.value = $event,
                    title: t("Pricing"),
                    "ok-text": t("Enroll"),
                    onOk: _ctx.mockEnroll
                  }, {
                    default: withCtx((_3, _push4, _parent4, _scopeId3) => {
                      if (_push4) {
                        _push4(ssrRenderComponent(_component_a_radio_group, {
                          value: pricingTier.value,
                          "onUpdate:value": ($event) => pricingTier.value = $event
                        }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(ssrRenderComponent(_component_a_radio, { value: "basic" }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(`${ssrInterpolate(t("Basic · Free preview"))}`);
                                  } else {
                                    return [
                                      createTextVNode(toDisplayString(t("Basic · Free preview")), 1)
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_radio, { value: "pro" }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(`${ssrInterpolate(t("Pro · Full course + certificate"))}`);
                                  } else {
                                    return [
                                      createTextVNode(toDisplayString(t("Pro · Full course + certificate")), 1)
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_radio, { value: "team" }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(`${ssrInterpolate(t("Team · Up to 10 seats"))}`);
                                  } else {
                                    return [
                                      createTextVNode(toDisplayString(t("Team · Up to 10 seats")), 1)
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                            } else {
                              return [
                                createVNode(_component_a_radio, { value: "basic" }, {
                                  default: withCtx(() => [
                                    createTextVNode(toDisplayString(t("Basic · Free preview")), 1)
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_radio, { value: "pro" }, {
                                  default: withCtx(() => [
                                    createTextVNode(toDisplayString(t("Pro · Full course + certificate")), 1)
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_radio, { value: "team" }, {
                                  default: withCtx(() => [
                                    createTextVNode(toDisplayString(t("Team · Up to 10 seats")), 1)
                                  ]),
                                  _: 1
                                })
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                      } else {
                        return [
                          createVNode(_component_a_radio_group, {
                            value: pricingTier.value,
                            "onUpdate:value": ($event) => pricingTier.value = $event
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_radio, { value: "basic" }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t("Basic · Free preview")), 1)
                                ]),
                                _: 1
                              }),
                              createVNode(_component_a_radio, { value: "pro" }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t("Pro · Full course + certificate")), 1)
                                ]),
                                _: 1
                              }),
                              createVNode(_component_a_radio, { value: "team" }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t("Team · Up to 10 seats")), 1)
                                ]),
                                _: 1
                              })
                            ]),
                            _: 1
                          }, 8, ["value", "onUpdate:value"])
                        ];
                      }
                    }),
                    _: 1
                  }, _parent3, _scopeId2));
                  _push3(ssrRenderComponent(_component_a_drawer, {
                    open: openDebug.value,
                    "onUpdate:open": ($event) => openDebug.value = $event,
                    title: t("Debug & mocks"),
                    placement: "left",
                    width: "420"
                  }, {
                    default: withCtx((_3, _push4, _parent4, _scopeId3) => {
                      if (_push4) {
                        _push4(ssrRenderComponent(_component_a_form, { layout: "vertical" }, {
                          default: withCtx((_4, _push5, _parent5, _scopeId4) => {
                            if (_push5) {
                              _push5(ssrRenderComponent(_component_a_form_item, {
                                label: t("Force mock mode")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_switch, {
                                      checked: forceMock.value,
                                      "onUpdate:checked": ($event) => forceMock.value = $event
                                    }, null, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_switch, {
                                        checked: forceMock.value,
                                        "onUpdate:checked": ($event) => forceMock.value = $event
                                      }, null, 8, ["checked", "onUpdate:checked"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_form_item, {
                                label: t("Clear local data")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_button, {
                                      danger: "",
                                      onClick: _ctx.clearLocal
                                    }, {
                                      default: withCtx((_6, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(`${ssrInterpolate(t("Clear"))}`);
                                        } else {
                                          return [
                                            createTextVNode(toDisplayString(t("Clear")), 1)
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_button, {
                                        danger: "",
                                        onClick: _ctx.clearLocal
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Clear")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                              _push5(ssrRenderComponent(_component_a_form_item, {
                                label: t("Telemetry (session)")
                              }, {
                                default: withCtx((_5, _push6, _parent6, _scopeId5) => {
                                  if (_push6) {
                                    _push6(ssrRenderComponent(_component_a_list, {
                                      "data-source": telemetry,
                                      size: "small",
                                      "item-layout": "horizontal"
                                    }, {
                                      renderItem: withCtx(({ item }, _push7, _parent7, _scopeId6) => {
                                        if (_push7) {
                                          _push7(ssrRenderComponent(_component_a_list_item, null, {
                                            default: withCtx((_6, _push8, _parent8, _scopeId7) => {
                                              if (_push8) {
                                                _push8(ssrRenderComponent(_component_a_list_item_meta, {
                                                  title: item.when,
                                                  description: item.what
                                                }, null, _parent8, _scopeId7));
                                              } else {
                                                return [
                                                  createVNode(_component_a_list_item_meta, {
                                                    title: item.when,
                                                    description: item.what
                                                  }, null, 8, ["title", "description"])
                                                ];
                                              }
                                            }),
                                            _: 2
                                          }, _parent7, _scopeId6));
                                        } else {
                                          return [
                                            createVNode(_component_a_list_item, null, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_list_item_meta, {
                                                  title: item.when,
                                                  description: item.what
                                                }, null, 8, ["title", "description"])
                                              ]),
                                              _: 2
                                            }, 1024)
                                          ];
                                        }
                                      }),
                                      _: 1
                                    }, _parent6, _scopeId5));
                                  } else {
                                    return [
                                      createVNode(_component_a_list, {
                                        "data-source": telemetry,
                                        size: "small",
                                        "item-layout": "horizontal"
                                      }, {
                                        renderItem: withCtx(({ item }) => [
                                          createVNode(_component_a_list_item, null, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_list_item_meta, {
                                                title: item.when,
                                                description: item.what
                                              }, null, 8, ["title", "description"])
                                            ]),
                                            _: 2
                                          }, 1024)
                                        ]),
                                        _: 1
                                      }, 8, ["data-source"])
                                    ];
                                  }
                                }),
                                _: 1
                              }, _parent5, _scopeId4));
                            } else {
                              return [
                                createVNode(_component_a_form_item, {
                                  label: t("Force mock mode")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_switch, {
                                      checked: forceMock.value,
                                      "onUpdate:checked": ($event) => forceMock.value = $event
                                    }, null, 8, ["checked", "onUpdate:checked"])
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_form_item, {
                                  label: t("Clear local data")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_button, {
                                      danger: "",
                                      onClick: _ctx.clearLocal
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(t("Clear")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["onClick"])
                                  ]),
                                  _: 1
                                }, 8, ["label"]),
                                createVNode(_component_a_form_item, {
                                  label: t("Telemetry (session)")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_list, {
                                      "data-source": telemetry,
                                      size: "small",
                                      "item-layout": "horizontal"
                                    }, {
                                      renderItem: withCtx(({ item }) => [
                                        createVNode(_component_a_list_item, null, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_list_item_meta, {
                                              title: item.when,
                                              description: item.what
                                            }, null, 8, ["title", "description"])
                                          ]),
                                          _: 2
                                        }, 1024)
                                      ]),
                                      _: 1
                                    }, 8, ["data-source"])
                                  ]),
                                  _: 1
                                }, 8, ["label"])
                              ];
                            }
                          }),
                          _: 1
                        }, _parent4, _scopeId3));
                      } else {
                        return [
                          createVNode(_component_a_form, { layout: "vertical" }, {
                            default: withCtx(() => [
                              createVNode(_component_a_form_item, {
                                label: t("Force mock mode")
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_switch, {
                                    checked: forceMock.value,
                                    "onUpdate:checked": ($event) => forceMock.value = $event
                                  }, null, 8, ["checked", "onUpdate:checked"])
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_form_item, {
                                label: t("Clear local data")
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_button, {
                                    danger: "",
                                    onClick: _ctx.clearLocal
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(t("Clear")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["onClick"])
                                ]),
                                _: 1
                              }, 8, ["label"]),
                              createVNode(_component_a_form_item, {
                                label: t("Telemetry (session)")
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_list, {
                                    "data-source": telemetry,
                                    size: "small",
                                    "item-layout": "horizontal"
                                  }, {
                                    renderItem: withCtx(({ item }) => [
                                      createVNode(_component_a_list_item, null, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_list_item_meta, {
                                            title: item.when,
                                            description: item.what
                                          }, null, 8, ["title", "description"])
                                        ]),
                                        _: 2
                                      }, 1024)
                                    ]),
                                    _: 1
                                  }, 8, ["data-source"])
                                ]),
                                _: 1
                              }, 8, ["label"])
                            ]),
                            _: 1
                          })
                        ];
                      }
                    }),
                    _: 1
                  }, _parent3, _scopeId2));
                } else {
                  return [
                    createVNode("div", { class: "global-banners" }, [
                      !isOnline.value ? (openBlock(), createBlock(_component_a_alert, {
                        key: 0,
                        type: "warning",
                        banner: "",
                        "show-icon": "",
                        message: "You're offline. Working in mock/local mode; changes will sync when you reconnect.",
                        "data-test-id": "offline-banner"
                      })) : createCommentVNode("", true),
                      usingMocks.value ? (openBlock(), createBlock(_component_a_alert, {
                        key: 1,
                        type: "info",
                        banner: "",
                        "show-icon": "",
                        message: `Mock data active${mockReason.value ? ` · ${mockReason.value}` : ""}`,
                        "data-test-id": "mock-banner"
                      }, null, 8, ["message"])) : createCommentVNode("", true)
                    ]),
                    createVNode(_component_a_page_header, {
                      class: "page-header",
                      title: course.title || t("Course"),
                      "sub-title": moduleT.value?.title || (hasModules.value ? t("Choose a module") : t("Overview")),
                      "data-test-id": "page-header"
                    }, {
                      tags: withCtx(() => [
                        createVNode(_component_a_tag, { color: "blue" }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(course.category || "—"), 1)
                          ]),
                          _: 1
                        }),
                        createVNode(_component_a_tag, { color: "gold" }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(course.difficulty || "—"), 1)
                          ]),
                          _: 1
                        }),
                        totalMinutes.value ? (openBlock(), createBlock(_component_a_tag, {
                          key: 0,
                          color: "blue"
                        }, {
                          default: withCtx(() => [
                            createVNode(unref(FieldTimeOutlined)),
                            createTextVNode(" " + toDisplayString(totalMinutes.value) + " " + toDisplayString(t("min")), 1)
                          ]),
                          _: 1
                        })) : createCommentVNode("", true),
                        createVNode(_component_a_badge, {
                          status: isOnline.value ? "processing" : "default",
                          text: isOnline.value ? t("Online") : t("Offline")
                        }, null, 8, ["status", "text"]),
                        createVNode(_component_a_badge, {
                          status: usingMocks.value ? "warning" : "success",
                          text: usingMocks.value ? t("Mock") : t("Live"),
                          class: "ml-1"
                        }, null, 8, ["status", "text"])
                      ]),
                      extra: withCtx(() => [
                        createVNode(_component_a_space, { wrap: "" }, {
                          default: withCtx(() => [
                            createVNode(_component_a_tooltip, {
                              title: t("Course progress")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_progress, {
                                  type: "circle",
                                  percent: progressPercent.value,
                                  size: 32
                                }, null, 8, ["percent"])
                              ]),
                              _: 1
                            }, 8, ["title"]),
                            hasModules.value ? (openBlock(), createBlock(_component_a_select, {
                              key: 0,
                              value: selectedModuleId.value,
                              style: { "min-width": "220px" },
                              placeholder: "Select module",
                              disabled: loadingModule.value,
                              onChange: switchModule,
                              "data-test-id": "module-switcher"
                            }, {
                              default: withCtx(() => [
                                (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                  return openBlock(), createBlock(_component_a_select_option, {
                                    key: m.id,
                                    value: m.id
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(m.title) + " ", 1),
                                      createVNode("span", { class: "muted" }, "· " + toDisplayString(m.lessonCount ?? "—") + " " + toDisplayString(t("lessons")), 1)
                                    ]),
                                    _: 2
                                  }, 1032, ["value"]);
                                }), 128))
                              ]),
                              _: 1
                            }, 8, ["value", "disabled"])) : createCommentVNode("", true),
                            createVNode(_component_a_dropdown, { trigger: "click" }, {
                              overlay: withCtx(() => [
                                createVNode(_component_a_menu, null, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_menu_item, {
                                      onClick: ($event) => isDark.value = !isDark.value
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(unref(BulbOutlined)),
                                        createVNode("span", { class: "ml-1" }, toDisplayString(t("Toggle dark")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["onClick"]),
                                    createVNode(_component_a_menu_item, { onClick: _ctx.increaseFont }, {
                                      default: withCtx(() => [
                                        createVNode(unref(FontSizeOutlined)),
                                        createVNode("span", { class: "ml-1" }, toDisplayString(t("Increase font size")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["onClick"]),
                                    createVNode(_component_a_menu_item, { onClick: _ctx.decreaseFont }, {
                                      default: withCtx(() => [
                                        createVNode(unref(FontSizeOutlined)),
                                        createVNode("span", { class: "ml-1" }, toDisplayString(t("Decrease font size")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["onClick"]),
                                    createVNode(_component_a_menu_divider),
                                    createVNode(_component_a_menu_item, {
                                      onClick: ($event) => openShortcuts.value = true
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_KeyboardOutlined),
                                        createVNode("span", { class: "ml-1" }, toDisplayString(t("Keyboard shortcuts")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["onClick"]),
                                    createVNode(_component_a_menu_item, {
                                      onClick: ($event) => openDebug.value = true
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(unref(BugOutlined)),
                                        createVNode("span", { class: "ml-1" }, toDisplayString(t("Debug & mocks")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["onClick"])
                                  ]),
                                  _: 1
                                })
                              ]),
                              default: withCtx(() => [
                                createVNode(_component_a_button, null, {
                                  icon: withCtx(() => [
                                    createVNode(unref(SettingOutlined))
                                  ]),
                                  default: withCtx(() => [
                                    createTextVNode(" " + toDisplayString(t("View")), 1)
                                  ]),
                                  _: 1
                                })
                              ]),
                              _: 1
                            }),
                            createVNode(_component_a_button, {
                              type: "default",
                              onClick: ($event) => openImportExport.value = true
                            }, {
                              icon: withCtx(() => [
                                createVNode(unref(CloudSyncOutlined))
                              ]),
                              default: withCtx(() => [
                                createTextVNode(" " + toDisplayString(t("Import / Export")), 1)
                              ]),
                              _: 1
                            }, 8, ["onClick"]),
                            createVNode(_component_a_tooltip, {
                              title: t("Resume last lesson")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_button, {
                                  type: "primary",
                                  onClick: _ctx.resumeLast,
                                  disabled: !lessons.value.length,
                                  "data-test-id": "resume-button"
                                }, {
                                  icon: withCtx(() => [
                                    createVNode(unref(PlayCircleOutlined))
                                  ]),
                                  default: withCtx(() => [
                                    createTextVNode(" " + toDisplayString(t("Resume")), 1)
                                  ]),
                                  _: 1
                                }, 8, ["onClick", "disabled"])
                              ]),
                              _: 1
                            }, 8, ["title"])
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    }, 8, ["title", "sub-title"]),
                    createVNode(_component_a_layout, null, {
                      default: withCtx(() => [
                        createVNode(_component_a_layout_sider, {
                          width: "320",
                          class: "left-sider",
                          collapsible: "",
                          collapsed: siderCollapsed.value,
                          "onUpdate:collapsed": ($event) => siderCollapsed.value = $event,
                          "collapsed-width": 60,
                          "data-test-id": "left-sider"
                        }, {
                          default: withCtx(() => [
                            createVNode("div", { class: "sider-inner" }, [
                              createVNode("div", {
                                class: "cover",
                                style: coverStyle.value,
                                "data-test-id": "cover"
                              }, [
                                createVNode("div", { class: "cover-gradient" }),
                                !siderCollapsed.value ? (openBlock(), createBlock("div", {
                                  key: 0,
                                  class: "cover-meta"
                                }, [
                                  createVNode("div", { class: "cover-title" }, toDisplayString(course.title || t("Course")), 1),
                                  createVNode("div", { class: "cover-tags" }, [
                                    course.category ? (openBlock(), createBlock(_component_a_tag, {
                                      key: 0,
                                      color: "blue"
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(course.category), 1)
                                      ]),
                                      _: 1
                                    })) : createCommentVNode("", true),
                                    course.difficulty ? (openBlock(), createBlock(_component_a_tag, {
                                      key: 1,
                                      color: "gold"
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(course.difficulty), 1)
                                      ]),
                                      _: 1
                                    })) : createCommentVNode("", true)
                                  ])
                                ])) : createCommentVNode("", true)
                              ], 4),
                              hasModules.value ? (openBlock(), createBlock(_component_a_select, {
                                key: 0,
                                class: "mt-2",
                                size: "small",
                                value: selectedModuleId.value,
                                disabled: loadingModule.value,
                                style: { "width": "100%" },
                                onChange: switchModule,
                                "data-test-id": "module-switcher-mini"
                              }, {
                                default: withCtx(() => [
                                  (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                    return openBlock(), createBlock(_component_a_select_option, {
                                      key: m.id,
                                      value: m.id
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(m.title), 1)
                                      ]),
                                      _: 2
                                    }, 1032, ["value"]);
                                  }), 128))
                                ]),
                                _: 1
                              }, 8, ["value", "disabled"])) : createCommentVNode("", true),
                              createVNode(_component_a_input_search, {
                                value: filter.value,
                                "onUpdate:value": ($event) => filter.value = $event,
                                placeholder: t("Search lessons"),
                                "allow-clear": "",
                                class: "mt-2",
                                "data-test-id": "lesson-search"
                              }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                              !siderCollapsed.value ? (openBlock(), createBlock("div", {
                                key: 1,
                                class: "mt-2"
                              }, [
                                createVNode(_component_a_space, { wrap: "" }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_segmented, {
                                      value: filterType.value,
                                      "onUpdate:value": ($event) => filterType.value = $event,
                                      options: [
                                        { label: t("All"), value: "all" },
                                        { label: t("Video"), value: "video" },
                                        { label: t("Reading"), value: "reading" },
                                        { label: t("Quiz"), value: "quiz" },
                                        { label: t("Assign."), value: "assignment" },
                                        { label: t("Lab"), value: "lab" }
                                      ],
                                      "data-test-id": "type-filter"
                                    }, null, 8, ["value", "onUpdate:value", "options"]),
                                    createVNode(_component_a_checkbox, {
                                      checked: hideCompleted.value,
                                      "onUpdate:checked": ($event) => hideCompleted.value = $event,
                                      "data-test-id": "hide-completed"
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(t("Hide completed")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["checked", "onUpdate:checked"]),
                                    createVNode(_component_a_dropdown, { trigger: "click" }, {
                                      overlay: withCtx(() => [
                                        createVNode(_component_a_menu, {
                                          selectedKeys: sortKeyArr.value,
                                          "onUpdate:selectedKeys": ($event) => sortKeyArr.value = $event,
                                          onClick: onSortChange
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_menu_item, { key: "title" }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Title")), 1)
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_menu_item, { key: "duration" }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Duration")), 1)
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_menu_item, { key: "type" }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Type")), 1)
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        }, 8, ["selectedKeys", "onUpdate:selectedKeys"])
                                      ]),
                                      default: withCtx(() => [
                                        createVNode(_component_a_button, { size: "small" }, {
                                          default: withCtx(() => [
                                            createVNode(unref(SortAscendingOutlined)),
                                            createVNode("span", { class: "ml-1" }, toDisplayString(t("Sort")), 1)
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                })
                              ])) : createCommentVNode("", true),
                              !currentModuleReady.value ? (openBlock(), createBlock(_component_a_empty, {
                                key: 2,
                                description: t("Pick a module to see its lessons"),
                                class: "mt-2"
                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                key: 3,
                                class: "mt-2",
                                size: "small",
                                "data-source": filteredLessons.value,
                                "row-key": (l) => l.id,
                                "data-test-id": "lesson-list"
                              }, {
                                renderItem: withCtx(({ item: l, index: i }) => [
                                  createVNode(_component_a_list_item, {
                                    class: ["lesson-row", currentIndex.value === i && "active"],
                                    onClick: ($event) => select(i),
                                    "data-test-id": `lesson-row-${i}`
                                  }, {
                                    actions: withCtx(() => [
                                      isCompleted(l.id) ? (openBlock(), createBlock(_component_a_tag, {
                                        key: 0,
                                        color: "green"
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Done")), 1)
                                        ]),
                                        _: 1
                                      })) : l.preview ? (openBlock(), createBlock(_component_a_tag, {
                                        key: 2,
                                        color: "cyan"
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Preview")), 1)
                                        ]),
                                        _: 1
                                      })) : createCommentVNode("", true)
                                    ]),
                                    default: withCtx(() => [
                                      createVNode(_component_a_list_item_meta, {
                                        title: l.title || t("Untitled lesson"),
                                        description: (l.type || "—") + (l.duration ? ` · ${l.duration} ${t("min")}` : "")
                                      }, null, 8, ["title", "description"])
                                    ]),
                                    _: 2
                                  }, 1032, ["class", "onClick", "data-test-id"])
                                ]),
                                _: 1
                              }, 8, ["data-source", "row-key"]))
                            ])
                          ]),
                          _: 1
                        }, 8, ["collapsed", "onUpdate:collapsed"]),
                        createVNode(_component_a_layout_content, {
                          class: "content",
                          style: { fontSize: `${fontScale.value}px` },
                          "data-test-id": "content"
                        }, {
                          default: withCtx(() => [
                            !currentModuleReady.value ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                              createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                    default: withCtx(() => [
                                      createTextVNode("Students")
                                    ]),
                                    _: 1
                                  }),
                                  createVNode(_component_a_breadcrumb_item, null, {
                                    default: withCtx(() => [
                                      createTextVNode("Modules")
                                    ]),
                                    _: 1
                                  })
                                ]),
                                _: 1
                              }),
                              createVNode(_component_a_card, {
                                loading: loadingCourse.value,
                                title: t("Course overview"),
                                "data-test-id": "overview-card"
                              }, {
                                default: withCtx(() => [
                                  createVNode("p", { class: "muted" }, toDisplayString(t("Browse modules and jump in — everything runs in this page.")), 1),
                                  !hasModules.value && !loadingCourse.value ? (openBlock(), createBlock(_component_a_empty, {
                                    key: 0,
                                    description: t("No modules yet")
                                  }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_row, {
                                    key: 1,
                                    gutter: 16
                                  }, {
                                    default: withCtx(() => [
                                      (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                        return openBlock(), createBlock(_component_a_col, {
                                          key: m.id,
                                          xs: 24,
                                          sm: 12,
                                          md: 8
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Students")
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_breadcrumb_item, null, {
                                                  default: withCtx(() => [
                                                    createTextVNode("Modules")
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }),
                                            createVNode(_component_a_card, {
                                              hoverable: "",
                                              class: "mt-2",
                                              onClick: ($event) => switchModule(m.id),
                                              "data-test-id": "module-card"
                                            }, {
                                              default: withCtx(() => [
                                                createVNode("b", null, toDisplayString(m.title), 1),
                                                createVNode("div", { class: "muted" }, [
                                                  createTextVNode(toDisplayString(m.lessonCount ?? 0) + " " + toDisplayString(t("lessons")) + " ", 1),
                                                  m.minutes ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                    createTextVNode(" · ~" + toDisplayString(m.minutes) + " " + toDisplayString(t("min")), 1)
                                                  ], 64)) : createCommentVNode("", true)
                                                ])
                                              ]),
                                              _: 2
                                            }, 1032, ["onClick"])
                                          ]),
                                          _: 2
                                        }, 1024);
                                      }), 128))
                                    ]),
                                    _: 1
                                  })),
                                  createVNode(_component_a_divider),
                                  !isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                    key: 2,
                                    class: "enroll-cta"
                                  }, [
                                    createVNode(_component_a_result, {
                                      status: "info",
                                      title: t("Enroll to unlock full access"),
                                      "sub-title": t("You can still watch previews and read public materials.")
                                    }, {
                                      extra: withCtx(() => [
                                        createVNode(_component_a_space, null, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, {
                                              type: "primary",
                                              onClick: _ctx.mockEnroll
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Enroll now")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"]),
                                            createVNode(_component_a_button, {
                                              onClick: ($event) => openPricing.value = true
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("See pricing")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"])
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }, 8, ["title", "sub-title"])
                                  ])) : createCommentVNode("", true)
                                ]),
                                _: 1
                              }, 8, ["loading", "title"])
                            ], 64)) : (openBlock(), createBlock(_component_a_spin, {
                              key: 1,
                              spinning: loadingModule.value
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                      default: withCtx(() => [
                                        createTextVNode("Students")
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_breadcrumb_item, null, {
                                      default: withCtx(() => [
                                        createTextVNode("Modules")
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                }),
                                currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                  key: 0,
                                  title: currentLesson.value.title || t("Lesson"),
                                  "data-test-id": "lesson-card"
                                }, {
                                  extra: withCtx(() => [
                                    createVNode(_component_a_space, null, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_tag, null, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString((currentLesson.value.type || "").toUpperCase()), 1)
                                          ]),
                                          _: 1
                                        }),
                                        currentLesson.value.preview ? (openBlock(), createBlock(_component_a_tag, {
                                          key: 0,
                                          color: "cyan"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Preview")), 1)
                                          ]),
                                          _: 1
                                        })) : createCommentVNode("", true),
                                        createVNode("span", { class: "muted" }, [
                                          createVNode(unref(FieldTimeOutlined)),
                                          createTextVNode(" " + toDisplayString(currentLesson.value.duration || 0) + " " + toDisplayString(t("min")), 1)
                                        ]),
                                        createVNode(_component_a_tooltip, {
                                          title: t("Bookmark current lesson")
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, {
                                              size: "small",
                                              onClick: _ctx.bookmarkCurrent,
                                              "data-test-id": "bookmark-btn"
                                            }, {
                                              icon: withCtx(() => [
                                                createVNode(unref(BookOutlined))
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"])
                                          ]),
                                          _: 1
                                        }, 8, ["title"]),
                                        createVNode(_component_a_tooltip, {
                                          title: t("Print lesson")
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, {
                                              size: "small",
                                              onClick: _ctx.printLesson
                                            }, {
                                              icon: withCtx(() => [
                                                createVNode(unref(PrinterOutlined))
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"])
                                          ]),
                                          _: 1
                                        }, 8, ["title"])
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  default: withCtx(() => [
                                    isLocked(currentLesson.value) ? (openBlock(), createBlock(_component_a_result, {
                                      key: 0,
                                      status: "warning",
                                      title: t("This lesson is locked"),
                                      "data-test-id": "locked-result"
                                    }, {
                                      subTitle: withCtx(() => [
                                        createVNode("div", { class: "muted" }, [
                                          currentLesson.value.prerequisites?.length ? (openBlock(), createBlock("div", { key: 0 }, [
                                            createTextVNode(toDisplayString(t("Complete prerequisite lesson(s):")) + " ", 1),
                                            createVNode("ul", { class: "mt-1" }, [
                                              (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.prerequisites, (pid) => {
                                                return openBlock(), createBlock("li", { key: pid }, [
                                                  createVNode("span", {
                                                    class: ["preq", isCompleted(pid) && "ok"]
                                                  }, [
                                                    createTextVNode(toDisplayString(labelForLesson(pid) || pid) + " ", 1),
                                                    isCompleted(pid) ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                      createTextVNode(" ✓")
                                                    ], 64)) : createCommentVNode("", true)
                                                  ], 2)
                                                ]);
                                              }), 128))
                                            ])
                                          ])) : createCommentVNode("", true),
                                          unlockAtDate(currentLesson.value) ? (openBlock(), createBlock("div", { key: 1 }, toDisplayString(t("Unlocks at:")) + " " + toDisplayString(unlockAtDate(currentLesson.value)), 1)) : createCommentVNode("", true)
                                        ])
                                      ]),
                                      extra: withCtx(() => [
                                        createVNode(_component_a_space, null, {
                                          default: withCtx(() => [
                                            !isEnrolledCourse.value ? (openBlock(), createBlock(_component_a_button, {
                                              key: 0,
                                              type: "primary",
                                              onClick: _ctx.mockEnroll
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Enroll")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"])) : (openBlock(), createBlock(_component_a_button, {
                                              key: 1,
                                              onClick: _ctx.resumeLast
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Go to next available")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"]))
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }, 8, ["title"])) : (openBlock(), createBlock(Fragment, { key: 1 }, [
                                      currentLesson.value.type === "video" ? (openBlock(), createBlock("div", { key: 0 }, [
                                        createVNode("div", { class: "video-controls" }, [
                                          createVNode(_component_a_space, null, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_segmented, {
                                                value: videoSpeed.value,
                                                "onUpdate:value": ($event) => videoSpeed.value = $event,
                                                options: [0.75, 1, 1.25, 1.5, 1.75, 2].map((v) => ({ label: `${v}x`, value: v })),
                                                "data-test-id": "video-speed"
                                              }, null, 8, ["value", "onUpdate:value", "options"]),
                                              createVNode(_component_a_button, {
                                                size: "small",
                                                onClick: _ctx.bookmarkTimestamp,
                                                "data-test-id": "bookmark-ts"
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(unref(ClockCircleOutlined)),
                                                  createTextVNode(" " + toDisplayString(t("Bookmark timestamp")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"])
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        ytEmbed(currentLesson.value.videoUrl) ? (openBlock(), createBlock("div", {
                                          key: 0,
                                          class: "video-wrap"
                                        }, [
                                          createVNode("iframe", {
                                            src: ytEmbed(currentLesson.value.videoUrl),
                                            frameborder: "0",
                                            allowfullscreen: "",
                                            "data-test-id": "yt-iframe"
                                          }, null, 8, ["src"])
                                        ])) : (openBlock(), createBlock("div", {
                                          key: 1,
                                          class: "video-fallback"
                                        }, [
                                          createVNode(_component_a_typography_paragraph, null, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Video URL:")) + " ", 1),
                                              createVNode("a", {
                                                href: currentLesson.value.videoUrl,
                                                target: "_blank"
                                              }, toDisplayString(currentLesson.value.videoUrl || "—"), 9, ["href"])
                                            ]),
                                            _: 1
                                          }),
                                          currentLesson.value.videoUrl ? (openBlock(), createBlock("video", {
                                            key: 0,
                                            ref_key: "html5Video",
                                            ref: html5Video,
                                            controls: "",
                                            onRatechange: _ctx.syncVideoSpeed,
                                            playbackRate: videoSpeed.value,
                                            style: { "width": "100%", "border-radius": "10px" },
                                            "data-test-id": "html5-video"
                                          }, [
                                            createVNode("source", {
                                              src: currentLesson.value.videoUrl,
                                              type: "video/mp4"
                                            }, null, 8, ["src"])
                                          ], 40, ["onRatechange", "playbackRate"])) : createCommentVNode("", true)
                                        ])),
                                        createVNode(_component_a_divider, null, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Notes")), 1)
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(currentLesson.value.content), 1)
                                          ]),
                                          _: 1
                                        })
                                      ])) : currentLesson.value.type === "reading" ? (openBlock(), createBlock("div", { key: 1 }, [
                                        createVNode(_component_a_collapse, {
                                          bordered: false,
                                          class: "reading-collapse"
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_collapse_panel, {
                                              key: "content",
                                              header: t("Lesson content")
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(currentLesson.value.content || t("No content")), 1)
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }, 8, ["header"]),
                                            createVNode(_component_a_collapse_panel, {
                                              key: "highlights",
                                              header: t("Highlights")
                                            }, {
                                              default: withCtx(() => [
                                                !notes[currentLesson.value.id]?.highlights?.length ? (openBlock(), createBlock(_component_a_empty, {
                                                  key: 0,
                                                  description: t("No highlights")
                                                }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                  key: 1,
                                                  "data-source": notes[currentLesson.value.id].highlights,
                                                  size: "small"
                                                }, {
                                                  renderItem: withCtx(({ item }) => [
                                                    createVNode(_component_a_list_item, null, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(item), 1)
                                                      ]),
                                                      _: 2
                                                    }, 1024)
                                                  ]),
                                                  _: 1
                                                }, 8, ["data-source"]))
                                              ]),
                                              _: 1
                                            }, 8, ["header"])
                                          ]),
                                          _: 1
                                        })
                                      ])) : currentLesson.value.type === "assignment" ? (openBlock(), createBlock("div", { key: 2 }, [
                                        createVNode(_component_a_alert, {
                                          type: "info",
                                          "show-icon": "",
                                          message: t("Assignment brief"),
                                          class: "mb-1"
                                        }, null, 8, ["message"]),
                                        createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(currentLesson.value.content || t("No brief")), 1)
                                          ]),
                                          _: 1
                                        }),
                                        currentLesson.value.rubric ? (openBlock(), createBlock(_component_a_alert, {
                                          key: 0,
                                          type: "success",
                                          "show-icon": "",
                                          message: t("Rubric"),
                                          description: currentLesson.value.rubric
                                        }, null, 8, ["message", "description"])) : createCommentVNode("", true),
                                        createVNode(_component_a_divider),
                                        createVNode(_component_a_space, null, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, {
                                              type: "primary",
                                              onClick: _ctx.openSubmitDrawer,
                                              "data-test-id": "open-submit-drawer"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Submit assignment")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"]),
                                            createVNode(_component_a_button, {
                                              onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                              disabled: isCompleted(currentLesson.value.id)
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Mark complete")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "disabled"])
                                          ]),
                                          _: 1
                                        })
                                      ])) : currentLesson.value.type === "quiz" ? (openBlock(), createBlock("div", { key: 3 }, [
                                        createVNode(_component_a_alert, {
                                          type: "info",
                                          "show-icon": "",
                                          message: t("Answer the questions and submit."),
                                          class: "mb-2"
                                        }, null, 8, ["message"]),
                                        (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.quiz?.questions || [], (q, qi) => {
                                          return openBlock(), createBlock("div", {
                                            key: q.id,
                                            class: "quiz-q"
                                          }, [
                                            createVNode("b", null, "Q" + toDisplayString(qi + 1), 1),
                                            createTextVNode(": " + toDisplayString(q.text || t("(empty)")) + " ", 1),
                                            q.type === "mcq" ? (openBlock(), createBlock("div", {
                                              key: 0,
                                              class: "mt-1"
                                            }, [
                                              createVNode(_component_a_checkbox_group, {
                                                value: _ctx.quizState[q.id],
                                                "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                options: (q.options || []).map((o, oi) => ({ label: o.text || `${t("Option")} ${oi + 1}`, value: oi })),
                                                "data-test-id": "quiz-mcq"
                                              }, null, 8, ["value", "onUpdate:value", "options"])
                                            ])) : q.type === "tf" ? (openBlock(), createBlock("div", {
                                              key: 1,
                                              class: "mt-1"
                                            }, [
                                              createVNode(_component_a_radio_group, {
                                                value: _ctx.quizState[q.id],
                                                "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                "data-test-id": "quiz-tf"
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_radio, { value: true }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("True")), 1)
                                                    ]),
                                                    _: 1
                                                  }),
                                                  createVNode(_component_a_radio, { value: false }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(t("False")), 1)
                                                    ]),
                                                    _: 1
                                                  })
                                                ]),
                                                _: 1
                                              }, 8, ["value", "onUpdate:value"])
                                            ])) : (openBlock(), createBlock("div", {
                                              key: 2,
                                              class: "mt-1"
                                            }, [
                                              createVNode(_component_a_input, {
                                                value: _ctx.quizState[q.id],
                                                "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                                placeholder: t("Your answer"),
                                                "data-test-id": "quiz-short"
                                              }, null, 8, ["value", "onUpdate:value", "placeholder"])
                                            ])),
                                            createVNode(_component_a_divider, { class: "my-1" })
                                          ]);
                                        }), 128)),
                                        createVNode(_component_a_space, null, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, {
                                              type: "primary",
                                              onClick: _ctx.submitQuiz,
                                              loading: _ctx.quizSubmitting,
                                              "data-test-id": "submit-quiz"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Submit quiz")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "loading"]),
                                            createVNode(_component_a_button, {
                                              onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                              disabled: isCompleted(currentLesson.value.id)
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Mark complete")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "disabled"])
                                          ]),
                                          _: 1
                                        })
                                      ])) : currentLesson.value.type === "lab" ? (openBlock(), createBlock("div", { key: 4 }, [
                                        createVNode(_component_a_alert, {
                                          type: "info",
                                          "show-icon": "",
                                          message: t("Interactive lab"),
                                          description: t("Your lab environment opens in a new tab/window."),
                                          class: "mb-2"
                                        }, null, 8, ["message", "description"]),
                                        labChallenges[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                          key: 0,
                                          size: "small",
                                          class: "mb-2"
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_descriptions, {
                                              bordered: "",
                                              size: "small",
                                              column: 1
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_descriptions_item, {
                                                  label: t("Challenge")
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].title), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"]),
                                                createVNode(_component_a_descriptions_item, {
                                                  label: t("Difficulty")
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].difficulty), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"]),
                                                labChallenges[currentLesson.value.id].description ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                  key: 0,
                                                  label: t("Description")
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].description), 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"])) : createCommentVNode("", true)
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        })) : createCommentVNode("", true),
                                        labSessions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                          key: 1,
                                          size: "small",
                                          class: "mb-2"
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_descriptions, {
                                              bordered: "",
                                              size: "small",
                                              column: 1
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_descriptions_item, {
                                                  label: t("Session status")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_tag, {
                                                      color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["color"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"]),
                                                labSessions[currentLesson.value.id].codeServerUrl ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                  key: 0,
                                                  label: t("VS Code URL")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode("a", {
                                                      href: labSessions[currentLesson.value.id].codeServerUrl,
                                                      target: "_blank"
                                                    }, toDisplayString(labSessions[currentLesson.value.id].codeServerUrl), 9, ["href"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"])) : createCommentVNode("", true)
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        })) : createCommentVNode("", true),
                                        labSubmissions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                          key: 2,
                                          size: "small",
                                          class: "mb-2"
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_descriptions, {
                                              bordered: "",
                                              size: "small",
                                              column: 1
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_descriptions_item, {
                                                  label: t("Latest submission")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_tag, {
                                                      color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                    }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                      ]),
                                                      _: 1
                                                    }, 8, ["color"])
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"]),
                                                labSubmissions[currentLesson.value.id].gradePct != null ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                  key: 0,
                                                  label: t("Grade")
                                                }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].gradePct) + "% ", 1)
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"])) : createCommentVNode("", true),
                                                labSubmissions[currentLesson.value.id].feedback ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                  key: 1,
                                                  label: t("Feedback")
                                                }, {
                                                  default: withCtx(() => [
                                                    createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                      default: withCtx(() => [
                                                        createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                      ]),
                                                      _: 1
                                                    })
                                                  ]),
                                                  _: 1
                                                }, 8, ["label"])) : createCommentVNode("", true)
                                              ]),
                                              _: 1
                                            })
                                          ]),
                                          _: 1
                                        })) : createCommentVNode("", true),
                                        createVNode(_component_a_space, { wrap: "" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, {
                                              type: "primary",
                                              onClick: ($event) => openLab(currentLesson.value),
                                              loading: labSessionStarting[currentLesson.value.id],
                                              disabled: labSessionStarting[currentLesson.value.id],
                                              "data-test-id": "open-lab"
                                            }, createSlots({
                                              default: withCtx(() => [
                                                createTextVNode(" " + toDisplayString(labSessions[currentLesson.value.id]?.codeServerUrl ? t("Open VS Code") : t("Start lab session")), 1)
                                              ]),
                                              _: 2
                                            }, [
                                              labSessions[currentLesson.value.id]?.codeServerUrl ? {
                                                name: "icon",
                                                fn: withCtx(() => [
                                                  createVNode(unref(CodeOutlined))
                                                ]),
                                                key: "0"
                                              } : void 0
                                            ]), 1032, ["onClick", "loading", "disabled"]),
                                            labSessions[currentLesson.value.id]?.codeServerUrl ? (openBlock(), createBlock(_component_a_button, {
                                              key: 0,
                                              onClick: ($event) => openLabUrl(currentLesson.value),
                                              disabled: !labSessions[currentLesson.value.id]?.codeServerUrl,
                                              "data-test-id": "open-lab-url"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Open in new tab")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "disabled"])) : createCommentVNode("", true),
                                            createVNode(_component_a_button, {
                                              type: "default",
                                              onClick: ($event) => submitLab(currentLesson.value),
                                              loading: labSubmitting[currentLesson.value.id],
                                              disabled: labSubmitting[currentLesson.value.id] || !labSessions[currentLesson.value.id] || labSessions[currentLesson.value.id].status !== "running" && labSessions[currentLesson.value.id].status !== "starting",
                                              "data-test-id": "submit-lab"
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Submit lab")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "loading", "disabled"]),
                                            labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                              key: 1,
                                              onClick: ($event) => refreshLabContainer(currentLesson.value),
                                              loading: labRefreshing[currentLesson.value.id],
                                              disabled: labRefreshing[currentLesson.value.id],
                                              "data-test-id": "refresh-lab"
                                            }, {
                                              icon: withCtx(() => [
                                                createVNode(unref(CloudSyncOutlined))
                                              ]),
                                              default: withCtx(() => [
                                                createTextVNode(" " + toDisplayString(t("Update container with saved code")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                            labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                              key: 2,
                                              onClick: ($event) => restartLab(currentLesson.value),
                                              loading: labRestarting[currentLesson.value.id],
                                              disabled: labRestarting[currentLesson.value.id]
                                            }, {
                                              icon: withCtx(() => [
                                                createVNode(unref(ReloadOutlined))
                                              ]),
                                              default: withCtx(() => [
                                                createTextVNode(" " + toDisplayString(t("Restart lab")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                            createVNode(_component_a_button, {
                                              onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                              disabled: isCompleted(currentLesson.value.id)
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Mark complete")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "disabled"])
                                          ]),
                                          _: 1
                                        })
                                      ])) : (openBlock(), createBlock("div", { key: 5 }, [
                                        createVNode(_component_a_typography_text, { type: "secondary" }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Unsupported lesson type.")), 1)
                                          ]),
                                          _: 1
                                        })
                                      ]))
                                    ], 64)),
                                    createVNode(_component_a_divider),
                                    createVNode(_component_a_form, {
                                      layout: "vertical",
                                      class: "mt-2",
                                      onFinish: withModifiers(() => {
                                      }, ["prevent"])
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_form_item, {
                                          label: t("Your notes for this lesson")
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_textarea, {
                                              value: ensureNoteForLesson(currentLesson.value.id).text,
                                              "onUpdate:value": ($event) => ensureNoteForLesson(currentLesson.value.id).text = $event,
                                              rows: 4,
                                              onChange: ($event) => _ctx.persistNotes(currentLesson.value.id),
                                              "data-test-id": "lesson-notes"
                                            }, null, 8, ["value", "onUpdate:value", "onChange"])
                                          ]),
                                          _: 1
                                        }, 8, ["label"])
                                      ]),
                                      _: 1
                                    }, 8, ["onFinish"]),
                                    createVNode("div", { class: "nav-actions" }, [
                                      createVNode(_component_a_space, { wrap: "" }, {
                                        default: withCtx(() => [
                                          currentLesson.value ? (openBlock(), createBlock(_component_a_button, {
                                            key: 0,
                                            type: isCompleted(currentLesson.value.id) ? "default" : "primary",
                                            onClick: ($event) => _ctx.toggleComplete(currentLesson.value),
                                            "data-test-id": "toggle-complete"
                                          }, {
                                            icon: withCtx(() => [
                                              createVNode(unref(CheckOutlined))
                                            ]),
                                            default: withCtx(() => [
                                              createTextVNode(" " + toDisplayString(isCompleted(currentLesson.value.id) ? t("Mark as incomplete") : t("Mark as complete")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["type", "onClick"])) : createCommentVNode("", true),
                                          createVNode(_component_a_button, {
                                            onClick: _ctx.prevLesson,
                                            disabled: currentIndex.value <= 0,
                                            "data-test-id": "prev-lesson"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Previous")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "disabled"]),
                                          createVNode(_component_a_button, {
                                            type: "primary",
                                            onClick: _ctx.nextLesson,
                                            disabled: currentIndex.value >= lessons.value.length - 1,
                                            "data-test-id": "next-lesson"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Next")) + " ", 1),
                                              createVNode(unref(ArrowRightOutlined))
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "disabled"]),
                                          createVNode(_component_a_checkbox, {
                                            checked: autoNext.value,
                                            "onUpdate:checked": ($event) => autoNext.value = $event,
                                            class: "ml-2",
                                            "data-test-id": "auto-next"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Auto-next on complete")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["checked", "onUpdate:checked"])
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_rate, {
                                        value: ratings[currentLesson.value.id],
                                        "onUpdate:value": ($event) => ratings[currentLesson.value.id] = $event,
                                        "allow-half": "",
                                        onChange: _ctx.persistRatings
                                      }, null, 8, ["value", "onUpdate:value", "onChange"])
                                    ])
                                  ]),
                                  _: 1
                                }, 8, ["title"])) : (openBlock(), createBlock(_component_a_empty, {
                                  key: 1,
                                  description: t("No lessons found")
                                }, null, 8, ["description"]))
                              ]),
                              _: 1
                            }, 8, ["spinning"]))
                          ]),
                          _: 1
                        }, 8, ["style"]),
                        createVNode(_component_a_layout_sider, {
                          width: "320",
                          class: "right-sider",
                          collapsible: "",
                          collapsed: rightCollapsed.value,
                          "onUpdate:collapsed": ($event) => rightCollapsed.value = $event,
                          "collapsed-width": 60,
                          "data-test-id": "right-sider"
                        }, {
                          default: withCtx(() => [
                            createVNode("div", { class: "right-inner" }, [
                              createVNode(_component_a_tabs, {
                                activeKey: rightTab.value,
                                "onUpdate:activeKey": ($event) => rightTab.value = $event,
                                size: "small",
                                animated: false
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_tab_pane, {
                                    key: "progress",
                                    tab: t("Progress"),
                                    "data-test-id": "tab-progress"
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx(() => [
                                              createTextVNode("Students")
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_breadcrumb_item, null, {
                                            default: withCtx(() => [
                                              createTextVNode("Modules")
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_card, {
                                        size: "small",
                                        title: t("Progress"),
                                        bordered: false,
                                        "body-style": "padding:0;"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_steps, {
                                            size: "small",
                                            direction: "vertical",
                                            current: currentIndex.value
                                          }, {
                                            default: withCtx(() => [
                                              (openBlock(true), createBlock(Fragment, null, renderList(lessons.value, (l, i) => {
                                                return openBlock(), createBlock(_component_a_step, {
                                                  key: l.id,
                                                  title: l.title || `${t("Lesson")} ${i + 1}`,
                                                  description: l.duration ? `${l.duration} ${t("min")}` : "",
                                                  status: isCompleted(l.id) ? "finish" : i === currentIndex.value ? "process" : "wait"
                                                }, null, 8, ["title", "description", "status"]);
                                              }), 128))
                                            ]),
                                            _: 1
                                          }, 8, ["current"])
                                        ]),
                                        _: 1
                                      }, 8, ["title"])
                                    ]),
                                    _: 1
                                  }, 8, ["tab"]),
                                  createVNode(_component_a_tab_pane, {
                                    key: "resources",
                                    tab: t("Resources")
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx(() => [
                                              createTextVNode("Students")
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_breadcrumb_item, null, {
                                            default: withCtx(() => [
                                              createTextVNode("Modules")
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }),
                                      currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                        key: 0,
                                        size: "small",
                                        title: t("Resources"),
                                        class: "mt-2"
                                      }, {
                                        default: withCtx(() => [
                                          isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                            key: 0,
                                            class: "mb-1"
                                          }, [
                                            createVNode(_component_a_button, {
                                              size: "small",
                                              type: "primary",
                                              onClick: ($event) => addLessonShare("resource"),
                                              loading: shareUploading.resource
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Add resource")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "loading"])
                                          ])) : createCommentVNode("", true),
                                          !combinedResources.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                            key: 1,
                                            description: t("No resources")
                                          }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                            key: 2,
                                            size: "small",
                                            "data-source": combinedResources.value
                                          }, {
                                            renderItem: withCtx(({ item }) => [
                                              createVNode(_component_a_list_item, null, {
                                                default: withCtx(() => [
                                                  createVNode("a", {
                                                    href: item.url,
                                                    target: "_blank"
                                                  }, toDisplayString(item.title || item.name || t("Resource")), 9, ["href"])
                                                ]),
                                                _: 2
                                              }, 1024)
                                            ]),
                                            _: 1
                                          }, 8, ["data-source"]))
                                        ]),
                                        _: 1
                                      }, 8, ["title"])) : createCommentVNode("", true),
                                      createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx(() => [
                                              createTextVNode("Students")
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_breadcrumb_item, null, {
                                            default: withCtx(() => [
                                              createTextVNode("Modules")
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }),
                                      currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                        key: 1,
                                        size: "small",
                                        class: "mt-2",
                                        title: t("Attachments")
                                      }, {
                                        default: withCtx(() => [
                                          isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                            key: 0,
                                            class: "mb-1"
                                          }, [
                                            createVNode(_component_a_button, {
                                              size: "small",
                                              type: "primary",
                                              onClick: ($event) => addLessonShare("attachment"),
                                              loading: shareUploading.attachment
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Add attachment")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "loading"])
                                          ])) : createCommentVNode("", true),
                                          !combinedAttachments.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                            key: 1,
                                            description: t("No attachments")
                                          }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                            key: 2,
                                            size: "small",
                                            "data-source": combinedAttachments.value
                                          }, {
                                            renderItem: withCtx(({ item }) => [
                                              createVNode(_component_a_list_item, null, {
                                                default: withCtx(() => [
                                                  createVNode("a", {
                                                    href: item.url,
                                                    target: "_blank"
                                                  }, toDisplayString(item.name || t("Attachment")), 9, ["href"])
                                                ]),
                                                _: 2
                                              }, 1024)
                                            ]),
                                            _: 1
                                          }, 8, ["data-source"]))
                                        ]),
                                        _: 1
                                      }, 8, ["title"])) : createCommentVNode("", true)
                                    ]),
                                    _: 1
                                  }, 8, ["tab"]),
                                  createVNode(_component_a_tab_pane, {
                                    key: "notes",
                                    tab: t("Notes")
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx(() => [
                                              createTextVNode("Students")
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_breadcrumb_item, null, {
                                            default: withCtx(() => [
                                              createTextVNode("Modules")
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_card, {
                                        size: "small",
                                        title: t("Your notes"),
                                        class: "mt-2"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_form, {
                                            layout: "vertical",
                                            onFinish: withModifiers(() => {
                                            }, ["prevent"])
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_form_item, {
                                                label: t("Lesson notes")
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_textarea, {
                                                    value: notes[currentLesson.value?.id || "global"].text,
                                                    "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                    rows: 6,
                                                    onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                    "data-test-id": "notes-right"
                                                  }, null, 8, ["value", "onUpdate:value", "onChange"])
                                                ]),
                                                _: 1
                                              }, 8, ["label"]),
                                              createVNode(_component_a_form_item, {
                                                label: t("Highlights")
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_input_search, {
                                                    value: newHighlight.value,
                                                    "onUpdate:value": ($event) => newHighlight.value = $event,
                                                    placeholder: t("Type highlight and press +"),
                                                    "enter-button": "+",
                                                    onSearch: _ctx.addHighlight
                                                  }, null, 8, ["value", "onUpdate:value", "placeholder", "onSearch"]),
                                                  !notes[currentLesson.value?.id || "global"].highlights.length ? (openBlock(), createBlock(_component_a_empty, {
                                                    key: 0,
                                                    description: t("No highlights"),
                                                    class: "mt-1"
                                                  }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                    key: 1,
                                                    "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                    size: "small",
                                                    class: "mt-1"
                                                  }, {
                                                    renderItem: withCtx(({ item, index }) => [
                                                      createVNode(_component_a_list_item, null, {
                                                        default: withCtx(() => [
                                                          createVNode(_component_a_space, null, {
                                                            default: withCtx(() => [
                                                              createVNode("span", null, toDisplayString(item), 1),
                                                              createVNode(_component_a_button, {
                                                                size: "small",
                                                                onClick: ($event) => _ctx.removeHighlight(index)
                                                              }, {
                                                                default: withCtx(() => [
                                                                  createTextVNode(toDisplayString(t("Remove")), 1)
                                                                ]),
                                                                _: 1
                                                              }, 8, ["onClick"])
                                                            ]),
                                                            _: 2
                                                          }, 1024)
                                                        ]),
                                                        _: 2
                                                      }, 1024)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["data-source"]))
                                                ]),
                                                _: 1
                                              }, 8, ["label"])
                                            ]),
                                            _: 1
                                          }, 8, ["onFinish"])
                                        ]),
                                        _: 1
                                      }, 8, ["title"])
                                    ]),
                                    _: 1
                                  }, 8, ["tab"]),
                                  createVNode(_component_a_tab_pane, {
                                    key: "qa",
                                    tab: t("Q&A")
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx(() => [
                                              createTextVNode("Students")
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_breadcrumb_item, null, {
                                            default: withCtx(() => [
                                              createTextVNode("Modules")
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_card, {
                                        size: "small",
                                        title: t("Questions & Answers"),
                                        class: "mt-2"
                                      }, {
                                        default: withCtx(() => [
                                          (openBlock(true), createBlock(Fragment, null, renderList(_ctx.qaForCurrent, (c) => {
                                            return openBlock(), createBlock(_component_a_comment, {
                                              key: c.id,
                                              author: c.author,
                                              content: c.text,
                                              datetime: c.when
                                            }, {
                                              avatar: withCtx(() => [
                                                createVNode(_component_a_avatar, {
                                                  src: c.avatar
                                                }, null, 8, ["src"])
                                              ]),
                                              _: 2
                                            }, 1032, ["author", "content", "datetime"]);
                                          }), 128)),
                                          createVNode(_component_a_divider),
                                          createVNode(_component_a_input_textarea, {
                                            value: qaDraft.value,
                                            "onUpdate:value": ($event) => qaDraft.value = $event,
                                            rows: 3,
                                            placeholder: t("Ask a question"),
                                            "data-test-id": "qa-input"
                                          }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                                          createVNode(_component_a_space, { class: "mt-1" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_button, {
                                                size: "small",
                                                onClick: _ctx.submitQA,
                                                disabled: !qaDraft.value.trim()
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Post")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick", "disabled"]),
                                              createVNode(_component_a_button, {
                                                size: "small",
                                                onClick: ($event) => qaDraft.value = ""
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(t("Clear")), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["onClick"])
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }, 8, ["title"])
                                    ]),
                                    _: 1
                                  }, 8, ["tab"]),
                                  createVNode(_component_a_tab_pane, {
                                    key: "bookmarks",
                                    tab: t("Bookmarks")
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                            default: withCtx(() => [
                                              createTextVNode("Students")
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_breadcrumb_item, null, {
                                            default: withCtx(() => [
                                              createTextVNode("Modules")
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_card, {
                                        size: "small",
                                        title: t("Bookmarks"),
                                        class: "mt-2"
                                      }, {
                                        default: withCtx(() => [
                                          !bookmarks.length ? (openBlock(), createBlock(_component_a_empty, {
                                            key: 0,
                                            description: t("No bookmarks yet")
                                          }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                            key: 1,
                                            "data-source": bookmarks,
                                            size: "small"
                                          }, {
                                            renderItem: withCtx(({ item, index }) => [
                                              createVNode(_component_a_list_item, {
                                                actions: [
                                                  h("a", { onClick: () => _ctx.jumpToBookmark(item) }, t("Go")),
                                                  h("a", { onClick: () => _ctx.removeBookmark(index) }, t("Remove"))
                                                ]
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_list_item_meta, {
                                                    title: item.title,
                                                    description: item.description
                                                  }, null, 8, ["title", "description"])
                                                ]),
                                                _: 2
                                              }, 1032, ["actions"])
                                            ]),
                                            _: 1
                                          }, 8, ["data-source"]))
                                        ]),
                                        _: 1
                                      }, 8, ["title"])
                                    ]),
                                    _: 1
                                  }, 8, ["tab"])
                                ]),
                                _: 1
                              }, 8, ["activeKey", "onUpdate:activeKey"])
                            ])
                          ]),
                          _: 1
                        }, 8, ["collapsed", "onUpdate:collapsed"])
                      ]),
                      _: 1
                    }),
                    createVNode(_component_a_drawer, {
                      open: submitOpen.value,
                      "onUpdate:open": ($event) => submitOpen.value = $event,
                      title: t("Submit assignment"),
                      placement: "right",
                      width: "420",
                      "data-test-id": "submit-drawer"
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form, {
                          layout: "vertical",
                          onFinish: _ctx.submitAssignment
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_form_item, {
                              label: t("Notes")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_textarea, {
                                  value: submitForm.notes,
                                  "onUpdate:value": ($event) => submitForm.notes = $event,
                                  rows: 4
                                }, null, 8, ["value", "onUpdate:value"])
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_form_item, {
                              label: t("Link to work (URL)")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_input, {
                                  value: submitForm.url,
                                  "onUpdate:value": ($event) => submitForm.url = $event,
                                  placeholder: "https://…"
                                }, null, 8, ["value", "onUpdate:value"])
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_form_item, {
                              label: t("Attach files (mock)")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_upload, {
                                  "before-upload": () => false,
                                  multiple: ""
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_button, null, {
                                      default: withCtx(() => [
                                        createVNode(unref(UploadOutlined)),
                                        createTextVNode(" " + toDisplayString(t("Click to attach")), 1)
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                })
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_space, null, {
                              default: withCtx(() => [
                                createVNode(_component_a_button, {
                                  onClick: ($event) => submitOpen.value = false
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode(toDisplayString(t("Cancel")), 1)
                                  ]),
                                  _: 1
                                }, 8, ["onClick"]),
                                createVNode(_component_a_button, {
                                  type: "primary",
                                  "html-type": "submit",
                                  loading: submitting.value
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode(toDisplayString(t("Submit")), 1)
                                  ]),
                                  _: 1
                                }, 8, ["loading"])
                              ]),
                              _: 1
                            })
                          ]),
                          _: 1
                        }, 8, ["onFinish"])
                      ]),
                      _: 1
                    }, 8, ["open", "onUpdate:open", "title"]),
                    createVNode(_component_a_modal, {
                      open: openImportExport.value,
                      "onUpdate:open": ($event) => openImportExport.value = $event,
                      title: t("Import / Export progress"),
                      footer: null,
                      width: "720"
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_row, { gutter: 16 }, {
                          default: withCtx(() => [
                            createVNode(_component_a_col, { span: 12 }, {
                              default: withCtx(() => [
                                createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                      default: withCtx(() => [
                                        createTextVNode("Students")
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_breadcrumb_item, null, {
                                      default: withCtx(() => [
                                        createTextVNode("Modules")
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_card, {
                                  title: t("Export"),
                                  size: "small"
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_typography_paragraph, null, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(t("Download your progress as JSON.")), 1)
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_button, {
                                      type: "primary",
                                      onClick: _ctx.exportProgress
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(t("Export JSON")), 1)
                                      ]),
                                      _: 1
                                    }, 8, ["onClick"])
                                  ]),
                                  _: 1
                                }, 8, ["title"])
                              ]),
                              _: 1
                            }),
                            createVNode(_component_a_col, { span: 12 }, {
                              default: withCtx(() => [
                                createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                      default: withCtx(() => [
                                        createTextVNode("Students")
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_breadcrumb_item, null, {
                                      default: withCtx(() => [
                                        createTextVNode("Modules")
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_card, {
                                  title: t("Import"),
                                  size: "small"
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_typography_paragraph, null, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(t("Paste JSON below and import.")), 1)
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_textarea, {
                                      value: importJson.value,
                                      "onUpdate:value": ($event) => importJson.value = $event,
                                      rows: 8
                                    }, null, 8, ["value", "onUpdate:value"]),
                                    createVNode(_component_a_space, { class: "mt-1" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_button, {
                                          onClick: ($event) => importJson.value = ""
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Clear")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["onClick"]),
                                        createVNode(_component_a_button, {
                                          type: "primary",
                                          onClick: _ctx.importProgress
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Import")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["onClick"])
                                      ]),
                                      _: 1
                                    })
                                  ]),
                                  _: 1
                                }, 8, ["title"])
                              ]),
                              _: 1
                            })
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    }, 8, ["open", "onUpdate:open", "title"]),
                    createVNode(_component_a_modal, {
                      open: openShortcuts.value,
                      "onUpdate:open": ($event) => openShortcuts.value = $event,
                      title: t("Keyboard shortcuts"),
                      footer: null,
                      width: "520"
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_descriptions, {
                          bordered: "",
                          size: "small",
                          column: 1
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_descriptions_item, {
                              label: t("Next lesson")
                            }, {
                              default: withCtx(() => [
                                createTextVNode("N")
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_descriptions_item, {
                              label: t("Previous lesson")
                            }, {
                              default: withCtx(() => [
                                createTextVNode("P")
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_descriptions_item, {
                              label: t("Toggle complete")
                            }, {
                              default: withCtx(() => [
                                createTextVNode("C")
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_descriptions_item, {
                              label: t("Resume last")
                            }, {
                              default: withCtx(() => [
                                createTextVNode("R")
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_descriptions_item, {
                              label: t("Search lessons")
                            }, {
                              default: withCtx(() => [
                                createTextVNode("/")
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_descriptions_item, {
                              label: t("Toggle dark")
                            }, {
                              default: withCtx(() => [
                                createTextVNode("D")
                              ]),
                              _: 1
                            }, 8, ["label"])
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    }, 8, ["open", "onUpdate:open", "title"]),
                    createVNode(_component_a_modal, {
                      open: openPricing.value,
                      "onUpdate:open": ($event) => openPricing.value = $event,
                      title: t("Pricing"),
                      "ok-text": t("Enroll"),
                      onOk: _ctx.mockEnroll
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_radio_group, {
                          value: pricingTier.value,
                          "onUpdate:value": ($event) => pricingTier.value = $event
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_radio, { value: "basic" }, {
                              default: withCtx(() => [
                                createTextVNode(toDisplayString(t("Basic · Free preview")), 1)
                              ]),
                              _: 1
                            }),
                            createVNode(_component_a_radio, { value: "pro" }, {
                              default: withCtx(() => [
                                createTextVNode(toDisplayString(t("Pro · Full course + certificate")), 1)
                              ]),
                              _: 1
                            }),
                            createVNode(_component_a_radio, { value: "team" }, {
                              default: withCtx(() => [
                                createTextVNode(toDisplayString(t("Team · Up to 10 seats")), 1)
                              ]),
                              _: 1
                            })
                          ]),
                          _: 1
                        }, 8, ["value", "onUpdate:value"])
                      ]),
                      _: 1
                    }, 8, ["open", "onUpdate:open", "title", "ok-text", "onOk"]),
                    createVNode(_component_a_drawer, {
                      open: openDebug.value,
                      "onUpdate:open": ($event) => openDebug.value = $event,
                      title: t("Debug & mocks"),
                      placement: "left",
                      width: "420"
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form, { layout: "vertical" }, {
                          default: withCtx(() => [
                            createVNode(_component_a_form_item, {
                              label: t("Force mock mode")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_switch, {
                                  checked: forceMock.value,
                                  "onUpdate:checked": ($event) => forceMock.value = $event
                                }, null, 8, ["checked", "onUpdate:checked"])
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_form_item, {
                              label: t("Clear local data")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_button, {
                                  danger: "",
                                  onClick: _ctx.clearLocal
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode(toDisplayString(t("Clear")), 1)
                                  ]),
                                  _: 1
                                }, 8, ["onClick"])
                              ]),
                              _: 1
                            }, 8, ["label"]),
                            createVNode(_component_a_form_item, {
                              label: t("Telemetry (session)")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_list, {
                                  "data-source": telemetry,
                                  size: "small",
                                  "item-layout": "horizontal"
                                }, {
                                  renderItem: withCtx(({ item }) => [
                                    createVNode(_component_a_list_item, null, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_list_item_meta, {
                                          title: item.when,
                                          description: item.what
                                        }, null, 8, ["title", "description"])
                                      ]),
                                      _: 2
                                    }, 1024)
                                  ]),
                                  _: 1
                                }, 8, ["data-source"])
                              ]),
                              _: 1
                            }, 8, ["label"])
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    }, 8, ["open", "onUpdate:open", "title"])
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
          } else {
            return [
              createVNode(_component_a_layout, {
                class: ["student-wrap", isDark.value ? "is-dark" : ""],
                "data-test-id": "student-wrap"
              }, {
                default: withCtx(() => [
                  createVNode("div", { class: "global-banners" }, [
                    !isOnline.value ? (openBlock(), createBlock(_component_a_alert, {
                      key: 0,
                      type: "warning",
                      banner: "",
                      "show-icon": "",
                      message: "You're offline. Working in mock/local mode; changes will sync when you reconnect.",
                      "data-test-id": "offline-banner"
                    })) : createCommentVNode("", true),
                    usingMocks.value ? (openBlock(), createBlock(_component_a_alert, {
                      key: 1,
                      type: "info",
                      banner: "",
                      "show-icon": "",
                      message: `Mock data active${mockReason.value ? ` · ${mockReason.value}` : ""}`,
                      "data-test-id": "mock-banner"
                    }, null, 8, ["message"])) : createCommentVNode("", true)
                  ]),
                  createVNode(_component_a_page_header, {
                    class: "page-header",
                    title: course.title || t("Course"),
                    "sub-title": moduleT.value?.title || (hasModules.value ? t("Choose a module") : t("Overview")),
                    "data-test-id": "page-header"
                  }, {
                    tags: withCtx(() => [
                      createVNode(_component_a_tag, { color: "blue" }, {
                        default: withCtx(() => [
                          createTextVNode(toDisplayString(course.category || "—"), 1)
                        ]),
                        _: 1
                      }),
                      createVNode(_component_a_tag, { color: "gold" }, {
                        default: withCtx(() => [
                          createTextVNode(toDisplayString(course.difficulty || "—"), 1)
                        ]),
                        _: 1
                      }),
                      totalMinutes.value ? (openBlock(), createBlock(_component_a_tag, {
                        key: 0,
                        color: "blue"
                      }, {
                        default: withCtx(() => [
                          createVNode(unref(FieldTimeOutlined)),
                          createTextVNode(" " + toDisplayString(totalMinutes.value) + " " + toDisplayString(t("min")), 1)
                        ]),
                        _: 1
                      })) : createCommentVNode("", true),
                      createVNode(_component_a_badge, {
                        status: isOnline.value ? "processing" : "default",
                        text: isOnline.value ? t("Online") : t("Offline")
                      }, null, 8, ["status", "text"]),
                      createVNode(_component_a_badge, {
                        status: usingMocks.value ? "warning" : "success",
                        text: usingMocks.value ? t("Mock") : t("Live"),
                        class: "ml-1"
                      }, null, 8, ["status", "text"])
                    ]),
                    extra: withCtx(() => [
                      createVNode(_component_a_space, { wrap: "" }, {
                        default: withCtx(() => [
                          createVNode(_component_a_tooltip, {
                            title: t("Course progress")
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_progress, {
                                type: "circle",
                                percent: progressPercent.value,
                                size: 32
                              }, null, 8, ["percent"])
                            ]),
                            _: 1
                          }, 8, ["title"]),
                          hasModules.value ? (openBlock(), createBlock(_component_a_select, {
                            key: 0,
                            value: selectedModuleId.value,
                            style: { "min-width": "220px" },
                            placeholder: "Select module",
                            disabled: loadingModule.value,
                            onChange: switchModule,
                            "data-test-id": "module-switcher"
                          }, {
                            default: withCtx(() => [
                              (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                return openBlock(), createBlock(_component_a_select_option, {
                                  key: m.id,
                                  value: m.id
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode(toDisplayString(m.title) + " ", 1),
                                    createVNode("span", { class: "muted" }, "· " + toDisplayString(m.lessonCount ?? "—") + " " + toDisplayString(t("lessons")), 1)
                                  ]),
                                  _: 2
                                }, 1032, ["value"]);
                              }), 128))
                            ]),
                            _: 1
                          }, 8, ["value", "disabled"])) : createCommentVNode("", true),
                          createVNode(_component_a_dropdown, { trigger: "click" }, {
                            overlay: withCtx(() => [
                              createVNode(_component_a_menu, null, {
                                default: withCtx(() => [
                                  createVNode(_component_a_menu_item, {
                                    onClick: ($event) => isDark.value = !isDark.value
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(unref(BulbOutlined)),
                                      createVNode("span", { class: "ml-1" }, toDisplayString(t("Toggle dark")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["onClick"]),
                                  createVNode(_component_a_menu_item, { onClick: _ctx.increaseFont }, {
                                    default: withCtx(() => [
                                      createVNode(unref(FontSizeOutlined)),
                                      createVNode("span", { class: "ml-1" }, toDisplayString(t("Increase font size")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["onClick"]),
                                  createVNode(_component_a_menu_item, { onClick: _ctx.decreaseFont }, {
                                    default: withCtx(() => [
                                      createVNode(unref(FontSizeOutlined)),
                                      createVNode("span", { class: "ml-1" }, toDisplayString(t("Decrease font size")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["onClick"]),
                                  createVNode(_component_a_menu_divider),
                                  createVNode(_component_a_menu_item, {
                                    onClick: ($event) => openShortcuts.value = true
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_KeyboardOutlined),
                                      createVNode("span", { class: "ml-1" }, toDisplayString(t("Keyboard shortcuts")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["onClick"]),
                                  createVNode(_component_a_menu_item, {
                                    onClick: ($event) => openDebug.value = true
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(unref(BugOutlined)),
                                      createVNode("span", { class: "ml-1" }, toDisplayString(t("Debug & mocks")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["onClick"])
                                ]),
                                _: 1
                              })
                            ]),
                            default: withCtx(() => [
                              createVNode(_component_a_button, null, {
                                icon: withCtx(() => [
                                  createVNode(unref(SettingOutlined))
                                ]),
                                default: withCtx(() => [
                                  createTextVNode(" " + toDisplayString(t("View")), 1)
                                ]),
                                _: 1
                              })
                            ]),
                            _: 1
                          }),
                          createVNode(_component_a_button, {
                            type: "default",
                            onClick: ($event) => openImportExport.value = true
                          }, {
                            icon: withCtx(() => [
                              createVNode(unref(CloudSyncOutlined))
                            ]),
                            default: withCtx(() => [
                              createTextVNode(" " + toDisplayString(t("Import / Export")), 1)
                            ]),
                            _: 1
                          }, 8, ["onClick"]),
                          createVNode(_component_a_tooltip, {
                            title: t("Resume last lesson")
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_button, {
                                type: "primary",
                                onClick: _ctx.resumeLast,
                                disabled: !lessons.value.length,
                                "data-test-id": "resume-button"
                              }, {
                                icon: withCtx(() => [
                                  createVNode(unref(PlayCircleOutlined))
                                ]),
                                default: withCtx(() => [
                                  createTextVNode(" " + toDisplayString(t("Resume")), 1)
                                ]),
                                _: 1
                              }, 8, ["onClick", "disabled"])
                            ]),
                            _: 1
                          }, 8, ["title"])
                        ]),
                        _: 1
                      })
                    ]),
                    _: 1
                  }, 8, ["title", "sub-title"]),
                  createVNode(_component_a_layout, null, {
                    default: withCtx(() => [
                      createVNode(_component_a_layout_sider, {
                        width: "320",
                        class: "left-sider",
                        collapsible: "",
                        collapsed: siderCollapsed.value,
                        "onUpdate:collapsed": ($event) => siderCollapsed.value = $event,
                        "collapsed-width": 60,
                        "data-test-id": "left-sider"
                      }, {
                        default: withCtx(() => [
                          createVNode("div", { class: "sider-inner" }, [
                            createVNode("div", {
                              class: "cover",
                              style: coverStyle.value,
                              "data-test-id": "cover"
                            }, [
                              createVNode("div", { class: "cover-gradient" }),
                              !siderCollapsed.value ? (openBlock(), createBlock("div", {
                                key: 0,
                                class: "cover-meta"
                              }, [
                                createVNode("div", { class: "cover-title" }, toDisplayString(course.title || t("Course")), 1),
                                createVNode("div", { class: "cover-tags" }, [
                                  course.category ? (openBlock(), createBlock(_component_a_tag, {
                                    key: 0,
                                    color: "blue"
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(course.category), 1)
                                    ]),
                                    _: 1
                                  })) : createCommentVNode("", true),
                                  course.difficulty ? (openBlock(), createBlock(_component_a_tag, {
                                    key: 1,
                                    color: "gold"
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(course.difficulty), 1)
                                    ]),
                                    _: 1
                                  })) : createCommentVNode("", true)
                                ])
                              ])) : createCommentVNode("", true)
                            ], 4),
                            hasModules.value ? (openBlock(), createBlock(_component_a_select, {
                              key: 0,
                              class: "mt-2",
                              size: "small",
                              value: selectedModuleId.value,
                              disabled: loadingModule.value,
                              style: { "width": "100%" },
                              onChange: switchModule,
                              "data-test-id": "module-switcher-mini"
                            }, {
                              default: withCtx(() => [
                                (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                  return openBlock(), createBlock(_component_a_select_option, {
                                    key: m.id,
                                    value: m.id
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(m.title), 1)
                                    ]),
                                    _: 2
                                  }, 1032, ["value"]);
                                }), 128))
                              ]),
                              _: 1
                            }, 8, ["value", "disabled"])) : createCommentVNode("", true),
                            createVNode(_component_a_input_search, {
                              value: filter.value,
                              "onUpdate:value": ($event) => filter.value = $event,
                              placeholder: t("Search lessons"),
                              "allow-clear": "",
                              class: "mt-2",
                              "data-test-id": "lesson-search"
                            }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                            !siderCollapsed.value ? (openBlock(), createBlock("div", {
                              key: 1,
                              class: "mt-2"
                            }, [
                              createVNode(_component_a_space, { wrap: "" }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_segmented, {
                                    value: filterType.value,
                                    "onUpdate:value": ($event) => filterType.value = $event,
                                    options: [
                                      { label: t("All"), value: "all" },
                                      { label: t("Video"), value: "video" },
                                      { label: t("Reading"), value: "reading" },
                                      { label: t("Quiz"), value: "quiz" },
                                      { label: t("Assign."), value: "assignment" },
                                      { label: t("Lab"), value: "lab" }
                                    ],
                                    "data-test-id": "type-filter"
                                  }, null, 8, ["value", "onUpdate:value", "options"]),
                                  createVNode(_component_a_checkbox, {
                                    checked: hideCompleted.value,
                                    "onUpdate:checked": ($event) => hideCompleted.value = $event,
                                    "data-test-id": "hide-completed"
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(t("Hide completed")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["checked", "onUpdate:checked"]),
                                  createVNode(_component_a_dropdown, { trigger: "click" }, {
                                    overlay: withCtx(() => [
                                      createVNode(_component_a_menu, {
                                        selectedKeys: sortKeyArr.value,
                                        "onUpdate:selectedKeys": ($event) => sortKeyArr.value = $event,
                                        onClick: onSortChange
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_menu_item, { key: "title" }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Title")), 1)
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_menu_item, { key: "duration" }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Duration")), 1)
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_menu_item, { key: "type" }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Type")), 1)
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      }, 8, ["selectedKeys", "onUpdate:selectedKeys"])
                                    ]),
                                    default: withCtx(() => [
                                      createVNode(_component_a_button, { size: "small" }, {
                                        default: withCtx(() => [
                                          createVNode(unref(SortAscendingOutlined)),
                                          createVNode("span", { class: "ml-1" }, toDisplayString(t("Sort")), 1)
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  })
                                ]),
                                _: 1
                              })
                            ])) : createCommentVNode("", true),
                            !currentModuleReady.value ? (openBlock(), createBlock(_component_a_empty, {
                              key: 2,
                              description: t("Pick a module to see its lessons"),
                              class: "mt-2"
                            }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                              key: 3,
                              class: "mt-2",
                              size: "small",
                              "data-source": filteredLessons.value,
                              "row-key": (l) => l.id,
                              "data-test-id": "lesson-list"
                            }, {
                              renderItem: withCtx(({ item: l, index: i }) => [
                                createVNode(_component_a_list_item, {
                                  class: ["lesson-row", currentIndex.value === i && "active"],
                                  onClick: ($event) => select(i),
                                  "data-test-id": `lesson-row-${i}`
                                }, {
                                  actions: withCtx(() => [
                                    isCompleted(l.id) ? (openBlock(), createBlock(_component_a_tag, {
                                      key: 0,
                                      color: "green"
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(t("Done")), 1)
                                      ]),
                                      _: 1
                                    })) : l.preview ? (openBlock(), createBlock(_component_a_tag, {
                                      key: 2,
                                      color: "cyan"
                                    }, {
                                      default: withCtx(() => [
                                        createTextVNode(toDisplayString(t("Preview")), 1)
                                      ]),
                                      _: 1
                                    })) : createCommentVNode("", true)
                                  ]),
                                  default: withCtx(() => [
                                    createVNode(_component_a_list_item_meta, {
                                      title: l.title || t("Untitled lesson"),
                                      description: (l.type || "—") + (l.duration ? ` · ${l.duration} ${t("min")}` : "")
                                    }, null, 8, ["title", "description"])
                                  ]),
                                  _: 2
                                }, 1032, ["class", "onClick", "data-test-id"])
                              ]),
                              _: 1
                            }, 8, ["data-source", "row-key"]))
                          ])
                        ]),
                        _: 1
                      }, 8, ["collapsed", "onUpdate:collapsed"]),
                      createVNode(_component_a_layout_content, {
                        class: "content",
                        style: { fontSize: `${fontScale.value}px` },
                        "data-test-id": "content"
                      }, {
                        default: withCtx(() => [
                          !currentModuleReady.value ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                            createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                              default: withCtx(() => [
                                createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                  default: withCtx(() => [
                                    createTextVNode("Students")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_breadcrumb_item, null, {
                                  default: withCtx(() => [
                                    createTextVNode("Modules")
                                  ]),
                                  _: 1
                                })
                              ]),
                              _: 1
                            }),
                            createVNode(_component_a_card, {
                              loading: loadingCourse.value,
                              title: t("Course overview"),
                              "data-test-id": "overview-card"
                            }, {
                              default: withCtx(() => [
                                createVNode("p", { class: "muted" }, toDisplayString(t("Browse modules and jump in — everything runs in this page.")), 1),
                                !hasModules.value && !loadingCourse.value ? (openBlock(), createBlock(_component_a_empty, {
                                  key: 0,
                                  description: t("No modules yet")
                                }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_row, {
                                  key: 1,
                                  gutter: 16
                                }, {
                                  default: withCtx(() => [
                                    (openBlock(true), createBlock(Fragment, null, renderList(modules.value, (m) => {
                                      return openBlock(), createBlock(_component_a_col, {
                                        key: m.id,
                                        xs: 24,
                                        sm: 12,
                                        md: 8
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                                default: withCtx(() => [
                                                  createTextVNode("Students")
                                                ]),
                                                _: 1
                                              }),
                                              createVNode(_component_a_breadcrumb_item, null, {
                                                default: withCtx(() => [
                                                  createTextVNode("Modules")
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }),
                                          createVNode(_component_a_card, {
                                            hoverable: "",
                                            class: "mt-2",
                                            onClick: ($event) => switchModule(m.id),
                                            "data-test-id": "module-card"
                                          }, {
                                            default: withCtx(() => [
                                              createVNode("b", null, toDisplayString(m.title), 1),
                                              createVNode("div", { class: "muted" }, [
                                                createTextVNode(toDisplayString(m.lessonCount ?? 0) + " " + toDisplayString(t("lessons")) + " ", 1),
                                                m.minutes ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                  createTextVNode(" · ~" + toDisplayString(m.minutes) + " " + toDisplayString(t("min")), 1)
                                                ], 64)) : createCommentVNode("", true)
                                              ])
                                            ]),
                                            _: 2
                                          }, 1032, ["onClick"])
                                        ]),
                                        _: 2
                                      }, 1024);
                                    }), 128))
                                  ]),
                                  _: 1
                                })),
                                createVNode(_component_a_divider),
                                !isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                  key: 2,
                                  class: "enroll-cta"
                                }, [
                                  createVNode(_component_a_result, {
                                    status: "info",
                                    title: t("Enroll to unlock full access"),
                                    "sub-title": t("You can still watch previews and read public materials.")
                                  }, {
                                    extra: withCtx(() => [
                                      createVNode(_component_a_space, null, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_button, {
                                            type: "primary",
                                            onClick: _ctx.mockEnroll
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Enroll now")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"]),
                                          createVNode(_component_a_button, {
                                            onClick: ($event) => openPricing.value = true
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("See pricing")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"])
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  }, 8, ["title", "sub-title"])
                                ])) : createCommentVNode("", true)
                              ]),
                              _: 1
                            }, 8, ["loading", "title"])
                          ], 64)) : (openBlock(), createBlock(_component_a_spin, {
                            key: 1,
                            spinning: loadingModule.value
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                    default: withCtx(() => [
                                      createTextVNode("Students")
                                    ]),
                                    _: 1
                                  }),
                                  createVNode(_component_a_breadcrumb_item, null, {
                                    default: withCtx(() => [
                                      createTextVNode("Modules")
                                    ]),
                                    _: 1
                                  })
                                ]),
                                _: 1
                              }),
                              currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                key: 0,
                                title: currentLesson.value.title || t("Lesson"),
                                "data-test-id": "lesson-card"
                              }, {
                                extra: withCtx(() => [
                                  createVNode(_component_a_space, null, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_tag, null, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString((currentLesson.value.type || "").toUpperCase()), 1)
                                        ]),
                                        _: 1
                                      }),
                                      currentLesson.value.preview ? (openBlock(), createBlock(_component_a_tag, {
                                        key: 0,
                                        color: "cyan"
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Preview")), 1)
                                        ]),
                                        _: 1
                                      })) : createCommentVNode("", true),
                                      createVNode("span", { class: "muted" }, [
                                        createVNode(unref(FieldTimeOutlined)),
                                        createTextVNode(" " + toDisplayString(currentLesson.value.duration || 0) + " " + toDisplayString(t("min")), 1)
                                      ]),
                                      createVNode(_component_a_tooltip, {
                                        title: t("Bookmark current lesson")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_button, {
                                            size: "small",
                                            onClick: _ctx.bookmarkCurrent,
                                            "data-test-id": "bookmark-btn"
                                          }, {
                                            icon: withCtx(() => [
                                              createVNode(unref(BookOutlined))
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"])
                                        ]),
                                        _: 1
                                      }, 8, ["title"]),
                                      createVNode(_component_a_tooltip, {
                                        title: t("Print lesson")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_button, {
                                            size: "small",
                                            onClick: _ctx.printLesson
                                          }, {
                                            icon: withCtx(() => [
                                              createVNode(unref(PrinterOutlined))
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"])
                                        ]),
                                        _: 1
                                      }, 8, ["title"])
                                    ]),
                                    _: 1
                                  })
                                ]),
                                default: withCtx(() => [
                                  isLocked(currentLesson.value) ? (openBlock(), createBlock(_component_a_result, {
                                    key: 0,
                                    status: "warning",
                                    title: t("This lesson is locked"),
                                    "data-test-id": "locked-result"
                                  }, {
                                    subTitle: withCtx(() => [
                                      createVNode("div", { class: "muted" }, [
                                        currentLesson.value.prerequisites?.length ? (openBlock(), createBlock("div", { key: 0 }, [
                                          createTextVNode(toDisplayString(t("Complete prerequisite lesson(s):")) + " ", 1),
                                          createVNode("ul", { class: "mt-1" }, [
                                            (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.prerequisites, (pid) => {
                                              return openBlock(), createBlock("li", { key: pid }, [
                                                createVNode("span", {
                                                  class: ["preq", isCompleted(pid) && "ok"]
                                                }, [
                                                  createTextVNode(toDisplayString(labelForLesson(pid) || pid) + " ", 1),
                                                  isCompleted(pid) ? (openBlock(), createBlock(Fragment, { key: 0 }, [
                                                    createTextVNode(" ✓")
                                                  ], 64)) : createCommentVNode("", true)
                                                ], 2)
                                              ]);
                                            }), 128))
                                          ])
                                        ])) : createCommentVNode("", true),
                                        unlockAtDate(currentLesson.value) ? (openBlock(), createBlock("div", { key: 1 }, toDisplayString(t("Unlocks at:")) + " " + toDisplayString(unlockAtDate(currentLesson.value)), 1)) : createCommentVNode("", true)
                                      ])
                                    ]),
                                    extra: withCtx(() => [
                                      createVNode(_component_a_space, null, {
                                        default: withCtx(() => [
                                          !isEnrolledCourse.value ? (openBlock(), createBlock(_component_a_button, {
                                            key: 0,
                                            type: "primary",
                                            onClick: _ctx.mockEnroll
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Enroll")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"])) : (openBlock(), createBlock(_component_a_button, {
                                            key: 1,
                                            onClick: _ctx.resumeLast
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Go to next available")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"]))
                                        ]),
                                        _: 1
                                      })
                                    ]),
                                    _: 1
                                  }, 8, ["title"])) : (openBlock(), createBlock(Fragment, { key: 1 }, [
                                    currentLesson.value.type === "video" ? (openBlock(), createBlock("div", { key: 0 }, [
                                      createVNode("div", { class: "video-controls" }, [
                                        createVNode(_component_a_space, null, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_segmented, {
                                              value: videoSpeed.value,
                                              "onUpdate:value": ($event) => videoSpeed.value = $event,
                                              options: [0.75, 1, 1.25, 1.5, 1.75, 2].map((v) => ({ label: `${v}x`, value: v })),
                                              "data-test-id": "video-speed"
                                            }, null, 8, ["value", "onUpdate:value", "options"]),
                                            createVNode(_component_a_button, {
                                              size: "small",
                                              onClick: _ctx.bookmarkTimestamp,
                                              "data-test-id": "bookmark-ts"
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(unref(ClockCircleOutlined)),
                                                createTextVNode(" " + toDisplayString(t("Bookmark timestamp")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"])
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      ytEmbed(currentLesson.value.videoUrl) ? (openBlock(), createBlock("div", {
                                        key: 0,
                                        class: "video-wrap"
                                      }, [
                                        createVNode("iframe", {
                                          src: ytEmbed(currentLesson.value.videoUrl),
                                          frameborder: "0",
                                          allowfullscreen: "",
                                          "data-test-id": "yt-iframe"
                                        }, null, 8, ["src"])
                                      ])) : (openBlock(), createBlock("div", {
                                        key: 1,
                                        class: "video-fallback"
                                      }, [
                                        createVNode(_component_a_typography_paragraph, null, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Video URL:")) + " ", 1),
                                            createVNode("a", {
                                              href: currentLesson.value.videoUrl,
                                              target: "_blank"
                                            }, toDisplayString(currentLesson.value.videoUrl || "—"), 9, ["href"])
                                          ]),
                                          _: 1
                                        }),
                                        currentLesson.value.videoUrl ? (openBlock(), createBlock("video", {
                                          key: 0,
                                          ref_key: "html5Video",
                                          ref: html5Video,
                                          controls: "",
                                          onRatechange: _ctx.syncVideoSpeed,
                                          playbackRate: videoSpeed.value,
                                          style: { "width": "100%", "border-radius": "10px" },
                                          "data-test-id": "html5-video"
                                        }, [
                                          createVNode("source", {
                                            src: currentLesson.value.videoUrl,
                                            type: "video/mp4"
                                          }, null, 8, ["src"])
                                        ], 40, ["onRatechange", "playbackRate"])) : createCommentVNode("", true)
                                      ])),
                                      createVNode(_component_a_divider, null, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Notes")), 1)
                                        ]),
                                        _: 1
                                      }),
                                      createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(currentLesson.value.content), 1)
                                        ]),
                                        _: 1
                                      })
                                    ])) : currentLesson.value.type === "reading" ? (openBlock(), createBlock("div", { key: 1 }, [
                                      createVNode(_component_a_collapse, {
                                        bordered: false,
                                        class: "reading-collapse"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_collapse_panel, {
                                            key: "content",
                                            header: t("Lesson content")
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(currentLesson.value.content || t("No content")), 1)
                                                ]),
                                                _: 1
                                              })
                                            ]),
                                            _: 1
                                          }, 8, ["header"]),
                                          createVNode(_component_a_collapse_panel, {
                                            key: "highlights",
                                            header: t("Highlights")
                                          }, {
                                            default: withCtx(() => [
                                              !notes[currentLesson.value.id]?.highlights?.length ? (openBlock(), createBlock(_component_a_empty, {
                                                key: 0,
                                                description: t("No highlights")
                                              }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                key: 1,
                                                "data-source": notes[currentLesson.value.id].highlights,
                                                size: "small"
                                              }, {
                                                renderItem: withCtx(({ item }) => [
                                                  createVNode(_component_a_list_item, null, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(item), 1)
                                                    ]),
                                                    _: 2
                                                  }, 1024)
                                                ]),
                                                _: 1
                                              }, 8, ["data-source"]))
                                            ]),
                                            _: 1
                                          }, 8, ["header"])
                                        ]),
                                        _: 1
                                      })
                                    ])) : currentLesson.value.type === "assignment" ? (openBlock(), createBlock("div", { key: 2 }, [
                                      createVNode(_component_a_alert, {
                                        type: "info",
                                        "show-icon": "",
                                        message: t("Assignment brief"),
                                        class: "mb-1"
                                      }, null, 8, ["message"]),
                                      createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap" } }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(currentLesson.value.content || t("No brief")), 1)
                                        ]),
                                        _: 1
                                      }),
                                      currentLesson.value.rubric ? (openBlock(), createBlock(_component_a_alert, {
                                        key: 0,
                                        type: "success",
                                        "show-icon": "",
                                        message: t("Rubric"),
                                        description: currentLesson.value.rubric
                                      }, null, 8, ["message", "description"])) : createCommentVNode("", true),
                                      createVNode(_component_a_divider),
                                      createVNode(_component_a_space, null, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_button, {
                                            type: "primary",
                                            onClick: _ctx.openSubmitDrawer,
                                            "data-test-id": "open-submit-drawer"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Submit assignment")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick"]),
                                          createVNode(_component_a_button, {
                                            onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                            disabled: isCompleted(currentLesson.value.id)
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Mark complete")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "disabled"])
                                        ]),
                                        _: 1
                                      })
                                    ])) : currentLesson.value.type === "quiz" ? (openBlock(), createBlock("div", { key: 3 }, [
                                      createVNode(_component_a_alert, {
                                        type: "info",
                                        "show-icon": "",
                                        message: t("Answer the questions and submit."),
                                        class: "mb-2"
                                      }, null, 8, ["message"]),
                                      (openBlock(true), createBlock(Fragment, null, renderList(currentLesson.value.quiz?.questions || [], (q, qi) => {
                                        return openBlock(), createBlock("div", {
                                          key: q.id,
                                          class: "quiz-q"
                                        }, [
                                          createVNode("b", null, "Q" + toDisplayString(qi + 1), 1),
                                          createTextVNode(": " + toDisplayString(q.text || t("(empty)")) + " ", 1),
                                          q.type === "mcq" ? (openBlock(), createBlock("div", {
                                            key: 0,
                                            class: "mt-1"
                                          }, [
                                            createVNode(_component_a_checkbox_group, {
                                              value: _ctx.quizState[q.id],
                                              "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                              options: (q.options || []).map((o, oi) => ({ label: o.text || `${t("Option")} ${oi + 1}`, value: oi })),
                                              "data-test-id": "quiz-mcq"
                                            }, null, 8, ["value", "onUpdate:value", "options"])
                                          ])) : q.type === "tf" ? (openBlock(), createBlock("div", {
                                            key: 1,
                                            class: "mt-1"
                                          }, [
                                            createVNode(_component_a_radio_group, {
                                              value: _ctx.quizState[q.id],
                                              "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                              "data-test-id": "quiz-tf"
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_radio, { value: true }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("True")), 1)
                                                  ]),
                                                  _: 1
                                                }),
                                                createVNode(_component_a_radio, { value: false }, {
                                                  default: withCtx(() => [
                                                    createTextVNode(toDisplayString(t("False")), 1)
                                                  ]),
                                                  _: 1
                                                })
                                              ]),
                                              _: 1
                                            }, 8, ["value", "onUpdate:value"])
                                          ])) : (openBlock(), createBlock("div", {
                                            key: 2,
                                            class: "mt-1"
                                          }, [
                                            createVNode(_component_a_input, {
                                              value: _ctx.quizState[q.id],
                                              "onUpdate:value": ($event) => _ctx.quizState[q.id] = $event,
                                              placeholder: t("Your answer"),
                                              "data-test-id": "quiz-short"
                                            }, null, 8, ["value", "onUpdate:value", "placeholder"])
                                          ])),
                                          createVNode(_component_a_divider, { class: "my-1" })
                                        ]);
                                      }), 128)),
                                      createVNode(_component_a_space, null, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_button, {
                                            type: "primary",
                                            onClick: _ctx.submitQuiz,
                                            loading: _ctx.quizSubmitting,
                                            "data-test-id": "submit-quiz"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Submit quiz")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "loading"]),
                                          createVNode(_component_a_button, {
                                            onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                            disabled: isCompleted(currentLesson.value.id)
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Mark complete")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "disabled"])
                                        ]),
                                        _: 1
                                      })
                                    ])) : currentLesson.value.type === "lab" ? (openBlock(), createBlock("div", { key: 4 }, [
                                      createVNode(_component_a_alert, {
                                        type: "info",
                                        "show-icon": "",
                                        message: t("Interactive lab"),
                                        description: t("Your lab environment opens in a new tab/window."),
                                        class: "mb-2"
                                      }, null, 8, ["message", "description"]),
                                      labChallenges[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                        key: 0,
                                        size: "small",
                                        class: "mb-2"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_descriptions, {
                                            bordered: "",
                                            size: "small",
                                            column: 1
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_descriptions_item, {
                                                label: t("Challenge")
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].title), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["label"]),
                                              createVNode(_component_a_descriptions_item, {
                                                label: t("Difficulty")
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].difficulty), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["label"]),
                                              labChallenges[currentLesson.value.id].description ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                key: 0,
                                                label: t("Description")
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(labChallenges[currentLesson.value.id].description), 1)
                                                ]),
                                                _: 1
                                              }, 8, ["label"])) : createCommentVNode("", true)
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      })) : createCommentVNode("", true),
                                      labSessions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                        key: 1,
                                        size: "small",
                                        class: "mb-2"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_descriptions, {
                                            bordered: "",
                                            size: "small",
                                            column: 1
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_descriptions_item, {
                                                label: t("Session status")
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_tag, {
                                                    color: getSessionStatusColor(labSessions[currentLesson.value.id].status)
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(labSessions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["color"])
                                                ]),
                                                _: 1
                                              }, 8, ["label"]),
                                              labSessions[currentLesson.value.id].codeServerUrl ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                key: 0,
                                                label: t("VS Code URL")
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode("a", {
                                                    href: labSessions[currentLesson.value.id].codeServerUrl,
                                                    target: "_blank"
                                                  }, toDisplayString(labSessions[currentLesson.value.id].codeServerUrl), 9, ["href"])
                                                ]),
                                                _: 1
                                              }, 8, ["label"])) : createCommentVNode("", true)
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      })) : createCommentVNode("", true),
                                      labSubmissions[currentLesson.value.id] ? (openBlock(), createBlock(_component_a_card, {
                                        key: 2,
                                        size: "small",
                                        class: "mb-2"
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_descriptions, {
                                            bordered: "",
                                            size: "small",
                                            column: 1
                                          }, {
                                            default: withCtx(() => [
                                              createVNode(_component_a_descriptions_item, {
                                                label: t("Latest submission")
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_tag, {
                                                    color: labSubmissions[currentLesson.value.id].passed ? "green" : "red"
                                                  }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].status?.toUpperCase()), 1)
                                                    ]),
                                                    _: 1
                                                  }, 8, ["color"])
                                                ]),
                                                _: 1
                                              }, 8, ["label"]),
                                              labSubmissions[currentLesson.value.id].gradePct != null ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                key: 0,
                                                label: t("Grade")
                                              }, {
                                                default: withCtx(() => [
                                                  createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].gradePct) + "% ", 1)
                                                ]),
                                                _: 1
                                              }, 8, ["label"])) : createCommentVNode("", true),
                                              labSubmissions[currentLesson.value.id].feedback ? (openBlock(), createBlock(_component_a_descriptions_item, {
                                                key: 1,
                                                label: t("Feedback")
                                              }, {
                                                default: withCtx(() => [
                                                  createVNode(_component_a_typography_paragraph, { style: { "white-space": "pre-wrap", "margin": "0" } }, {
                                                    default: withCtx(() => [
                                                      createTextVNode(toDisplayString(labSubmissions[currentLesson.value.id].feedback), 1)
                                                    ]),
                                                    _: 1
                                                  })
                                                ]),
                                                _: 1
                                              }, 8, ["label"])) : createCommentVNode("", true)
                                            ]),
                                            _: 1
                                          })
                                        ]),
                                        _: 1
                                      })) : createCommentVNode("", true),
                                      createVNode(_component_a_space, { wrap: "" }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_button, {
                                            type: "primary",
                                            onClick: ($event) => openLab(currentLesson.value),
                                            loading: labSessionStarting[currentLesson.value.id],
                                            disabled: labSessionStarting[currentLesson.value.id],
                                            "data-test-id": "open-lab"
                                          }, createSlots({
                                            default: withCtx(() => [
                                              createTextVNode(" " + toDisplayString(labSessions[currentLesson.value.id]?.codeServerUrl ? t("Open VS Code") : t("Start lab session")), 1)
                                            ]),
                                            _: 2
                                          }, [
                                            labSessions[currentLesson.value.id]?.codeServerUrl ? {
                                              name: "icon",
                                              fn: withCtx(() => [
                                                createVNode(unref(CodeOutlined))
                                              ]),
                                              key: "0"
                                            } : void 0
                                          ]), 1032, ["onClick", "loading", "disabled"]),
                                          labSessions[currentLesson.value.id]?.codeServerUrl ? (openBlock(), createBlock(_component_a_button, {
                                            key: 0,
                                            onClick: ($event) => openLabUrl(currentLesson.value),
                                            disabled: !labSessions[currentLesson.value.id]?.codeServerUrl,
                                            "data-test-id": "open-lab-url"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Open in new tab")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "disabled"])) : createCommentVNode("", true),
                                          createVNode(_component_a_button, {
                                            type: "default",
                                            onClick: ($event) => submitLab(currentLesson.value),
                                            loading: labSubmitting[currentLesson.value.id],
                                            disabled: labSubmitting[currentLesson.value.id] || !labSessions[currentLesson.value.id] || labSessions[currentLesson.value.id].status !== "running" && labSessions[currentLesson.value.id].status !== "starting",
                                            "data-test-id": "submit-lab"
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Submit lab")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "loading", "disabled"]),
                                          labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                            key: 1,
                                            onClick: ($event) => refreshLabContainer(currentLesson.value),
                                            loading: labRefreshing[currentLesson.value.id],
                                            disabled: labRefreshing[currentLesson.value.id],
                                            "data-test-id": "refresh-lab"
                                          }, {
                                            icon: withCtx(() => [
                                              createVNode(unref(CloudSyncOutlined))
                                            ]),
                                            default: withCtx(() => [
                                              createTextVNode(" " + toDisplayString(t("Update container with saved code")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                          labSessions[currentLesson.value.id]?.id ? (openBlock(), createBlock(_component_a_button, {
                                            key: 2,
                                            onClick: ($event) => restartLab(currentLesson.value),
                                            loading: labRestarting[currentLesson.value.id],
                                            disabled: labRestarting[currentLesson.value.id]
                                          }, {
                                            icon: withCtx(() => [
                                              createVNode(unref(ReloadOutlined))
                                            ]),
                                            default: withCtx(() => [
                                              createTextVNode(" " + toDisplayString(t("Restart lab")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "loading", "disabled"])) : createCommentVNode("", true),
                                          createVNode(_component_a_button, {
                                            onClick: ($event) => _ctx.markComplete(currentLesson.value, true),
                                            disabled: isCompleted(currentLesson.value.id)
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Mark complete")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "disabled"])
                                        ]),
                                        _: 1
                                      })
                                    ])) : (openBlock(), createBlock("div", { key: 5 }, [
                                      createVNode(_component_a_typography_text, { type: "secondary" }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Unsupported lesson type.")), 1)
                                        ]),
                                        _: 1
                                      })
                                    ]))
                                  ], 64)),
                                  createVNode(_component_a_divider),
                                  createVNode(_component_a_form, {
                                    layout: "vertical",
                                    class: "mt-2",
                                    onFinish: withModifiers(() => {
                                    }, ["prevent"])
                                  }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_form_item, {
                                        label: t("Your notes for this lesson")
                                      }, {
                                        default: withCtx(() => [
                                          createVNode(_component_a_textarea, {
                                            value: ensureNoteForLesson(currentLesson.value.id).text,
                                            "onUpdate:value": ($event) => ensureNoteForLesson(currentLesson.value.id).text = $event,
                                            rows: 4,
                                            onChange: ($event) => _ctx.persistNotes(currentLesson.value.id),
                                            "data-test-id": "lesson-notes"
                                          }, null, 8, ["value", "onUpdate:value", "onChange"])
                                        ]),
                                        _: 1
                                      }, 8, ["label"])
                                    ]),
                                    _: 1
                                  }, 8, ["onFinish"]),
                                  createVNode("div", { class: "nav-actions" }, [
                                    createVNode(_component_a_space, { wrap: "" }, {
                                      default: withCtx(() => [
                                        currentLesson.value ? (openBlock(), createBlock(_component_a_button, {
                                          key: 0,
                                          type: isCompleted(currentLesson.value.id) ? "default" : "primary",
                                          onClick: ($event) => _ctx.toggleComplete(currentLesson.value),
                                          "data-test-id": "toggle-complete"
                                        }, {
                                          icon: withCtx(() => [
                                            createVNode(unref(CheckOutlined))
                                          ]),
                                          default: withCtx(() => [
                                            createTextVNode(" " + toDisplayString(isCompleted(currentLesson.value.id) ? t("Mark as incomplete") : t("Mark as complete")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["type", "onClick"])) : createCommentVNode("", true),
                                        createVNode(_component_a_button, {
                                          onClick: _ctx.prevLesson,
                                          disabled: currentIndex.value <= 0,
                                          "data-test-id": "prev-lesson"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Previous")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["onClick", "disabled"]),
                                        createVNode(_component_a_button, {
                                          type: "primary",
                                          onClick: _ctx.nextLesson,
                                          disabled: currentIndex.value >= lessons.value.length - 1,
                                          "data-test-id": "next-lesson"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Next")) + " ", 1),
                                            createVNode(unref(ArrowRightOutlined))
                                          ]),
                                          _: 1
                                        }, 8, ["onClick", "disabled"]),
                                        createVNode(_component_a_checkbox, {
                                          checked: autoNext.value,
                                          "onUpdate:checked": ($event) => autoNext.value = $event,
                                          class: "ml-2",
                                          "data-test-id": "auto-next"
                                        }, {
                                          default: withCtx(() => [
                                            createTextVNode(toDisplayString(t("Auto-next on complete")), 1)
                                          ]),
                                          _: 1
                                        }, 8, ["checked", "onUpdate:checked"])
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_rate, {
                                      value: ratings[currentLesson.value.id],
                                      "onUpdate:value": ($event) => ratings[currentLesson.value.id] = $event,
                                      "allow-half": "",
                                      onChange: _ctx.persistRatings
                                    }, null, 8, ["value", "onUpdate:value", "onChange"])
                                  ])
                                ]),
                                _: 1
                              }, 8, ["title"])) : (openBlock(), createBlock(_component_a_empty, {
                                key: 1,
                                description: t("No lessons found")
                              }, null, 8, ["description"]))
                            ]),
                            _: 1
                          }, 8, ["spinning"]))
                        ]),
                        _: 1
                      }, 8, ["style"]),
                      createVNode(_component_a_layout_sider, {
                        width: "320",
                        class: "right-sider",
                        collapsible: "",
                        collapsed: rightCollapsed.value,
                        "onUpdate:collapsed": ($event) => rightCollapsed.value = $event,
                        "collapsed-width": 60,
                        "data-test-id": "right-sider"
                      }, {
                        default: withCtx(() => [
                          createVNode("div", { class: "right-inner" }, [
                            createVNode(_component_a_tabs, {
                              activeKey: rightTab.value,
                              "onUpdate:activeKey": ($event) => rightTab.value = $event,
                              size: "small",
                              animated: false
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_tab_pane, {
                                  key: "progress",
                                  tab: t("Progress"),
                                  "data-test-id": "tab-progress"
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_card, {
                                      size: "small",
                                      title: t("Progress"),
                                      bordered: false,
                                      "body-style": "padding:0;"
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_steps, {
                                          size: "small",
                                          direction: "vertical",
                                          current: currentIndex.value
                                        }, {
                                          default: withCtx(() => [
                                            (openBlock(true), createBlock(Fragment, null, renderList(lessons.value, (l, i) => {
                                              return openBlock(), createBlock(_component_a_step, {
                                                key: l.id,
                                                title: l.title || `${t("Lesson")} ${i + 1}`,
                                                description: l.duration ? `${l.duration} ${t("min")}` : "",
                                                status: isCompleted(l.id) ? "finish" : i === currentIndex.value ? "process" : "wait"
                                              }, null, 8, ["title", "description", "status"]);
                                            }), 128))
                                          ]),
                                          _: 1
                                        }, 8, ["current"])
                                      ]),
                                      _: 1
                                    }, 8, ["title"])
                                  ]),
                                  _: 1
                                }, 8, ["tab"]),
                                createVNode(_component_a_tab_pane, {
                                  key: "resources",
                                  tab: t("Resources")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }),
                                    currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                      key: 0,
                                      size: "small",
                                      title: t("Resources"),
                                      class: "mt-2"
                                    }, {
                                      default: withCtx(() => [
                                        isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                          key: 0,
                                          class: "mb-1"
                                        }, [
                                          createVNode(_component_a_button, {
                                            size: "small",
                                            type: "primary",
                                            onClick: ($event) => addLessonShare("resource"),
                                            loading: shareUploading.resource
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Add resource")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "loading"])
                                        ])) : createCommentVNode("", true),
                                        !combinedResources.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                          key: 1,
                                          description: t("No resources")
                                        }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                          key: 2,
                                          size: "small",
                                          "data-source": combinedResources.value
                                        }, {
                                          renderItem: withCtx(({ item }) => [
                                            createVNode(_component_a_list_item, null, {
                                              default: withCtx(() => [
                                                createVNode("a", {
                                                  href: item.url,
                                                  target: "_blank"
                                                }, toDisplayString(item.title || item.name || t("Resource")), 9, ["href"])
                                              ]),
                                              _: 2
                                            }, 1024)
                                          ]),
                                          _: 1
                                        }, 8, ["data-source"]))
                                      ]),
                                      _: 1
                                    }, 8, ["title"])) : createCommentVNode("", true),
                                    createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }),
                                    currentLesson.value ? (openBlock(), createBlock(_component_a_card, {
                                      key: 1,
                                      size: "small",
                                      class: "mt-2",
                                      title: t("Attachments")
                                    }, {
                                      default: withCtx(() => [
                                        isEnrolledCourse.value ? (openBlock(), createBlock("div", {
                                          key: 0,
                                          class: "mb-1"
                                        }, [
                                          createVNode(_component_a_button, {
                                            size: "small",
                                            type: "primary",
                                            onClick: ($event) => addLessonShare("attachment"),
                                            loading: shareUploading.attachment
                                          }, {
                                            default: withCtx(() => [
                                              createTextVNode(toDisplayString(t("Add attachment")), 1)
                                            ]),
                                            _: 1
                                          }, 8, ["onClick", "loading"])
                                        ])) : createCommentVNode("", true),
                                        !combinedAttachments.value.length ? (openBlock(), createBlock(_component_a_empty, {
                                          key: 1,
                                          description: t("No attachments")
                                        }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                          key: 2,
                                          size: "small",
                                          "data-source": combinedAttachments.value
                                        }, {
                                          renderItem: withCtx(({ item }) => [
                                            createVNode(_component_a_list_item, null, {
                                              default: withCtx(() => [
                                                createVNode("a", {
                                                  href: item.url,
                                                  target: "_blank"
                                                }, toDisplayString(item.name || t("Attachment")), 9, ["href"])
                                              ]),
                                              _: 2
                                            }, 1024)
                                          ]),
                                          _: 1
                                        }, 8, ["data-source"]))
                                      ]),
                                      _: 1
                                    }, 8, ["title"])) : createCommentVNode("", true)
                                  ]),
                                  _: 1
                                }, 8, ["tab"]),
                                createVNode(_component_a_tab_pane, {
                                  key: "notes",
                                  tab: t("Notes")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_card, {
                                      size: "small",
                                      title: t("Your notes"),
                                      class: "mt-2"
                                    }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_form, {
                                          layout: "vertical",
                                          onFinish: withModifiers(() => {
                                          }, ["prevent"])
                                        }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_form_item, {
                                              label: t("Lesson notes")
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_textarea, {
                                                  value: notes[currentLesson.value?.id || "global"].text,
                                                  "onUpdate:value": ($event) => notes[currentLesson.value?.id || "global"].text = $event,
                                                  rows: 6,
                                                  onChange: ($event) => currentLesson.value && _ctx.persistNotes(currentLesson.value.id),
                                                  "data-test-id": "notes-right"
                                                }, null, 8, ["value", "onUpdate:value", "onChange"])
                                              ]),
                                              _: 1
                                            }, 8, ["label"]),
                                            createVNode(_component_a_form_item, {
                                              label: t("Highlights")
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_input_search, {
                                                  value: newHighlight.value,
                                                  "onUpdate:value": ($event) => newHighlight.value = $event,
                                                  placeholder: t("Type highlight and press +"),
                                                  "enter-button": "+",
                                                  onSearch: _ctx.addHighlight
                                                }, null, 8, ["value", "onUpdate:value", "placeholder", "onSearch"]),
                                                !notes[currentLesson.value?.id || "global"].highlights.length ? (openBlock(), createBlock(_component_a_empty, {
                                                  key: 0,
                                                  description: t("No highlights"),
                                                  class: "mt-1"
                                                }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                                  key: 1,
                                                  "data-source": notes[currentLesson.value?.id || "global"].highlights,
                                                  size: "small",
                                                  class: "mt-1"
                                                }, {
                                                  renderItem: withCtx(({ item, index }) => [
                                                    createVNode(_component_a_list_item, null, {
                                                      default: withCtx(() => [
                                                        createVNode(_component_a_space, null, {
                                                          default: withCtx(() => [
                                                            createVNode("span", null, toDisplayString(item), 1),
                                                            createVNode(_component_a_button, {
                                                              size: "small",
                                                              onClick: ($event) => _ctx.removeHighlight(index)
                                                            }, {
                                                              default: withCtx(() => [
                                                                createTextVNode(toDisplayString(t("Remove")), 1)
                                                              ]),
                                                              _: 1
                                                            }, 8, ["onClick"])
                                                          ]),
                                                          _: 2
                                                        }, 1024)
                                                      ]),
                                                      _: 2
                                                    }, 1024)
                                                  ]),
                                                  _: 1
                                                }, 8, ["data-source"]))
                                              ]),
                                              _: 1
                                            }, 8, ["label"])
                                          ]),
                                          _: 1
                                        }, 8, ["onFinish"])
                                      ]),
                                      _: 1
                                    }, 8, ["title"])
                                  ]),
                                  _: 1
                                }, 8, ["tab"]),
                                createVNode(_component_a_tab_pane, {
                                  key: "qa",
                                  tab: t("Q&A")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_card, {
                                      size: "small",
                                      title: t("Questions & Answers"),
                                      class: "mt-2"
                                    }, {
                                      default: withCtx(() => [
                                        (openBlock(true), createBlock(Fragment, null, renderList(_ctx.qaForCurrent, (c) => {
                                          return openBlock(), createBlock(_component_a_comment, {
                                            key: c.id,
                                            author: c.author,
                                            content: c.text,
                                            datetime: c.when
                                          }, {
                                            avatar: withCtx(() => [
                                              createVNode(_component_a_avatar, {
                                                src: c.avatar
                                              }, null, 8, ["src"])
                                            ]),
                                            _: 2
                                          }, 1032, ["author", "content", "datetime"]);
                                        }), 128)),
                                        createVNode(_component_a_divider),
                                        createVNode(_component_a_input_textarea, {
                                          value: qaDraft.value,
                                          "onUpdate:value": ($event) => qaDraft.value = $event,
                                          rows: 3,
                                          placeholder: t("Ask a question"),
                                          "data-test-id": "qa-input"
                                        }, null, 8, ["value", "onUpdate:value", "placeholder"]),
                                        createVNode(_component_a_space, { class: "mt-1" }, {
                                          default: withCtx(() => [
                                            createVNode(_component_a_button, {
                                              size: "small",
                                              onClick: _ctx.submitQA,
                                              disabled: !qaDraft.value.trim()
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Post")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick", "disabled"]),
                                            createVNode(_component_a_button, {
                                              size: "small",
                                              onClick: ($event) => qaDraft.value = ""
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t("Clear")), 1)
                                              ]),
                                              _: 1
                                            }, 8, ["onClick"])
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }, 8, ["title"])
                                  ]),
                                  _: 1
                                }, 8, ["tab"]),
                                createVNode(_component_a_tab_pane, {
                                  key: "bookmarks",
                                  tab: t("Bookmarks")
                                }, {
                                  default: withCtx(() => [
                                    createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                      default: withCtx(() => [
                                        createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                          default: withCtx(() => [
                                            createTextVNode("Students")
                                          ]),
                                          _: 1
                                        }),
                                        createVNode(_component_a_breadcrumb_item, null, {
                                          default: withCtx(() => [
                                            createTextVNode("Modules")
                                          ]),
                                          _: 1
                                        })
                                      ]),
                                      _: 1
                                    }),
                                    createVNode(_component_a_card, {
                                      size: "small",
                                      title: t("Bookmarks"),
                                      class: "mt-2"
                                    }, {
                                      default: withCtx(() => [
                                        !bookmarks.length ? (openBlock(), createBlock(_component_a_empty, {
                                          key: 0,
                                          description: t("No bookmarks yet")
                                        }, null, 8, ["description"])) : (openBlock(), createBlock(_component_a_list, {
                                          key: 1,
                                          "data-source": bookmarks,
                                          size: "small"
                                        }, {
                                          renderItem: withCtx(({ item, index }) => [
                                            createVNode(_component_a_list_item, {
                                              actions: [
                                                h("a", { onClick: () => _ctx.jumpToBookmark(item) }, t("Go")),
                                                h("a", { onClick: () => _ctx.removeBookmark(index) }, t("Remove"))
                                              ]
                                            }, {
                                              default: withCtx(() => [
                                                createVNode(_component_a_list_item_meta, {
                                                  title: item.title,
                                                  description: item.description
                                                }, null, 8, ["title", "description"])
                                              ]),
                                              _: 2
                                            }, 1032, ["actions"])
                                          ]),
                                          _: 1
                                        }, 8, ["data-source"]))
                                      ]),
                                      _: 1
                                    }, 8, ["title"])
                                  ]),
                                  _: 1
                                }, 8, ["tab"])
                              ]),
                              _: 1
                            }, 8, ["activeKey", "onUpdate:activeKey"])
                          ])
                        ]),
                        _: 1
                      }, 8, ["collapsed", "onUpdate:collapsed"])
                    ]),
                    _: 1
                  }),
                  createVNode(_component_a_drawer, {
                    open: submitOpen.value,
                    "onUpdate:open": ($event) => submitOpen.value = $event,
                    title: t("Submit assignment"),
                    placement: "right",
                    width: "420",
                    "data-test-id": "submit-drawer"
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_a_form, {
                        layout: "vertical",
                        onFinish: _ctx.submitAssignment
                      }, {
                        default: withCtx(() => [
                          createVNode(_component_a_form_item, {
                            label: t("Notes")
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_textarea, {
                                value: submitForm.notes,
                                "onUpdate:value": ($event) => submitForm.notes = $event,
                                rows: 4
                              }, null, 8, ["value", "onUpdate:value"])
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_form_item, {
                            label: t("Link to work (URL)")
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_input, {
                                value: submitForm.url,
                                "onUpdate:value": ($event) => submitForm.url = $event,
                                placeholder: "https://…"
                              }, null, 8, ["value", "onUpdate:value"])
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_form_item, {
                            label: t("Attach files (mock)")
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_upload, {
                                "before-upload": () => false,
                                multiple: ""
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_button, null, {
                                    default: withCtx(() => [
                                      createVNode(unref(UploadOutlined)),
                                      createTextVNode(" " + toDisplayString(t("Click to attach")), 1)
                                    ]),
                                    _: 1
                                  })
                                ]),
                                _: 1
                              })
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_space, null, {
                            default: withCtx(() => [
                              createVNode(_component_a_button, {
                                onClick: ($event) => submitOpen.value = false
                              }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t("Cancel")), 1)
                                ]),
                                _: 1
                              }, 8, ["onClick"]),
                              createVNode(_component_a_button, {
                                type: "primary",
                                "html-type": "submit",
                                loading: submitting.value
                              }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t("Submit")), 1)
                                ]),
                                _: 1
                              }, 8, ["loading"])
                            ]),
                            _: 1
                          })
                        ]),
                        _: 1
                      }, 8, ["onFinish"])
                    ]),
                    _: 1
                  }, 8, ["open", "onUpdate:open", "title"]),
                  createVNode(_component_a_modal, {
                    open: openImportExport.value,
                    "onUpdate:open": ($event) => openImportExport.value = $event,
                    title: t("Import / Export progress"),
                    footer: null,
                    width: "720"
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_a_row, { gutter: 16 }, {
                        default: withCtx(() => [
                          createVNode(_component_a_col, { span: 12 }, {
                            default: withCtx(() => [
                              createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                    default: withCtx(() => [
                                      createTextVNode("Students")
                                    ]),
                                    _: 1
                                  }),
                                  createVNode(_component_a_breadcrumb_item, null, {
                                    default: withCtx(() => [
                                      createTextVNode("Modules")
                                    ]),
                                    _: 1
                                  })
                                ]),
                                _: 1
                              }),
                              createVNode(_component_a_card, {
                                title: t("Export"),
                                size: "small"
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_typography_paragraph, null, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(t("Download your progress as JSON.")), 1)
                                    ]),
                                    _: 1
                                  }),
                                  createVNode(_component_a_button, {
                                    type: "primary",
                                    onClick: _ctx.exportProgress
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(t("Export JSON")), 1)
                                    ]),
                                    _: 1
                                  }, 8, ["onClick"])
                                ]),
                                _: 1
                              }, 8, ["title"])
                            ]),
                            _: 1
                          }),
                          createVNode(_component_a_col, { span: 12 }, {
                            default: withCtx(() => [
                              createVNode(_component_a_breadcrumb, { class: "mb-3" }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_breadcrumb_item, { to: "/students" }, {
                                    default: withCtx(() => [
                                      createTextVNode("Students")
                                    ]),
                                    _: 1
                                  }),
                                  createVNode(_component_a_breadcrumb_item, null, {
                                    default: withCtx(() => [
                                      createTextVNode("Modules")
                                    ]),
                                    _: 1
                                  })
                                ]),
                                _: 1
                              }),
                              createVNode(_component_a_card, {
                                title: t("Import"),
                                size: "small"
                              }, {
                                default: withCtx(() => [
                                  createVNode(_component_a_typography_paragraph, null, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(t("Paste JSON below and import.")), 1)
                                    ]),
                                    _: 1
                                  }),
                                  createVNode(_component_a_textarea, {
                                    value: importJson.value,
                                    "onUpdate:value": ($event) => importJson.value = $event,
                                    rows: 8
                                  }, null, 8, ["value", "onUpdate:value"]),
                                  createVNode(_component_a_space, { class: "mt-1" }, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_button, {
                                        onClick: ($event) => importJson.value = ""
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Clear")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"]),
                                      createVNode(_component_a_button, {
                                        type: "primary",
                                        onClick: _ctx.importProgress
                                      }, {
                                        default: withCtx(() => [
                                          createTextVNode(toDisplayString(t("Import")), 1)
                                        ]),
                                        _: 1
                                      }, 8, ["onClick"])
                                    ]),
                                    _: 1
                                  })
                                ]),
                                _: 1
                              }, 8, ["title"])
                            ]),
                            _: 1
                          })
                        ]),
                        _: 1
                      })
                    ]),
                    _: 1
                  }, 8, ["open", "onUpdate:open", "title"]),
                  createVNode(_component_a_modal, {
                    open: openShortcuts.value,
                    "onUpdate:open": ($event) => openShortcuts.value = $event,
                    title: t("Keyboard shortcuts"),
                    footer: null,
                    width: "520"
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_a_descriptions, {
                        bordered: "",
                        size: "small",
                        column: 1
                      }, {
                        default: withCtx(() => [
                          createVNode(_component_a_descriptions_item, {
                            label: t("Next lesson")
                          }, {
                            default: withCtx(() => [
                              createTextVNode("N")
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_descriptions_item, {
                            label: t("Previous lesson")
                          }, {
                            default: withCtx(() => [
                              createTextVNode("P")
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_descriptions_item, {
                            label: t("Toggle complete")
                          }, {
                            default: withCtx(() => [
                              createTextVNode("C")
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_descriptions_item, {
                            label: t("Resume last")
                          }, {
                            default: withCtx(() => [
                              createTextVNode("R")
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_descriptions_item, {
                            label: t("Search lessons")
                          }, {
                            default: withCtx(() => [
                              createTextVNode("/")
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_descriptions_item, {
                            label: t("Toggle dark")
                          }, {
                            default: withCtx(() => [
                              createTextVNode("D")
                            ]),
                            _: 1
                          }, 8, ["label"])
                        ]),
                        _: 1
                      })
                    ]),
                    _: 1
                  }, 8, ["open", "onUpdate:open", "title"]),
                  createVNode(_component_a_modal, {
                    open: openPricing.value,
                    "onUpdate:open": ($event) => openPricing.value = $event,
                    title: t("Pricing"),
                    "ok-text": t("Enroll"),
                    onOk: _ctx.mockEnroll
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_a_radio_group, {
                        value: pricingTier.value,
                        "onUpdate:value": ($event) => pricingTier.value = $event
                      }, {
                        default: withCtx(() => [
                          createVNode(_component_a_radio, { value: "basic" }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t("Basic · Free preview")), 1)
                            ]),
                            _: 1
                          }),
                          createVNode(_component_a_radio, { value: "pro" }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t("Pro · Full course + certificate")), 1)
                            ]),
                            _: 1
                          }),
                          createVNode(_component_a_radio, { value: "team" }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t("Team · Up to 10 seats")), 1)
                            ]),
                            _: 1
                          })
                        ]),
                        _: 1
                      }, 8, ["value", "onUpdate:value"])
                    ]),
                    _: 1
                  }, 8, ["open", "onUpdate:open", "title", "ok-text", "onOk"]),
                  createVNode(_component_a_drawer, {
                    open: openDebug.value,
                    "onUpdate:open": ($event) => openDebug.value = $event,
                    title: t("Debug & mocks"),
                    placement: "left",
                    width: "420"
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_a_form, { layout: "vertical" }, {
                        default: withCtx(() => [
                          createVNode(_component_a_form_item, {
                            label: t("Force mock mode")
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_switch, {
                                checked: forceMock.value,
                                "onUpdate:checked": ($event) => forceMock.value = $event
                              }, null, 8, ["checked", "onUpdate:checked"])
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_form_item, {
                            label: t("Clear local data")
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_button, {
                                danger: "",
                                onClick: _ctx.clearLocal
                              }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t("Clear")), 1)
                                ]),
                                _: 1
                              }, 8, ["onClick"])
                            ]),
                            _: 1
                          }, 8, ["label"]),
                          createVNode(_component_a_form_item, {
                            label: t("Telemetry (session)")
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_list, {
                                "data-source": telemetry,
                                size: "small",
                                "item-layout": "horizontal"
                              }, {
                                renderItem: withCtx(({ item }) => [
                                  createVNode(_component_a_list_item, null, {
                                    default: withCtx(() => [
                                      createVNode(_component_a_list_item_meta, {
                                        title: item.when,
                                        description: item.what
                                      }, null, 8, ["title", "description"])
                                    ]),
                                    _: 2
                                  }, 1024)
                                ]),
                                _: 1
                              }, 8, ["data-source"])
                            ]),
                            _: 1
                          }, 8, ["label"])
                        ]),
                        _: 1
                      })
                    ]),
                    _: 1
                  }, 8, ["open", "onUpdate:open", "title"])
                ]),
                _: 1
              }, 8, ["class"])
            ];
          }
        }),
        _: 1
      }, _parent));
    };
  }
});
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("../../plugins/students-internal/nuxt/pages/module-listing.vue");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const moduleListing = /* @__PURE__ */ _export_sfc(_sfc_main, [["__scopeId", "data-v-6d06c401"]]);

export { moduleListing as default };
//# sourceMappingURL=module-listing-DNX5OgiS.mjs.map
